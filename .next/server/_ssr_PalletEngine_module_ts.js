"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_PalletEngine_module_ts";
exports.ids = ["_ssr_PalletEngine_module_ts"];
exports.modules = {

/***/ "(ssr)/./PalletEngine/module.ts":
/*!********************************!*\
  !*** ./PalletEngine/module.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Command: () => (/* binding */ Command),\n/* harmony export */   PalletEngine: () => (/* binding */ PalletEngine),\n/* harmony export */   Renderer: () => (/* binding */ Renderer),\n/* harmony export */   Scene: () => (/* binding */ Scene),\n/* harmony export */   _module: () => (/* binding */ _module)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"(ssr)/./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"(ssr)/./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/controls/TransformControls */ \"(ssr)/./node_modules/three/examples/jsm/controls/TransformControls.js\");\n/* harmony import */ var three_mesh_bvh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three-mesh-bvh */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtensionUtilities.js\");\n\n\n\n\n\nlet _useWebGPU = false;\nlet _pointer = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n// replace extension functions\nthree__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry.prototype.computeBoundsTree = three_mesh_bvh__WEBPACK_IMPORTED_MODULE_1__.computeBoundsTree;\nthree__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry.prototype.disposeBoundsTree = three_mesh_bvh__WEBPACK_IMPORTED_MODULE_1__.disposeBoundsTree;\nthree__WEBPACK_IMPORTED_MODULE_0__.Mesh.prototype.raycast = three_mesh_bvh__WEBPACK_IMPORTED_MODULE_1__.acceleratedRaycast;\nvar PowerPreference;\n(function(PowerPreference) {\n    PowerPreference[\"HighPerformance\"] = \"high-performance\";\n    PowerPreference[\"LowPower\"] = \"low-power\";\n    PowerPreference[\"Default\"] = \"default\";\n})(PowerPreference || (PowerPreference = {}));\nfunction findParentByType(object, type) {\n    if (object.parent instanceof type) {\n        return object.parent; // 부모 요소가 해당 타입인 경우 반환\n    } else if (object.parent !== null) {\n        return findParentByType(object.parent, type); // 타입이 아닌 경우 부모 요소로 재귀 호출\n    } else {\n        return null; // 최상위 부모 요소에 도달할 때까지 타입을 찾지 못한 경우\n    }\n}\nclass Command {\n    constructor(){}\n}\nclass InteractionController {\n    constructor(option){\n        this.raycaster = new three__WEBPACK_IMPORTED_MODULE_0__.Raycaster();\n    }\n    drawHelper() {}\n    connectEvent() {}\n    getViewportPos(x, y, target = undefined) {\n        _pointer.x = x / window.innerWidth * 2 - 1;\n        _pointer.y = -(y / window.innerHeight) * 2 + 1;\n        if (target) target.copy(_pointer);\n        return _pointer;\n    }\n}\nclass DesktopIRC extends InteractionController {\n    constructor(){\n        super({});\n    }\n    drawHelper() {}\n    connectEvent() {\n        document.addEventListener(\"mousedown\", (event)=>{\n            if (this.controls.axis) return;\n            this.raycaster.setFromCamera(this.getViewportPos(event.clientX, event.clientY), _module.camera);\n            const hits = this.raycaster.intersectObject(_module.sceneGraph, true);\n            this.onIntersection(hits);\n        });\n    }\n    onIntersection(hits) {\n        const hitMeshes = hits.filter((h)=>h.object.isMesh && !findParentByType(h.object, three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_2__.TransformControls));\n        if (hitMeshes.length > 0) {\n            this.controls.enabled = true;\n            const group = findParentByType(hitMeshes[0].object, three__WEBPACK_IMPORTED_MODULE_0__.Group);\n            if (group) {\n                this.controls.attach(group);\n            } else {\n                this.controls.attach(hitMeshes[0].object);\n            }\n        } else {\n            this.controls.detach();\n            this.controls.enabled = false;\n        }\n    }\n    createControls(camera, canvas) {\n        this.controls = new three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_2__.TransformControls(camera, canvas);\n        return this.controls;\n    }\n}\nclass VirtualRealityIRC extends InteractionController {\n    constructor(){\n        super({});\n    }\n}\nclass CommandQueue {\n    constructor(){\n        this.array = new Array();\n    }\n    isEmpty() {\n        return this.array.length > 0;\n    }\n    update() {\n        if (this.isEmpty()) {}\n    }\n}\nclass Scene {\n    constructor(){\n        this.root = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();\n        this.animationObjects = new three__WEBPACK_IMPORTED_MODULE_0__.Group();\n    }\n    defaultScene() {}\n}\nclass Renderer {\n    static{\n        this.renderer = null;\n    }\n    static{\n        this.canvas = null;\n    }\n    static{\n        this.option = {\n            alpha: true\n        };\n    }\n    static Get() {\n        if (!Renderer.renderer) {\n            Renderer.Create({});\n        }\n        return Renderer.renderer;\n    }\n    static Create(opt) {\n        Renderer.renderer = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderer(opt);\n        return Renderer.renderer;\n    }\n    static AnimationLoop(func) {}\n}\nclass PalletElement extends HTMLElement {\n    constructor(){\n        super();\n    }\n}\nclass PalletEngine extends PalletElement {\n    constructor(canvas){\n        super();\n        this.sceneGraph = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        this.directionalLight = new three__WEBPACK_IMPORTED_MODULE_0__.DirectionalLight(0xffffff, 10);\n        this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_0__.AmbientLight(0xfff8e8);\n        this.gltfLoader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__.GLTFLoader();\n        this.clock = new three__WEBPACK_IMPORTED_MODULE_0__.Clock();\n        this.controller = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__.OrbitControls(this.camera, canvas);\n        this.controller.enableDamping = true;\n        this.controller.dampingFactor = 0.1;\n        this.updateFunctions = new Array();\n        this.commandQueue = new CommandQueue();\n        this.irc = new DesktopIRC();\n        this.irc.connectEvent();\n        const transformer = this.irc.createControls(this.camera, canvas);\n        this.sceneGraph.add(transformer);\n        transformer.addEventListener(\"dragging-changed\", (event)=>{\n            this.controller.enabled = !event.value;\n        });\n        const renderer = Renderer.Create({\n            antialias: true,\n            canvas: canvas\n        });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setClearColor(0x3c3c3c);\n        renderer.setAnimationLoop(()=>{\n            const dt = this.clock.getDelta();\n            this.update(dt);\n        });\n        window.addEventListener(\"resize\", (event)=>{\n            this.camera.aspect = window.innerWidth / window.innerHeight;\n            this.camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n        this.createScene();\n    }\n    createScene() {\n        const gridHelper = new three__WEBPACK_IMPORTED_MODULE_0__.GridHelper(50, 50, 0x7c7c7c, 0x5f5f5f);\n        this.camera.position.set(0, 0, 5);\n        this.sceneGraph.add(gridHelper);\n        this.sceneGraph.add(this.directionalLight);\n        this.sceneGraph.add(this.ambientLight);\n        //create temporal object\n        const cube = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(1, 1, 1), new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n            color: 0xffdfba\n        }));\n        this.sceneGraph.add(cube);\n        this.updateFunctions.push((delta)=>{\n            cube.rotation.x += 0.01;\n            cube.rotation.y += 0.01;\n        });\n    }\n    createEnvironment() {}\n    loadGLTF(url, onload) {\n        this.gltfLoader.load(url, (gltf)=>{\n            onload(gltf);\n            this.sceneGraph.add(gltf.scene);\n        });\n    }\n    update(dt) {\n        this.updateFunctions.map((func)=>func(dt));\n        this.commandQueue.update();\n        this.controller.update();\n        Renderer.Get().render(this.sceneGraph, this.camera);\n    }\n    addUpdator(func) {\n        this.updateFunctions.push(func);\n    }\n    appendCommand() {}\n}\ncustomElements.define(\"pallet-element\", PalletElement);\ncustomElements.define(\"pallet-engine\", PalletEngine);\nlet canvasElements = document.getElementsByTagName(\"canvas\");\nlet _module;\nif (canvasElements.length > 0) {\n    const canvas = canvasElements[0];\n    _module = new PalletEngine(canvas);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9QYWxsZXRFbmdpbmUvbW9kdWxlLnRzPzZjMDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgKiBhcyBkYXQgZnJvbSAnZGF0Lmd1aSc7XHJcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcclxuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcclxuaW1wb3J0IHsgVHJhbnNmb3JtQ29udHJvbHMgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvVHJhbnNmb3JtQ29udHJvbHMnO1xyXG5pbXBvcnQgeyBjb21wdXRlQm91bmRzVHJlZSwgZGlzcG9zZUJvdW5kc1RyZWUsIGFjY2VsZXJhdGVkUmF5Y2FzdCB9IGZyb20gJ3RocmVlLW1lc2gtYnZoJztcclxuXHJcbmxldCBfdXNlV2ViR1BVIDogQm9vbGVhbiA9IGZhbHNlO1xyXG5sZXQgX3BvaW50ZXIgOiBUSFJFRS5WZWN0b3IyID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuXHJcbi8vIHJlcGxhY2UgZXh0ZW5zaW9uIGZ1bmN0aW9uc1xyXG5USFJFRS5CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29tcHV0ZUJvdW5kc1RyZWUgPSBjb21wdXRlQm91bmRzVHJlZTtcclxuVEhSRUUuQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmRpc3Bvc2VCb3VuZHNUcmVlID0gZGlzcG9zZUJvdW5kc1RyZWU7XHJcblRIUkVFLk1lc2gucHJvdG90eXBlLnJheWNhc3QgPSBhY2NlbGVyYXRlZFJheWNhc3Q7XHJcblxyXG5lbnVtIFBvd2VyUHJlZmVyZW5jZSB7IEhpZ2hQZXJmb3JtYW5jZSA9IFwiaGlnaC1wZXJmb3JtYW5jZVwiLCBMb3dQb3dlciA9IFwibG93LXBvd2VyXCIsIERlZmF1bHQgPSBcImRlZmF1bHRcIiB9O1xyXG5cclxuZnVuY3Rpb24gZmluZFBhcmVudEJ5VHlwZSggb2JqZWN0ICwgdHlwZSApIHtcclxuICAgIGlmIChvYmplY3QucGFyZW50IGluc3RhbmNlb2YgdHlwZSApIHtcclxuICAgICAgICByZXR1cm4gb2JqZWN0LnBhcmVudDsgLy8g67aA66qoIOyalOyGjOqwgCDtlbTri7kg7YOA7J6F7J24IOqyveyasCDrsJjtmZhcclxuICAgIH0gZWxzZSBpZiAob2JqZWN0LnBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmaW5kUGFyZW50QnlUeXBlKG9iamVjdC5wYXJlbnQsIHR5cGUgKTsgLy8g7YOA7J6F7J20IOyVhOuLjCDqsr3smrAg67aA66qoIOyalOyGjOuhnCDsnqzqt4Ag7Zi47LacXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudWxsOyAvLyDstZzsg4HsnIQg67aA66qoIOyalOyGjOyXkCDrj4Tri6ztlaAg65WM6rmM7KeAIO2DgOyeheydhCDssL7sp4Ag66q77ZWcIOqyveyasFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSZW5kZXJPcHRpb25zID0ge1xyXG4gICAgY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAgICBjb250ZXh0IDogUmVuZGVyaW5nQ29udGV4dCxcclxuICAgIGFscGhhIDogYm9vbGVhbixcclxuICAgIHByZWNpc2lvbiA6IHN0cmluZyxcclxuICAgIHByZW11bHRpcGxpZWRBbHBoYSA6IGJvb2xlYW4sXHJcbiAgICBhbnRpYWxpYXMgOiBib29sZWFuLFxyXG4gICAgbG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciA6IGJvb2xlYW4sXHJcbiAgICBkZXB0aCA6IGJvb2xlYW4sXHJcbiAgICBzdGVuY2lsIDogYm9vbGVhbixcclxuICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlciA6IGJvb2xlYW4sXHJcbiAgICBwb3dlclByZWZlcmVuY2UgOiBQb3dlclByZWZlcmVuY2VcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG4gICAgY29tbWFuZCA6IHN0cmluZztcclxuICAgIHBhcmFtZXRlciA6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSW50ZXJhY3Rpb25Db250cm9sbGVyIHtcclxuICAgIHJheWNhc3RlciA6IFRIUkVFLlJheWNhc3RlcjtcclxuICAgIGNvbnN0cnVjdG9yKCBvcHRpb24gOiBPYmplY3QgKSB7XHJcbiAgICAgICAgdGhpcy5yYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XHJcbiAgICB9ICAgIFxyXG4gICAgZHJhd0hlbHBlcigpIHt9XHJcbiAgICBjb25uZWN0RXZlbnQoKSB7fVxyXG4gICAgZ2V0Vmlld3BvcnRQb3MoIHggOiBudW1iZXIsIHkgOiBudW1iZXIsIHRhcmdldCA6IFRIUkVFLlZlY3RvcjIgPSB1bmRlZmluZWQgKSA6IFRIUkVFLlZlY3RvcjIge1xyXG4gICAgICAgIF9wb2ludGVyLnggPSAoIHggLyB3aW5kb3cuaW5uZXJXaWR0aCApICogMiAtIDE7XHJcbiAgICAgICAgX3BvaW50ZXIueSA9IC0gKCB5IC8gd2luZG93LmlubmVySGVpZ2h0ICkgKiAyICsgMTtcclxuICAgICAgICBpZiAoIHRhcmdldCApIHRhcmdldC5jb3B5KCBfcG9pbnRlciApO1xyXG4gICAgICAgIHJldHVybiBfcG9pbnRlcjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRGVza3RvcElSQyBleHRlbmRzIEludGVyYWN0aW9uQ29udHJvbGxlciB7XHJcbiAgICBjb250cm9scyA6IFRyYW5zZm9ybUNvbnRyb2xzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHt9KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3SGVscGVyKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0RXZlbnQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgaWYgKCB0aGlzLmNvbnRyb2xzLmF4aXMgKSByZXR1cm5cclxuICAgICAgICAgICAgdGhpcy5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSggdGhpcy5nZXRWaWV3cG9ydFBvcyggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApLCBfbW9kdWxlLmNhbWVyYSApO1xyXG4gICAgICAgICAgICBjb25zdCBoaXRzID0gdGhpcy5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0KCBfbW9kdWxlLnNjZW5lR3JhcGgsIHRydWUgKTtcclxuICAgICAgICAgICAgdGhpcy5vbkludGVyc2VjdGlvbiggaGl0cyApO1xyXG4gICAgICAgIH0gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25JbnRlcnNlY3Rpb24oIGhpdHMgOiBBcnJheTxhbnk+ICkge1xyXG4gICAgICAgIGNvbnN0IGhpdE1lc2hlcyA9IGhpdHMuZmlsdGVyKCBoID0+IGgub2JqZWN0LmlzTWVzaCAmJiAhICggZmluZFBhcmVudEJ5VHlwZSggaC5vYmplY3QsIFRyYW5zZm9ybUNvbnRyb2xzICkgKSApO1xyXG5cclxuICAgICAgICBpZiAoIGhpdE1lc2hlcy5sZW5ndGggPiAwICkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGZpbmRQYXJlbnRCeVR5cGUoIGhpdE1lc2hlc1sgMCBdLm9iamVjdCwgVEhSRUUuR3JvdXAgKTtcclxuICAgICAgICAgICAgaWYgKCBncm91cCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHMuYXR0YWNoKCBncm91cCApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9scy5hdHRhY2goIGhpdE1lc2hlc1swXS5vYmplY3QgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xzLmRldGFjaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29udHJvbHMoIGNhbWVyYSwgY2FudmFzICkgOiBUcmFuc2Zvcm1Db250cm9scyB7XHJcbiAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBUcmFuc2Zvcm1Db250cm9scyggY2FtZXJhLCBjYW52YXMgKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9scztcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVmlydHVhbFJlYWxpdHlJUkMgZXh0ZW5kcyBJbnRlcmFjdGlvbkNvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoIHt9ICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbW1hbmRRdWV1ZSB7IFxyXG4gICAgYXJyYXkgOiBBcnJheTxDb21tYW5kPjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBBcnJheTxDb21tYW5kPigpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRW1wdHkoKSA6IEJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCB0aGlzLmlzRW1wdHkoKSApIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2NlbmUge1xyXG5cclxuICAgIHJvb3QgOiBUSFJFRS5TY2VuZTtcclxuICAgIGFuaW1hdGlvbk9iamVjdHMgOiBUSFJFRS5Hcm91cDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJvb3QgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbk9iamVjdHMgPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWZhdWx0U2NlbmUoKSB7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xyXG4gICAgc3RhdGljIHJlbmRlcmVyIDogVEhSRUUuV2ViR0xSZW5kZXJlciA9IG51bGw7XHJcbiAgICBzdGF0aWMgY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQgPSBudWxsO1xyXG4gICAgc3RhdGljIG9wdGlvbiA6IFJlbmRlck9wdGlvbnMgPSB7IGFscGhhOiB0cnVlIH0gYXMgUmVuZGVyT3B0aW9ucztcclxuICAgIHN0YXRpYyBHZXQoKSB7XHJcbiAgICAgICAgaWYgKCAhIFJlbmRlcmVyLnJlbmRlcmVyICkge1xyXG4gICAgICAgICAgICBSZW5kZXJlci5DcmVhdGUoIHt9IGFzIFJlbmRlck9wdGlvbnMgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmVyLnJlbmRlcmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBDcmVhdGUoIG9wdCA6IFJlbmRlck9wdGlvbnMgKSA6IFRIUkVFLldlYkdMUmVuZGVyZXIge1xyXG4gICAgICAgIFJlbmRlcmVyLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoIG9wdCApO1xyXG4gICAgICAgIHJldHVybiBSZW5kZXJlci5yZW5kZXJlcjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQW5pbWF0aW9uTG9vcCggZnVuYyA6IEZ1bmN0aW9uICkge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQYWxsZXRFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQgeyAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQYWxsZXRFbmdpbmUgZXh0ZW5kcyBQYWxsZXRFbGVtZW50IHtcclxuICAgIFxyXG4gICAgc2NlbmVHcmFwaCA6IFRIUkVFLlNjZW5lO1xyXG4gICAgY2FtZXJhIDogVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmE7XHJcbiAgICBkaXJlY3Rpb25hbExpZ2h0IDogVEhSRUUuRGlyZWN0aW9uYWxMaWdodDtcclxuICAgIGFtYmllbnRMaWdodCA6IFRIUkVFLkFtYmllbnRMaWdodDtcclxuICAgIGdsdGZMb2FkZXIgOiBHTFRGTG9hZGVyO1xyXG4gICAgY2xvY2sgOiBUSFJFRS5DbG9jaztcclxuICAgIGNvbnRyb2xsZXIgOiBPcmJpdENvbnRyb2xzO1xyXG4gICAgdXBkYXRlRnVuY3Rpb25zIDogQXJyYXk8RnVuY3Rpb24+O1xyXG4gICAgY29tbWFuZFF1ZXVlIDogQ29tbWFuZFF1ZXVlO1xyXG4gICAgaXJjIDogSW50ZXJhY3Rpb25Db250cm9sbGVyO1xyXG4gICAgICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKCBjYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudCApIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2NlbmVHcmFwaCA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKCA3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMCApO1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCAweGZmZmZmZiwgMTAgKTtcclxuICAgICAgICB0aGlzLmFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoIDB4ZmZmOGU4ICk7XHJcbiAgICAgICAgdGhpcy5nbHRmTG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTtcclxuICAgICAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IE9yYml0Q29udHJvbHMoIHRoaXMuY2FtZXJhLCBjYW52YXMgKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuZW5hYmxlRGFtcGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmRhbXBpbmdGYWN0b3IgPSAwLjE7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMgPSBuZXcgQXJyYXk8RnVuY3Rpb24+KCk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUXVldWUgPSBuZXcgQ29tbWFuZFF1ZXVlKCk7XHJcbiAgICAgICAgdGhpcy5pcmMgPSBuZXcgRGVza3RvcElSQygpO1xyXG4gICAgICAgIHRoaXMuaXJjLmNvbm5lY3RFdmVudCgpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gKCB0aGlzLmlyYyBhcyBEZXNrdG9wSVJDICkuY3JlYXRlQ29udHJvbHMoIHRoaXMuY2FtZXJhLCBjYW52YXMgKTtcclxuICAgICAgICB0aGlzLnNjZW5lR3JhcGguYWRkKCB0cmFuc2Zvcm1lciApO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyLmFkZEV2ZW50TGlzdGVuZXIoICdkcmFnZ2luZy1jaGFuZ2VkJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuZW5hYmxlZCA9ICEgZXZlbnQudmFsdWU7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IFJlbmRlcmVyLkNyZWF0ZSggeyBhbnRpYWxpYXM6IHRydWUsIGNhbnZhczogY2FudmFzIH0gYXMgUmVuZGVyT3B0aW9ucyApO1xyXG4gICAgICAgIHJlbmRlcmVyLnNldFNpemUoIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgKTtcclxuICAgICAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKCAweDNjM2MzYyApO1xyXG4gICAgICAgIHJlbmRlcmVyLnNldEFuaW1hdGlvbkxvb3AoICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZHQgPSB0aGlzLmNsb2NrLmdldERlbHRhKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCBkdCApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgICAgICAgICByZW5kZXJlci5zZXRTaXplKCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0ICk7XHJcbiAgICAgICAgfSApXHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlU2NlbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVTY2VuZSgpIHtcclxuICAgICAgICBjb25zdCBncmlkSGVscGVyIDogVEhSRUUuR3JpZEhlbHBlciA9IG5ldyBUSFJFRS5HcmlkSGVscGVyKCA1MCwgNTAsIDB4N2M3YzdjLCAweDVmNWY1ZiApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCggMCwgMCwgNSApO1xyXG4gICAgICAgIHRoaXMuc2NlbmVHcmFwaC5hZGQoIGdyaWRIZWxwZXIgKTtcclxuICAgICAgICB0aGlzLnNjZW5lR3JhcGguYWRkKCB0aGlzLmRpcmVjdGlvbmFsTGlnaHQgKTtcclxuICAgICAgICB0aGlzLnNjZW5lR3JhcGguYWRkKCB0aGlzLmFtYmllbnRMaWdodCApO1xyXG5cclxuICAgICAgICAvL2NyZWF0ZSB0ZW1wb3JhbCBvYmplY3RcclxuXHJcbiAgICAgICAgY29uc3QgY3ViZSA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQm94R2VvbWV0cnkoIDEsIDEsIDEgKSwgbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKCB7IGNvbG9yOiAweGZmZGZiYSB9ICkgKTtcclxuICAgICAgICB0aGlzLnNjZW5lR3JhcGguYWRkKCBjdWJlICk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goICggZGVsdGEgKSA9PiB7IFxyXG4gICAgICAgICAgICBjdWJlLnJvdGF0aW9uLnggKz0gMC4wMTtcclxuICAgICAgICAgICAgY3ViZS5yb3RhdGlvbi55ICs9IDAuMDE7XHJcbiAgICAgICAgfSApXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlRW52aXJvbm1lbnQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxvYWRHTFRGKCB1cmwgOiBzdHJpbmcsIG9ubG9hZCA6IEZ1bmN0aW9uICkge1xyXG4gICAgICAgIHRoaXMuZ2x0ZkxvYWRlci5sb2FkKCB1cmwgLCBnbHRmID0+IHtcclxuICAgICAgICAgICAgb25sb2FkKCBnbHRmICk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVHcmFwaC5hZGQoIGdsdGYuc2NlbmUgKTtcclxuICAgICAgICB9LCAvKiBvblByb2dyZXNzLCBvbkVycm9yICovICk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCBkdCA6IE51bWJlciApIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5tYXAoIGZ1bmMgPT4gZnVuYyggZHQgKSApO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFF1ZXVlLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIudXBkYXRlKCk7XHJcbiAgICAgICAgUmVuZGVyZXIuR2V0KCkucmVuZGVyKCB0aGlzLnNjZW5lR3JhcGgsIHRoaXMuY2FtZXJhICk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkVXBkYXRvciggZnVuYyA6IEZ1bmN0aW9uICkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goIGZ1bmMgKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRDb21tYW5kKCkge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCAncGFsbGV0LWVsZW1lbnQnLCBQYWxsZXRFbGVtZW50ICk7XHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSggJ3BhbGxldC1lbmdpbmUnLCBQYWxsZXRFbmdpbmUgKTtcclxuXHJcblxyXG5sZXQgY2FudmFzRWxlbWVudHMgOiBIVE1MQ29sbGVjdGlvbk9mPEhUTUxDYW52YXNFbGVtZW50PiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnICk7XHJcbmV4cG9ydCBsZXQgX21vZHVsZSA6IFBhbGxldEVuZ2luZTtcclxuXHJcbmlmICggY2FudmFzRWxlbWVudHMubGVuZ3RoID4gMCApIHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc0VsZW1lbnRzWyAwIF07XHJcbiAgICBfbW9kdWxlID0gbmV3IFBhbGxldEVuZ2luZSggY2FudmFzICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRIUkVFIiwiR0xURkxvYWRlciIsIk9yYml0Q29udHJvbHMiLCJUcmFuc2Zvcm1Db250cm9scyIsImNvbXB1dGVCb3VuZHNUcmVlIiwiZGlzcG9zZUJvdW5kc1RyZWUiLCJhY2NlbGVyYXRlZFJheWNhc3QiLCJfdXNlV2ViR1BVIiwiX3BvaW50ZXIiLCJWZWN0b3IyIiwiQnVmZmVyR2VvbWV0cnkiLCJwcm90b3R5cGUiLCJNZXNoIiwicmF5Y2FzdCIsIlBvd2VyUHJlZmVyZW5jZSIsImZpbmRQYXJlbnRCeVR5cGUiLCJvYmplY3QiLCJ0eXBlIiwicGFyZW50IiwiQ29tbWFuZCIsImNvbnN0cnVjdG9yIiwiSW50ZXJhY3Rpb25Db250cm9sbGVyIiwib3B0aW9uIiwicmF5Y2FzdGVyIiwiUmF5Y2FzdGVyIiwiZHJhd0hlbHBlciIsImNvbm5lY3RFdmVudCIsImdldFZpZXdwb3J0UG9zIiwieCIsInkiLCJ0YXJnZXQiLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjb3B5IiwiRGVza3RvcElSQyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY29udHJvbHMiLCJheGlzIiwic2V0RnJvbUNhbWVyYSIsImNsaWVudFgiLCJjbGllbnRZIiwiX21vZHVsZSIsImNhbWVyYSIsImhpdHMiLCJpbnRlcnNlY3RPYmplY3QiLCJzY2VuZUdyYXBoIiwib25JbnRlcnNlY3Rpb24iLCJoaXRNZXNoZXMiLCJmaWx0ZXIiLCJoIiwiaXNNZXNoIiwibGVuZ3RoIiwiZW5hYmxlZCIsImdyb3VwIiwiR3JvdXAiLCJhdHRhY2giLCJkZXRhY2giLCJjcmVhdGVDb250cm9scyIsImNhbnZhcyIsIlZpcnR1YWxSZWFsaXR5SVJDIiwiQ29tbWFuZFF1ZXVlIiwiYXJyYXkiLCJBcnJheSIsImlzRW1wdHkiLCJ1cGRhdGUiLCJTY2VuZSIsInJvb3QiLCJhbmltYXRpb25PYmplY3RzIiwiZGVmYXVsdFNjZW5lIiwiUmVuZGVyZXIiLCJyZW5kZXJlciIsImFscGhhIiwiR2V0IiwiQ3JlYXRlIiwib3B0IiwiV2ViR0xSZW5kZXJlciIsIkFuaW1hdGlvbkxvb3AiLCJmdW5jIiwiUGFsbGV0RWxlbWVudCIsIkhUTUxFbGVtZW50IiwiUGFsbGV0RW5naW5lIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJkaXJlY3Rpb25hbExpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsImFtYmllbnRMaWdodCIsIkFtYmllbnRMaWdodCIsImdsdGZMb2FkZXIiLCJjbG9jayIsIkNsb2NrIiwiY29udHJvbGxlciIsImVuYWJsZURhbXBpbmciLCJkYW1waW5nRmFjdG9yIiwidXBkYXRlRnVuY3Rpb25zIiwiY29tbWFuZFF1ZXVlIiwiaXJjIiwidHJhbnNmb3JtZXIiLCJhZGQiLCJ2YWx1ZSIsImFudGlhbGlhcyIsInNldFNpemUiLCJzZXRDbGVhckNvbG9yIiwic2V0QW5pbWF0aW9uTG9vcCIsImR0IiwiZ2V0RGVsdGEiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiY3JlYXRlU2NlbmUiLCJncmlkSGVscGVyIiwiR3JpZEhlbHBlciIsInBvc2l0aW9uIiwic2V0IiwiY3ViZSIsIkJveEdlb21ldHJ5IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJjb2xvciIsInB1c2giLCJkZWx0YSIsInJvdGF0aW9uIiwiY3JlYXRlRW52aXJvbm1lbnQiLCJsb2FkR0xURiIsInVybCIsIm9ubG9hZCIsImxvYWQiLCJnbHRmIiwic2NlbmUiLCJtYXAiLCJyZW5kZXIiLCJhZGRVcGRhdG9yIiwiYXBwZW5kQ29tbWFuZCIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiY2FudmFzRWxlbWVudHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./PalletEngine/module.ts\n");

/***/ })

};
;
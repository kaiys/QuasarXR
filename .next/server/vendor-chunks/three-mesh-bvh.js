"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/three-mesh-bvh";
exports.ids = ["vendor-chunks/three-mesh-bvh"];
exports.modules = {

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js":
/*!***********************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/Constants.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AVERAGE: () => (/* binding */ AVERAGE),\n/* harmony export */   BYTES_PER_NODE: () => (/* binding */ BYTES_PER_NODE),\n/* harmony export */   CENTER: () => (/* binding */ CENTER),\n/* harmony export */   CONTAINED: () => (/* binding */ CONTAINED),\n/* harmony export */   FLOAT32_EPSILON: () => (/* binding */ FLOAT32_EPSILON),\n/* harmony export */   INTERSECTED: () => (/* binding */ INTERSECTED),\n/* harmony export */   IS_LEAFNODE_FLAG: () => (/* binding */ IS_LEAFNODE_FLAG),\n/* harmony export */   NOT_INTERSECTED: () => (/* binding */ NOT_INTERSECTED),\n/* harmony export */   SAH: () => (/* binding */ SAH),\n/* harmony export */   SKIP_GENERATION: () => (/* binding */ SKIP_GENERATION),\n/* harmony export */   TRAVERSAL_COST: () => (/* binding */ TRAVERSAL_COST),\n/* harmony export */   TRIANGLE_INTERSECT_COST: () => (/* binding */ TRIANGLE_INTERSECT_COST)\n/* harmony export */ });\n// Split strategy constants\nconst CENTER = 0;\nconst AVERAGE = 1;\nconst SAH = 2;\n// Traversal constants\nconst NOT_INTERSECTED = 0;\nconst INTERSECTED = 1;\nconst CONTAINED = 2;\n// SAH cost constants\n// TODO: hone these costs more. The relative difference between them should be the\n// difference in measured time to perform a triangle intersection vs traversing\n// bounds.\nconst TRIANGLE_INTERSECT_COST = 1.25;\nconst TRAVERSAL_COST = 1;\n// Build constants\nconst BYTES_PER_NODE = 6 * 4 + 4 + 4;\nconst IS_LEAFNODE_FLAG = 0xFFFF;\n// EPSILON for computing floating point error during build\n// https://en.wikipedia.org/wiki/Machine_epsilon#Values_for_standard_hardware_floating_point_arithmetics\nconst FLOAT32_EPSILON = Math.pow(2, -24);\nconst SKIP_GENERATION = Symbol(\"SKIP_GENERATION\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvQ29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJCQUEyQjtBQUNwQixNQUFNQSxTQUFTLEVBQUU7QUFDakIsTUFBTUMsVUFBVSxFQUFFO0FBQ2xCLE1BQU1DLE1BQU0sRUFBRTtBQUVyQixzQkFBc0I7QUFDZixNQUFNQyxrQkFBa0IsRUFBRTtBQUMxQixNQUFNQyxjQUFjLEVBQUU7QUFDdEIsTUFBTUMsWUFBWSxFQUFFO0FBRTNCLHFCQUFxQjtBQUNyQixrRkFBa0Y7QUFDbEYsK0VBQStFO0FBQy9FLFVBQVU7QUFDSCxNQUFNQywwQkFBMEIsS0FBSztBQUNyQyxNQUFNQyxpQkFBaUIsRUFBRTtBQUdoQyxrQkFBa0I7QUFDWCxNQUFNQyxpQkFBaUIsSUFBSSxJQUFJLElBQUksRUFBRTtBQUNyQyxNQUFNQyxtQkFBbUIsT0FBTztBQUV2QywwREFBMEQ7QUFDMUQsd0dBQXdHO0FBQ2pHLE1BQU1DLGtCQUFrQkMsS0FBS0MsR0FBRyxDQUFFLEdBQUcsQ0FBRSxJQUFLO0FBRTVDLE1BQU1DLGtCQUFrQkMsT0FBUSxtQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvQ29uc3RhbnRzLmpzPzg2MTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU3BsaXQgc3RyYXRlZ3kgY29uc3RhbnRzXG5leHBvcnQgY29uc3QgQ0VOVEVSID0gMDtcbmV4cG9ydCBjb25zdCBBVkVSQUdFID0gMTtcbmV4cG9ydCBjb25zdCBTQUggPSAyO1xuXG4vLyBUcmF2ZXJzYWwgY29uc3RhbnRzXG5leHBvcnQgY29uc3QgTk9UX0lOVEVSU0VDVEVEID0gMDtcbmV4cG9ydCBjb25zdCBJTlRFUlNFQ1RFRCA9IDE7XG5leHBvcnQgY29uc3QgQ09OVEFJTkVEID0gMjtcblxuLy8gU0FIIGNvc3QgY29uc3RhbnRzXG4vLyBUT0RPOiBob25lIHRoZXNlIGNvc3RzIG1vcmUuIFRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlbSBzaG91bGQgYmUgdGhlXG4vLyBkaWZmZXJlbmNlIGluIG1lYXN1cmVkIHRpbWUgdG8gcGVyZm9ybSBhIHRyaWFuZ2xlIGludGVyc2VjdGlvbiB2cyB0cmF2ZXJzaW5nXG4vLyBib3VuZHMuXG5leHBvcnQgY29uc3QgVFJJQU5HTEVfSU5URVJTRUNUX0NPU1QgPSAxLjI1O1xuZXhwb3J0IGNvbnN0IFRSQVZFUlNBTF9DT1NUID0gMTtcblxuXG4vLyBCdWlsZCBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBCWVRFU19QRVJfTk9ERSA9IDYgKiA0ICsgNCArIDQ7XG5leHBvcnQgY29uc3QgSVNfTEVBRk5PREVfRkxBRyA9IDB4RkZGRjtcblxuLy8gRVBTSUxPTiBmb3IgY29tcHV0aW5nIGZsb2F0aW5nIHBvaW50IGVycm9yIGR1cmluZyBidWlsZFxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWFjaGluZV9lcHNpbG9uI1ZhbHVlc19mb3Jfc3RhbmRhcmRfaGFyZHdhcmVfZmxvYXRpbmdfcG9pbnRfYXJpdGhtZXRpY3NcbmV4cG9ydCBjb25zdCBGTE9BVDMyX0VQU0lMT04gPSBNYXRoLnBvdyggMiwgLSAyNCApO1xuXG5leHBvcnQgY29uc3QgU0tJUF9HRU5FUkFUSU9OID0gU3ltYm9sKCAnU0tJUF9HRU5FUkFUSU9OJyApO1xuIl0sIm5hbWVzIjpbIkNFTlRFUiIsIkFWRVJBR0UiLCJTQUgiLCJOT1RfSU5URVJTRUNURUQiLCJJTlRFUlNFQ1RFRCIsIkNPTlRBSU5FRCIsIlRSSUFOR0xFX0lOVEVSU0VDVF9DT1NUIiwiVFJBVkVSU0FMX0NPU1QiLCJCWVRFU19QRVJfTk9ERSIsIklTX0xFQUZOT0RFX0ZMQUciLCJGTE9BVDMyX0VQU0lMT04iLCJNYXRoIiwicG93IiwiU0tJUF9HRU5FUkFUSU9OIiwiU3ltYm9sIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/MeshBVH.js":
/*!*********************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/MeshBVH.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_OPTIONS: () => (/* binding */ DEFAULT_OPTIONS),\n/* harmony export */   MeshBVH: () => (/* binding */ MeshBVH)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n/* harmony import */ var _build_buildTree_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./build/buildTree.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/buildTree.js\");\n/* harmony import */ var _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/OrientedBox.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/OrientedBox.js\");\n/* harmony import */ var _utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../utils/ArrayBoxUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\");\n/* harmony import */ var _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/ExtendedTrianglePool.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtendedTrianglePool.js\");\n/* harmony import */ var _cast_shapecast_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./cast/shapecast.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/shapecast.js\");\n/* harmony import */ var _cast_closestPointToPoint_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./cast/closestPointToPoint.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToPoint.js\");\n/* harmony import */ var _utils_iterationUtils_generated_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/iterationUtils.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils.generated.js\");\n/* harmony import */ var _cast_refit_generated_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cast/refit.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/refit.generated.js\");\n/* harmony import */ var _cast_raycast_generated_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cast/raycast.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycast.generated.js\");\n/* harmony import */ var _cast_raycastFirst_generated_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./cast/raycastFirst.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycastFirst.generated.js\");\n/* harmony import */ var _cast_intersectsGeometry_generated_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./cast/intersectsGeometry.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry.generated.js\");\n/* harmony import */ var _cast_closestPointToGeometry_generated_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./cast/closestPointToGeometry.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry.generated.js\");\n/* harmony import */ var _utils_iterationUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/iterationUtils_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils_indirect.generated.js\");\n/* harmony import */ var _cast_refit_indirect_generated_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cast/refit_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/refit_indirect.generated.js\");\n/* harmony import */ var _cast_raycast_indirect_generated_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cast/raycast_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycast_indirect.generated.js\");\n/* harmony import */ var _cast_raycastFirst_indirect_generated_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cast/raycastFirst_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycastFirst_indirect.generated.js\");\n/* harmony import */ var _cast_intersectsGeometry_indirect_generated_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./cast/intersectsGeometry_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry_indirect.generated.js\");\n/* harmony import */ var _cast_closestPointToGeometry_indirect_generated_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./cast/closestPointToGeometry_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry_indirect.generated.js\");\n/* harmony import */ var _utils_BufferUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/BufferUtils.js\");\n/* harmony import */ var _utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/TriangleUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\");\n/* harmony import */ var _cast_bvhcast_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./cast/bvhcast.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/cast/bvhcast.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst obb = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_0__.OrientedBox();\nconst tempBox = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_1__.Box3();\nconst DEFAULT_OPTIONS = {\n    strategy: _Constants_js__WEBPACK_IMPORTED_MODULE_2__.CENTER,\n    maxDepth: 40,\n    maxLeafTris: 10,\n    useSharedArrayBuffer: false,\n    setBoundingBox: true,\n    onProgress: null,\n    indirect: false,\n    verbose: true\n};\nclass MeshBVH {\n    static serialize(bvh, options = {}) {\n        options = {\n            cloneBuffers: true,\n            ...options\n        };\n        const geometry = bvh.geometry;\n        const rootData = bvh._roots;\n        const indirectBuffer = bvh._indirectBuffer;\n        const indexAttribute = geometry.getIndex();\n        let result;\n        if (options.cloneBuffers) {\n            result = {\n                roots: rootData.map((root)=>root.slice()),\n                index: indexAttribute.array.slice(),\n                indirectBuffer: indirectBuffer ? indirectBuffer.slice() : null\n            };\n        } else {\n            result = {\n                roots: rootData,\n                index: indexAttribute.array,\n                indirectBuffer: indirectBuffer\n            };\n        }\n        return result;\n    }\n    static deserialize(data, geometry, options = {}) {\n        options = {\n            setIndex: true,\n            indirect: Boolean(data.indirectBuffer),\n            ...options\n        };\n        const { index, roots, indirectBuffer } = data;\n        const bvh = new MeshBVH(geometry, {\n            ...options,\n            [_Constants_js__WEBPACK_IMPORTED_MODULE_2__.SKIP_GENERATION]: true\n        });\n        bvh._roots = roots;\n        bvh._indirectBuffer = indirectBuffer || null;\n        if (options.setIndex) {\n            const indexAttribute = geometry.getIndex();\n            if (indexAttribute === null) {\n                const newIndex = new three__WEBPACK_IMPORTED_MODULE_1__.BufferAttribute(data.index, 1, false);\n                geometry.setIndex(newIndex);\n            } else if (indexAttribute.array !== index) {\n                indexAttribute.array.set(index);\n                indexAttribute.needsUpdate = true;\n            }\n        }\n        return bvh;\n    }\n    get indirect() {\n        return !!this._indirectBuffer;\n    }\n    constructor(geometry, options = {}){\n        if (!geometry.isBufferGeometry) {\n            throw new Error(\"MeshBVH: Only BufferGeometries are supported.\");\n        } else if (geometry.index && geometry.index.isInterleavedBufferAttribute) {\n            throw new Error(\"MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.\");\n        }\n        // default options\n        options = Object.assign({\n            ...DEFAULT_OPTIONS,\n            // undocumented options\n            // Whether to skip generating the tree. Used for deserialization.\n            [_Constants_js__WEBPACK_IMPORTED_MODULE_2__.SKIP_GENERATION]: false\n        }, options);\n        if (options.useSharedArrayBuffer && !(0,_utils_BufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSharedArrayBufferSupported)()) {\n            throw new Error(\"MeshBVH: SharedArrayBuffer is not available.\");\n        }\n        // retain references to the geometry so we can use them it without having to\n        // take a geometry reference in every function.\n        this.geometry = geometry;\n        this._roots = null;\n        this._indirectBuffer = null;\n        if (!options[_Constants_js__WEBPACK_IMPORTED_MODULE_2__.SKIP_GENERATION]) {\n            (0,_build_buildTree_js__WEBPACK_IMPORTED_MODULE_4__.buildPackedTree)(this, options);\n            if (!geometry.boundingBox && options.setBoundingBox) {\n                geometry.boundingBox = this.getBoundingBox(new three__WEBPACK_IMPORTED_MODULE_1__.Box3());\n            }\n        }\n        const { _indirectBuffer } = this;\n        this.resolveTriangleIndex = options.indirect ? (i)=>_indirectBuffer[i] : (i)=>i;\n    }\n    refit(nodeIndices = null) {\n        const refitFunc = this.indirect ? _cast_refit_indirect_generated_js__WEBPACK_IMPORTED_MODULE_5__.refit_indirect : _cast_refit_generated_js__WEBPACK_IMPORTED_MODULE_6__.refit;\n        return refitFunc(this, nodeIndices);\n    }\n    traverse(callback, rootIndex = 0) {\n        const buffer = this._roots[rootIndex];\n        const uint32Array = new Uint32Array(buffer);\n        const uint16Array = new Uint16Array(buffer);\n        _traverse(0);\n        function _traverse(node32Index, depth = 0) {\n            const node16Index = node32Index * 2;\n            const isLeaf = uint16Array[node16Index + 15] === _Constants_js__WEBPACK_IMPORTED_MODULE_2__.IS_LEAFNODE_FLAG;\n            if (isLeaf) {\n                const offset = uint32Array[node32Index + 6];\n                const count = uint16Array[node16Index + 14];\n                callback(depth, isLeaf, new Float32Array(buffer, node32Index * 4, 6), offset, count);\n            } else {\n                // TODO: use node functions here\n                const left = node32Index + _Constants_js__WEBPACK_IMPORTED_MODULE_2__.BYTES_PER_NODE / 4;\n                const right = uint32Array[node32Index + 6];\n                const splitAxis = uint32Array[node32Index + 7];\n                const stopTraversal = callback(depth, isLeaf, new Float32Array(buffer, node32Index * 4, 6), splitAxis);\n                if (!stopTraversal) {\n                    _traverse(left, depth + 1);\n                    _traverse(right, depth + 1);\n                }\n            }\n        }\n    }\n    /* Core Cast Functions */ raycast(ray, materialOrSide = three__WEBPACK_IMPORTED_MODULE_1__.FrontSide) {\n        const roots = this._roots;\n        const geometry = this.geometry;\n        const intersects = [];\n        const isMaterial = materialOrSide.isMaterial;\n        const isArrayMaterial = Array.isArray(materialOrSide);\n        const groups = geometry.groups;\n        const side = isMaterial ? materialOrSide.side : materialOrSide;\n        const raycastFunc = this.indirect ? _cast_raycast_indirect_generated_js__WEBPACK_IMPORTED_MODULE_7__.raycast_indirect : _cast_raycast_generated_js__WEBPACK_IMPORTED_MODULE_8__.raycast;\n        for(let i = 0, l = roots.length; i < l; i++){\n            const materialSide = isArrayMaterial ? materialOrSide[groups[i].materialIndex].side : side;\n            const startCount = intersects.length;\n            raycastFunc(this, i, materialSide, ray, intersects);\n            if (isArrayMaterial) {\n                const materialIndex = groups[i].materialIndex;\n                for(let j = startCount, jl = intersects.length; j < jl; j++){\n                    intersects[j].face.materialIndex = materialIndex;\n                }\n            }\n        }\n        return intersects;\n    }\n    raycastFirst(ray, materialOrSide = three__WEBPACK_IMPORTED_MODULE_1__.FrontSide) {\n        const roots = this._roots;\n        const geometry = this.geometry;\n        const isMaterial = materialOrSide.isMaterial;\n        const isArrayMaterial = Array.isArray(materialOrSide);\n        let closestResult = null;\n        const groups = geometry.groups;\n        const side = isMaterial ? materialOrSide.side : materialOrSide;\n        const raycastFirstFunc = this.indirect ? _cast_raycastFirst_indirect_generated_js__WEBPACK_IMPORTED_MODULE_9__.raycastFirst_indirect : _cast_raycastFirst_generated_js__WEBPACK_IMPORTED_MODULE_10__.raycastFirst;\n        for(let i = 0, l = roots.length; i < l; i++){\n            const materialSide = isArrayMaterial ? materialOrSide[groups[i].materialIndex].side : side;\n            const result = raycastFirstFunc(this, i, materialSide, ray);\n            if (result != null && (closestResult == null || result.distance < closestResult.distance)) {\n                closestResult = result;\n                if (isArrayMaterial) {\n                    result.face.materialIndex = groups[i].materialIndex;\n                }\n            }\n        }\n        return closestResult;\n    }\n    intersectsGeometry(otherGeometry, geomToMesh) {\n        let result = false;\n        const roots = this._roots;\n        const intersectsGeometryFunc = this.indirect ? _cast_intersectsGeometry_indirect_generated_js__WEBPACK_IMPORTED_MODULE_11__.intersectsGeometry_indirect : _cast_intersectsGeometry_generated_js__WEBPACK_IMPORTED_MODULE_12__.intersectsGeometry;\n        for(let i = 0, l = roots.length; i < l; i++){\n            result = intersectsGeometryFunc(this, i, otherGeometry, geomToMesh);\n            if (result) {\n                break;\n            }\n        }\n        return result;\n    }\n    shapecast(callbacks) {\n        const triangle = _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_13__.ExtendedTrianglePool.getPrimitive();\n        const iterateFunc = this.indirect ? _utils_iterationUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_14__.iterateOverTriangles_indirect : _utils_iterationUtils_generated_js__WEBPACK_IMPORTED_MODULE_15__.iterateOverTriangles;\n        let { boundsTraverseOrder, intersectsBounds, intersectsRange, intersectsTriangle } = callbacks;\n        // wrap the intersectsRange function\n        if (intersectsRange && intersectsTriangle) {\n            const originalIntersectsRange = intersectsRange;\n            intersectsRange = (offset, count, contained, depth, nodeIndex)=>{\n                if (!originalIntersectsRange(offset, count, contained, depth, nodeIndex)) {\n                    return iterateFunc(offset, count, this, intersectsTriangle, contained, depth, triangle);\n                }\n                return true;\n            };\n        } else if (!intersectsRange) {\n            if (intersectsTriangle) {\n                intersectsRange = (offset, count, contained, depth)=>{\n                    return iterateFunc(offset, count, this, intersectsTriangle, contained, depth, triangle);\n                };\n            } else {\n                intersectsRange = (offset, count, contained)=>{\n                    return contained;\n                };\n            }\n        }\n        // run shapecast\n        let result = false;\n        let byteOffset = 0;\n        const roots = this._roots;\n        for(let i = 0, l = roots.length; i < l; i++){\n            const root = roots[i];\n            result = (0,_cast_shapecast_js__WEBPACK_IMPORTED_MODULE_16__.shapecast)(this, i, intersectsBounds, intersectsRange, boundsTraverseOrder, byteOffset);\n            if (result) {\n                break;\n            }\n            byteOffset += root.byteLength;\n        }\n        _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_13__.ExtendedTrianglePool.releasePrimitive(triangle);\n        return result;\n    }\n    bvhcast(otherBvh, matrixToLocal, callbacks) {\n        let { intersectsRanges, intersectsTriangles } = callbacks;\n        const triangle1 = _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_13__.ExtendedTrianglePool.getPrimitive();\n        const indexAttr1 = this.geometry.index;\n        const positionAttr1 = this.geometry.attributes.position;\n        const assignTriangle1 = this.indirect ? (i1)=>{\n            const ti = this.resolveTriangleIndex(i1);\n            (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_17__.setTriangle)(triangle1, ti * 3, indexAttr1, positionAttr1);\n        } : (i1)=>{\n            (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_17__.setTriangle)(triangle1, i1 * 3, indexAttr1, positionAttr1);\n        };\n        const triangle2 = _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_13__.ExtendedTrianglePool.getPrimitive();\n        const indexAttr2 = otherBvh.geometry.index;\n        const positionAttr2 = otherBvh.geometry.attributes.position;\n        const assignTriangle2 = otherBvh.indirect ? (i2)=>{\n            const ti2 = otherBvh.resolveTriangleIndex(i2);\n            (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_17__.setTriangle)(triangle2, ti2 * 3, indexAttr2, positionAttr2);\n        } : (i2)=>{\n            (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_17__.setTriangle)(triangle2, i2 * 3, indexAttr2, positionAttr2);\n        };\n        // generate triangle callback if needed\n        if (intersectsTriangles) {\n            const iterateOverDoubleTriangles = (offset1, count1, offset2, count2, depth1, index1, depth2, index2)=>{\n                for(let i2 = offset2, l2 = offset2 + count2; i2 < l2; i2++){\n                    assignTriangle2(i2);\n                    triangle2.a.applyMatrix4(matrixToLocal);\n                    triangle2.b.applyMatrix4(matrixToLocal);\n                    triangle2.c.applyMatrix4(matrixToLocal);\n                    triangle2.needsUpdate = true;\n                    for(let i1 = offset1, l1 = offset1 + count1; i1 < l1; i1++){\n                        assignTriangle1(i1);\n                        triangle1.needsUpdate = true;\n                        if (intersectsTriangles(triangle1, triangle2, i1, i2, depth1, index1, depth2, index2)) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            };\n            if (intersectsRanges) {\n                const originalIntersectsRanges = intersectsRanges;\n                intersectsRanges = function(offset1, count1, offset2, count2, depth1, index1, depth2, index2) {\n                    if (!originalIntersectsRanges(offset1, count1, offset2, count2, depth1, index1, depth2, index2)) {\n                        return iterateOverDoubleTriangles(offset1, count1, offset2, count2, depth1, index1, depth2, index2);\n                    }\n                    return true;\n                };\n            } else {\n                intersectsRanges = iterateOverDoubleTriangles;\n            }\n        }\n        return (0,_cast_bvhcast_js__WEBPACK_IMPORTED_MODULE_18__.bvhcast)(this, otherBvh, matrixToLocal, intersectsRanges);\n    }\n    /* Derived Cast Functions */ intersectsBox(box, boxToMesh) {\n        obb.set(box.min, box.max, boxToMesh);\n        obb.needsUpdate = true;\n        return this.shapecast({\n            intersectsBounds: (box)=>obb.intersectsBox(box),\n            intersectsTriangle: (tri)=>obb.intersectsTriangle(tri)\n        });\n    }\n    intersectsSphere(sphere) {\n        return this.shapecast({\n            intersectsBounds: (box)=>sphere.intersectsBox(box),\n            intersectsTriangle: (tri)=>tri.intersectsSphere(sphere)\n        });\n    }\n    closestPointToGeometry(otherGeometry, geometryToBvh, target1 = {}, target2 = {}, minThreshold = 0, maxThreshold = Infinity) {\n        const closestPointToGeometryFunc = this.indirect ? _cast_closestPointToGeometry_indirect_generated_js__WEBPACK_IMPORTED_MODULE_19__.closestPointToGeometry_indirect : _cast_closestPointToGeometry_generated_js__WEBPACK_IMPORTED_MODULE_20__.closestPointToGeometry;\n        return closestPointToGeometryFunc(this, otherGeometry, geometryToBvh, target1, target2, minThreshold, maxThreshold);\n    }\n    closestPointToPoint(point, target = {}, minThreshold = 0, maxThreshold = Infinity) {\n        return (0,_cast_closestPointToPoint_js__WEBPACK_IMPORTED_MODULE_21__.closestPointToPoint)(this, point, target, minThreshold, maxThreshold);\n    }\n    getBoundingBox(target) {\n        target.makeEmpty();\n        const roots = this._roots;\n        roots.forEach((buffer)=>{\n            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_22__.arrayToBox)(0, new Float32Array(buffer), tempBox);\n            target.union(tempBox);\n        });\n        return target;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvTWVzaEJWSC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ2tDO0FBQ3BDO0FBQ0Y7QUFDTTtBQUNhO0FBQ3hCO0FBQ29CO0FBRU87QUFDekI7QUFDSTtBQUNVO0FBQ1k7QUFDUTtBQUVTO0FBQ3pCO0FBQ0k7QUFDVTtBQUNZO0FBQ1E7QUFDL0I7QUFDWDtBQUNoQjtBQUU1QyxNQUFNNEIsTUFBTSxhQUFhLEdBQUcsSUFBSXBCLDZEQUFXQTtBQUMzQyxNQUFNcUIsVUFBVSxhQUFhLEdBQUcsSUFBSTVCLHVDQUFJQTtBQUNqQyxNQUFNNkIsa0JBQWtCO0lBQzlCQyxVQUFVNUIsaURBQU1BO0lBQ2hCNkIsVUFBVTtJQUNWQyxhQUFhO0lBQ2JDLHNCQUFzQjtJQUN0QkMsZ0JBQWdCO0lBQ2hCQyxZQUFZO0lBQ1pDLFVBQVU7SUFDVkMsU0FBUztBQUNWLEVBQUU7QUFFSyxNQUFNQztJQUVaLE9BQU9DLFVBQVdDLEdBQUcsRUFBRUMsVUFBVSxDQUFDLENBQUMsRUFBRztRQUVyQ0EsVUFBVTtZQUNUQyxjQUFjO1lBQ2QsR0FBR0QsT0FBTztRQUNYO1FBRUEsTUFBTUUsV0FBV0gsSUFBSUcsUUFBUTtRQUM3QixNQUFNQyxXQUFXSixJQUFJSyxNQUFNO1FBQzNCLE1BQU1DLGlCQUFpQk4sSUFBSU8sZUFBZTtRQUMxQyxNQUFNQyxpQkFBaUJMLFNBQVNNLFFBQVE7UUFDeEMsSUFBSUM7UUFDSixJQUFLVCxRQUFRQyxZQUFZLEVBQUc7WUFFM0JRLFNBQVM7Z0JBQ1JDLE9BQU9QLFNBQVNRLEdBQUcsQ0FBRUMsQ0FBQUEsT0FBUUEsS0FBS0MsS0FBSztnQkFDdkNDLE9BQU9QLGVBQWVRLEtBQUssQ0FBQ0YsS0FBSztnQkFDakNSLGdCQUFnQkEsaUJBQWlCQSxlQUFlUSxLQUFLLEtBQUs7WUFDM0Q7UUFFRCxPQUFPO1lBRU5KLFNBQVM7Z0JBQ1JDLE9B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dkUsd0VBQVVBLENBQUUsR0FBRyxJQUFJbUYsYUFBY1osU0FBVW5EO1lBQzNDNEosT0FBT0csS0FBSyxDQUFFL0o7UUFFZjtRQUVBLE9BQU80SjtJQUVSO0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvTWVzaEJWSC5qcz80NGE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlckF0dHJpYnV0ZSwgQm94MywgRnJvbnRTaWRlIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgQ0VOVEVSLCBCWVRFU19QRVJfTk9ERSwgSVNfTEVBRk5PREVfRkxBRywgU0tJUF9HRU5FUkFUSU9OIH0gZnJvbSAnLi9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgYnVpbGRQYWNrZWRUcmVlIH0gZnJvbSAnLi9idWlsZC9idWlsZFRyZWUuanMnO1xuaW1wb3J0IHsgT3JpZW50ZWRCb3ggfSBmcm9tICcuLi9tYXRoL09yaWVudGVkQm94LmpzJztcbmltcG9ydCB7IGFycmF5VG9Cb3ggfSBmcm9tICcuLi91dGlscy9BcnJheUJveFV0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBFeHRlbmRlZFRyaWFuZ2xlUG9vbCB9IGZyb20gJy4uL3V0aWxzL0V4dGVuZGVkVHJpYW5nbGVQb29sLmpzJztcbmltcG9ydCB7IHNoYXBlY2FzdCB9IGZyb20gJy4vY2FzdC9zaGFwZWNhc3QuanMnO1xuaW1wb3J0IHsgY2xvc2VzdFBvaW50VG9Qb2ludCB9IGZyb20gJy4vY2FzdC9jbG9zZXN0UG9pbnRUb1BvaW50LmpzJztcblxuaW1wb3J0IHsgaXRlcmF0ZU92ZXJUcmlhbmdsZXMgfSBmcm9tICcuL3V0aWxzL2l0ZXJhdGlvblV0aWxzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByZWZpdCB9IGZyb20gJy4vY2FzdC9yZWZpdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcmF5Y2FzdCB9IGZyb20gJy4vY2FzdC9yYXljYXN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByYXljYXN0Rmlyc3QgfSBmcm9tICcuL2Nhc3QvcmF5Y2FzdEZpcnN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzR2VvbWV0cnkgfSBmcm9tICcuL2Nhc3QvaW50ZXJzZWN0c0dlb21ldHJ5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjbG9zZXN0UG9pbnRUb0dlb21ldHJ5IH0gZnJvbSAnLi9jYXN0L2Nsb3Nlc3RQb2ludFRvR2VvbWV0cnkuZ2VuZXJhdGVkLmpzJztcblxuaW1wb3J0IHsgaXRlcmF0ZU92ZXJUcmlhbmdsZXNfaW5kaXJlY3QgfSBmcm9tICcuL3V0aWxzL2l0ZXJhdGlvblV0aWxzX2luZGlyZWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByZWZpdF9pbmRpcmVjdCB9IGZyb20gJy4vY2FzdC9yZWZpdF9pbmRpcmVjdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcmF5Y2FzdF9pbmRpcmVjdCB9IGZyb20gJy4vY2FzdC9yYXljYXN0X2luZGlyZWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByYXljYXN0Rmlyc3RfaW5kaXJlY3QgfSBmcm9tICcuL2Nhc3QvcmF5Y2FzdEZpcnN0X2luZGlyZWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzR2VvbWV0cnlfaW5kaXJlY3QgfSBmcm9tICcuL2Nhc3QvaW50ZXJzZWN0c0dlb21ldHJ5X2luZGlyZWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjbG9zZXN0UG9pbnRUb0dlb21ldHJ5X2luZGlyZWN0IH0gZnJvbSAnLi9jYXN0L2Nsb3Nlc3RQb2ludFRvR2VvbWV0cnlfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGlzU2hhcmVkQXJyYXlCdWZmZXJTdXBwb3J0ZWQgfSBmcm9tICcuLi91dGlscy9CdWZmZXJVdGlscy5qcyc7XG5pbXBvcnQgeyBzZXRUcmlhbmdsZSB9IGZyb20gJy4uL3V0aWxzL1RyaWFuZ2xlVXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IGJ2aGNhc3QgfSBmcm9tICcuL2Nhc3QvYnZoY2FzdC5qcyc7XG5cbmNvbnN0IG9iYiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgT3JpZW50ZWRCb3goKTtcbmNvbnN0IHRlbXBCb3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IEJveDMoKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG5cdHN0cmF0ZWd5OiBDRU5URVIsXG5cdG1heERlcHRoOiA0MCxcblx0bWF4TGVhZlRyaXM6IDEwLFxuXHR1c2VTaGFyZWRBcnJheUJ1ZmZlcjogZmFsc2UsXG5cdHNldEJvdW5kaW5nQm94OiB0cnVlLFxuXHRvblByb2dyZXNzOiBudWxsLFxuXHRpbmRpcmVjdDogZmFsc2UsXG5cdHZlcmJvc2U6IHRydWUsXG59O1xuXG5leHBvcnQgY2xhc3MgTWVzaEJWSCB7XG5cblx0c3RhdGljIHNlcmlhbGl6ZSggYnZoLCBvcHRpb25zID0ge30gKSB7XG5cblx0XHRvcHRpb25zID0ge1xuXHRcdFx0Y2xvbmVCdWZmZXJzOiB0cnVlLFxuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHR9O1xuXG5cdFx0Y29uc3QgZ2VvbWV0cnkgPSBidmguZ2VvbWV0cnk7XG5cdFx0Y29uc3Qgcm9vdERhdGEgPSBidmguX3Jvb3RzO1xuXHRcdGNvbnN0IGluZGlyZWN0QnVmZmVyID0gYnZoLl9pbmRpcmVjdEJ1ZmZlcjtcblx0XHRjb25zdCBpbmRleEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cdFx0bGV0IHJlc3VsdDtcblx0XHRpZiAoIG9wdGlvbnMuY2xvbmVCdWZmZXJzICkge1xuXG5cdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdHJvb3RzOiByb290RGF0YS5tYXAoIHJvb3QgPT4gcm9vdC5zbGljZSgpICksXG5cdFx0XHRcdGluZGV4OiBpbmRleEF0dHJpYnV0ZS5hcnJheS5zbGljZSgpLFxuXHRcdFx0XHRpbmRpcmVjdEJ1ZmZlcjogaW5kaXJlY3RCdWZmZXIgPyBpbmRpcmVjdEJ1ZmZlci5zbGljZSgpIDogbnVsbCxcblx0XHRcdH07XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdHJvb3RzOiByb290RGF0YSxcblx0XHRcdFx0aW5kZXg6IGluZGV4QXR0cmlidXRlLmFycmF5LFxuXHRcdFx0XHRpbmRpcmVjdEJ1ZmZlcjogaW5kaXJlY3RCdWZmZXIsXG5cdFx0XHR9O1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblxuXHR9XG5cblx0c3RhdGljIGRlc2VyaWFsaXplKCBkYXRhLCBnZW9tZXRyeSwgb3B0aW9ucyA9IHt9ICkge1xuXG5cdFx0b3B0aW9ucyA9IHtcblx0XHRcdHNldEluZGV4OiB0cnVlLFxuXHRcdFx0aW5kaXJlY3Q6IEJvb2xlYW4oIGRhdGEuaW5kaXJlY3RCdWZmZXIgKSxcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHsgaW5kZXgsIHJvb3RzLCBpbmRpcmVjdEJ1ZmZlciB9ID0gZGF0YTtcblx0XHRjb25zdCBidmggPSBuZXcgTWVzaEJWSCggZ2VvbWV0cnksIHsgLi4ub3B0aW9ucywgWyBTS0lQX0dFTkVSQVRJT04gXTogdHJ1ZSB9ICk7XG5cdFx0YnZoLl9yb290cyA9IHJvb3RzO1xuXHRcdGJ2aC5faW5kaXJlY3RCdWZmZXIgPSBpbmRpcmVjdEJ1ZmZlciB8fCBudWxsO1xuXG5cdFx0aWYgKCBvcHRpb25zLnNldEluZGV4ICkge1xuXG5cdFx0XHRjb25zdCBpbmRleEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cdFx0XHRpZiAoIGluZGV4QXR0cmlidXRlID09PSBudWxsICkge1xuXG5cdFx0XHRcdGNvbnN0IG5ld0luZGV4ID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZSggZGF0YS5pbmRleCwgMSwgZmFsc2UgKTtcblx0XHRcdFx0Z2VvbWV0cnkuc2V0SW5kZXgoIG5ld0luZGV4ICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGluZGV4QXR0cmlidXRlLmFycmF5ICE9PSBpbmRleCApIHtcblxuXHRcdFx0XHRpbmRleEF0dHJpYnV0ZS5hcnJheS5zZXQoIGluZGV4ICk7XG5cdFx0XHRcdGluZGV4QXR0cmlidXRlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGJ2aDtcblxuXHR9XG5cblx0Z2V0IGluZGlyZWN0KCkge1xuXG5cdFx0cmV0dXJuICEgISB0aGlzLl9pbmRpcmVjdEJ1ZmZlcjtcblxuXHR9XG5cblx0Y29uc3RydWN0b3IoIGdlb21ldHJ5LCBvcHRpb25zID0ge30gKSB7XG5cblx0XHRpZiAoICEgZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnTWVzaEJWSDogT25seSBCdWZmZXJHZW9tZXRyaWVzIGFyZSBzdXBwb3J0ZWQuJyApO1xuXG5cdFx0fSBlbHNlIGlmICggZ2VvbWV0cnkuaW5kZXggJiYgZ2VvbWV0cnkuaW5kZXguaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnTWVzaEJWSDogSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZCBmb3IgdGhlIGluZGV4IGF0dHJpYnV0ZS4nICk7XG5cblx0XHR9XG5cblx0XHQvLyBkZWZhdWx0IG9wdGlvbnNcblx0XHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbigge1xuXG5cdFx0XHQuLi5ERUZBVUxUX09QVElPTlMsXG5cblx0XHRcdC8vIHVuZG9jdW1lbnRlZCBvcHRpb25zXG5cblx0XHRcdC8vIFdoZXRoZXIgdG8gc2tpcCBnZW5lcmF0aW5nIHRoZSB0cmVlLiBVc2VkIGZvciBkZXNlcmlhbGl6YXRpb24uXG5cdFx0XHRbIFNLSVBfR0VORVJBVElPTiBdOiBmYWxzZSxcblxuXHRcdH0sIG9wdGlvbnMgKTtcblxuXHRcdGlmICggb3B0aW9ucy51c2VTaGFyZWRBcnJheUJ1ZmZlciAmJiAhIGlzU2hhcmVkQXJyYXlCdWZmZXJTdXBwb3J0ZWQoKSApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnTWVzaEJWSDogU2hhcmVkQXJyYXlCdWZmZXIgaXMgbm90IGF2YWlsYWJsZS4nICk7XG5cblx0XHR9XG5cblx0XHQvLyByZXRhaW4gcmVmZXJlbmNlcyB0byB0aGUgZ2VvbWV0cnkgc28gd2UgY2FuIHVzZSB0aGVtIGl0IHdpdGhvdXQgaGF2aW5nIHRvXG5cdFx0Ly8gdGFrZSBhIGdlb21ldHJ5IHJlZmVyZW5jZSBpbiBldmVyeSBmdW5jdGlvbi5cblx0XHR0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG5cdFx0dGhpcy5fcm9vdHMgPSBudWxsO1xuXHRcdHRoaXMuX2luZGlyZWN0QnVmZmVyID0gbnVsbDtcblx0XHRpZiAoICEgb3B0aW9uc1sgU0tJUF9HRU5FUkFUSU9OIF0gKSB7XG5cblx0XHRcdGJ1aWxkUGFja2VkVHJlZSggdGhpcywgb3B0aW9ucyApO1xuXG5cdFx0XHRpZiAoICEgZ2VvbWV0cnkuYm91bmRpbmdCb3ggJiYgb3B0aW9ucy5zZXRCb3VuZGluZ0JveCApIHtcblxuXHRcdFx0XHRnZW9tZXRyeS5ib3VuZGluZ0JveCA9IHRoaXMuZ2V0Qm91bmRpbmdCb3goIG5ldyBCb3gzKCkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBfaW5kaXJlY3RCdWZmZXIgfSA9IHRoaXM7XG5cdFx0dGhpcy5yZXNvbHZlVHJpYW5nbGVJbmRleCA9IG9wdGlvbnMuaW5kaXJlY3QgPyBpID0+IF9pbmRpcmVjdEJ1ZmZlclsgaSBdIDogaSA9PiBpO1xuXG5cdH1cblxuXHRyZWZpdCggbm9kZUluZGljZXMgPSBudWxsICkge1xuXG5cdFx0Y29uc3QgcmVmaXRGdW5jID0gdGhpcy5pbmRpcmVjdCA/IHJlZml0X2luZGlyZWN0IDogcmVmaXQ7XG5cdFx0cmV0dXJuIHJlZml0RnVuYyggdGhpcywgbm9kZUluZGljZXMgKTtcblxuXHR9XG5cblx0dHJhdmVyc2UoIGNhbGxiYWNrLCByb290SW5kZXggPSAwICkge1xuXG5cdFx0Y29uc3QgYnVmZmVyID0gdGhpcy5fcm9vdHNbIHJvb3RJbmRleCBdO1xuXHRcdGNvbnN0IHVpbnQzMkFycmF5ID0gbmV3IFVpbnQzMkFycmF5KCBidWZmZXIgKTtcblx0XHRjb25zdCB1aW50MTZBcnJheSA9IG5ldyBVaW50MTZBcnJheSggYnVmZmVyICk7XG5cdFx0X3RyYXZlcnNlKCAwICk7XG5cblx0XHRmdW5jdGlvbiBfdHJhdmVyc2UoIG5vZGUzMkluZGV4LCBkZXB0aCA9IDAgKSB7XG5cblx0XHRcdGNvbnN0IG5vZGUxNkluZGV4ID0gbm9kZTMySW5kZXggKiAyO1xuXHRcdFx0Y29uc3QgaXNMZWFmID0gdWludDE2QXJyYXlbIG5vZGUxNkluZGV4ICsgMTUgXSA9PT0gSVNfTEVBRk5PREVfRkxBRztcblx0XHRcdGlmICggaXNMZWFmICkge1xuXG5cdFx0XHRcdGNvbnN0IG9mZnNldCA9IHVpbnQzMkFycmF5WyBub2RlMzJJbmRleCArIDYgXTtcblx0XHRcdFx0Y29uc3QgY291bnQgPSB1aW50MTZBcnJheVsgbm9kZTE2SW5kZXggKyAxNCBdO1xuXHRcdFx0XHRjYWxsYmFjayggZGVwdGgsIGlzTGVhZiwgbmV3IEZsb2F0MzJBcnJheSggYnVmZmVyLCBub2RlMzJJbmRleCAqIDQsIDYgKSwgb2Zmc2V0LCBjb3VudCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFRPRE86IHVzZSBub2RlIGZ1bmN0aW9ucyBoZXJlXG5cdFx0XHRcdGNvbnN0IGxlZnQgPSBub2RlMzJJbmRleCArIEJZVEVTX1BFUl9OT0RFIC8gNDtcblx0XHRcdFx0Y29uc3QgcmlnaHQgPSB1aW50MzJBcnJheVsgbm9kZTMySW5kZXggKyA2IF07XG5cdFx0XHRcdGNvbnN0IHNwbGl0QXhpcyA9IHVpbnQzMkFycmF5WyBub2RlMzJJbmRleCArIDcgXTtcblx0XHRcdFx0Y29uc3Qgc3RvcFRyYXZlcnNhbCA9IGNhbGxiYWNrKCBkZXB0aCwgaXNMZWFmLCBuZXcgRmxvYXQzMkFycmF5KCBidWZmZXIsIG5vZGUzMkluZGV4ICogNCwgNiApLCBzcGxpdEF4aXMgKTtcblxuXHRcdFx0XHRpZiAoICEgc3RvcFRyYXZlcnNhbCApIHtcblxuXHRcdFx0XHRcdF90cmF2ZXJzZSggbGVmdCwgZGVwdGggKyAxICk7XG5cdFx0XHRcdFx0X3RyYXZlcnNlKCByaWdodCwgZGVwdGggKyAxICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdC8qIENvcmUgQ2FzdCBGdW5jdGlvbnMgKi9cblx0cmF5Y2FzdCggcmF5LCBtYXRlcmlhbE9yU2lkZSA9IEZyb250U2lkZSApIHtcblxuXHRcdGNvbnN0IHJvb3RzID0gdGhpcy5fcm9vdHM7XG5cdFx0Y29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXHRcdGNvbnN0IGludGVyc2VjdHMgPSBbXTtcblx0XHRjb25zdCBpc01hdGVyaWFsID0gbWF0ZXJpYWxPclNpZGUuaXNNYXRlcmlhbDtcblx0XHRjb25zdCBpc0FycmF5TWF0ZXJpYWwgPSBBcnJheS5pc0FycmF5KCBtYXRlcmlhbE9yU2lkZSApO1xuXG5cdFx0Y29uc3QgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xuXHRcdGNvbnN0IHNpZGUgPSBpc01hdGVyaWFsID8gbWF0ZXJpYWxPclNpZGUuc2lkZSA6IG1hdGVyaWFsT3JTaWRlO1xuXHRcdGNvbnN0IHJheWNhc3RGdW5jID0gdGhpcy5pbmRpcmVjdCA/IHJheWNhc3RfaW5kaXJlY3QgOiByYXljYXN0O1xuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IHJvb3RzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IG1hdGVyaWFsU2lkZSA9IGlzQXJyYXlNYXRlcmlhbCA/IG1hdGVyaWFsT3JTaWRlWyBncm91cHNbIGkgXS5tYXRlcmlhbEluZGV4IF0uc2lkZSA6IHNpZGU7XG5cdFx0XHRjb25zdCBzdGFydENvdW50ID0gaW50ZXJzZWN0cy5sZW5ndGg7XG5cblx0XHRcdHJheWNhc3RGdW5jKCB0aGlzLCBpLCBtYXRlcmlhbFNpZGUsIHJheSwgaW50ZXJzZWN0cyApO1xuXG5cdFx0XHRpZiAoIGlzQXJyYXlNYXRlcmlhbCApIHtcblxuXHRcdFx0XHRjb25zdCBtYXRlcmlhbEluZGV4ID0gZ3JvdXBzWyBpIF0ubWF0ZXJpYWxJbmRleDtcblx0XHRcdFx0Zm9yICggbGV0IGogPSBzdGFydENvdW50LCBqbCA9IGludGVyc2VjdHMubGVuZ3RoOyBqIDwgamw7IGogKysgKSB7XG5cblx0XHRcdFx0XHRpbnRlcnNlY3RzWyBqIF0uZmFjZS5tYXRlcmlhbEluZGV4ID0gbWF0ZXJpYWxJbmRleDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBpbnRlcnNlY3RzO1xuXG5cdH1cblxuXHRyYXljYXN0Rmlyc3QoIHJheSwgbWF0ZXJpYWxPclNpZGUgPSBGcm9udFNpZGUgKSB7XG5cblx0XHRjb25zdCByb290cyA9IHRoaXMuX3Jvb3RzO1xuXHRcdGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblx0XHRjb25zdCBpc01hdGVyaWFsID0gbWF0ZXJpYWxPclNpZGUuaXNNYXRlcmlhbDtcblx0XHRjb25zdCBpc0FycmF5TWF0ZXJpYWwgPSBBcnJheS5pc0FycmF5KCBtYXRlcmlhbE9yU2lkZSApO1xuXG5cdFx0bGV0IGNsb3Nlc3RSZXN1bHQgPSBudWxsO1xuXG5cdFx0Y29uc3QgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xuXHRcdGNvbnN0IHNpZGUgPSBpc01hdGVyaWFsID8gbWF0ZXJpYWxPclNpZGUuc2lkZSA6IG1hdGVyaWFsT3JTaWRlO1xuXHRcdGNvbnN0IHJheWNhc3RGaXJzdEZ1bmMgPSB0aGlzLmluZGlyZWN0ID8gcmF5Y2FzdEZpcnN0X2luZGlyZWN0IDogcmF5Y2FzdEZpcnN0O1xuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IHJvb3RzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IG1hdGVyaWFsU2lkZSA9IGlzQXJyYXlNYXRlcmlhbCA/IG1hdGVyaWFsT3JTaWRlWyBncm91cHNbIGkgXS5tYXRlcmlhbEluZGV4IF0uc2lkZSA6IHNpZGU7XG5cdFx0XHRjb25zdCByZXN1bHQgPSByYXljYXN0Rmlyc3RGdW5jKCB0aGlzLCBpLCBtYXRlcmlhbFNpZGUsIHJheSApO1xuXHRcdFx0aWYgKCByZXN1bHQgIT0gbnVsbCAmJiAoIGNsb3Nlc3RSZXN1bHQgPT0gbnVsbCB8fCByZXN1bHQuZGlzdGFuY2UgPCBjbG9zZXN0UmVzdWx0LmRpc3RhbmNlICkgKSB7XG5cblx0XHRcdFx0Y2xvc2VzdFJlc3VsdCA9IHJlc3VsdDtcblx0XHRcdFx0aWYgKCBpc0FycmF5TWF0ZXJpYWwgKSB7XG5cblx0XHRcdFx0XHRyZXN1bHQuZmFjZS5tYXRlcmlhbEluZGV4ID0gZ3JvdXBzWyBpIF0ubWF0ZXJpYWxJbmRleDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBjbG9zZXN0UmVzdWx0O1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzR2VvbWV0cnkoIG90aGVyR2VvbWV0cnksIGdlb21Ub01lc2ggKSB7XG5cblx0XHRsZXQgcmVzdWx0ID0gZmFsc2U7XG5cdFx0Y29uc3Qgcm9vdHMgPSB0aGlzLl9yb290cztcblx0XHRjb25zdCBpbnRlcnNlY3RzR2VvbWV0cnlGdW5jID0gdGhpcy5pbmRpcmVjdCA/IGludGVyc2VjdHNHZW9tZXRyeV9pbmRpcmVjdCA6IGludGVyc2VjdHNHZW9tZXRyeTtcblx0XHRmb3IgKCBsZXQgaSA9IDAsIGwgPSByb290cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRyZXN1bHQgPSBpbnRlcnNlY3RzR2VvbWV0cnlGdW5jKCB0aGlzLCBpLCBvdGhlckdlb21ldHJ5LCBnZW9tVG9NZXNoICk7XG5cblx0XHRcdGlmICggcmVzdWx0ICkge1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdH1cblxuXHRzaGFwZWNhc3QoIGNhbGxiYWNrcyApIHtcblxuXHRcdGNvbnN0IHRyaWFuZ2xlID0gRXh0ZW5kZWRUcmlhbmdsZVBvb2wuZ2V0UHJpbWl0aXZlKCk7XG5cdFx0Y29uc3QgaXRlcmF0ZUZ1bmMgPSB0aGlzLmluZGlyZWN0ID8gaXRlcmF0ZU92ZXJUcmlhbmdsZXNfaW5kaXJlY3QgOiBpdGVyYXRlT3ZlclRyaWFuZ2xlcztcblx0XHRsZXQge1xuXHRcdFx0Ym91bmRzVHJhdmVyc2VPcmRlcixcblx0XHRcdGludGVyc2VjdHNCb3VuZHMsXG5cdFx0XHRpbnRlcnNlY3RzUmFuZ2UsXG5cdFx0XHRpbnRlcnNlY3RzVHJpYW5nbGUsXG5cdFx0fSA9IGNhbGxiYWNrcztcblxuXHRcdC8vIHdyYXAgdGhlIGludGVyc2VjdHNSYW5nZSBmdW5jdGlvblxuXHRcdGlmICggaW50ZXJzZWN0c1JhbmdlICYmIGludGVyc2VjdHNUcmlhbmdsZSApIHtcblxuXHRcdFx0Y29uc3Qgb3JpZ2luYWxJbnRlcnNlY3RzUmFuZ2UgPSBpbnRlcnNlY3RzUmFuZ2U7XG5cdFx0XHRpbnRlcnNlY3RzUmFuZ2UgPSAoIG9mZnNldCwgY291bnQsIGNvbnRhaW5lZCwgZGVwdGgsIG5vZGVJbmRleCApID0+IHtcblxuXHRcdFx0XHRpZiAoICEgb3JpZ2luYWxJbnRlcnNlY3RzUmFuZ2UoIG9mZnNldCwgY291bnQsIGNvbnRhaW5lZCwgZGVwdGgsIG5vZGVJbmRleCApICkge1xuXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZXJhdGVGdW5jKCBvZmZzZXQsIGNvdW50LCB0aGlzLCBpbnRlcnNlY3RzVHJpYW5nbGUsIGNvbnRhaW5lZCwgZGVwdGgsIHRyaWFuZ2xlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHR9O1xuXG5cdFx0fSBlbHNlIGlmICggISBpbnRlcnNlY3RzUmFuZ2UgKSB7XG5cblx0XHRcdGlmICggaW50ZXJzZWN0c1RyaWFuZ2xlICkge1xuXG5cdFx0XHRcdGludGVyc2VjdHNSYW5nZSA9ICggb2Zmc2V0LCBjb3VudCwgY29udGFpbmVkLCBkZXB0aCApID0+IHtcblxuXHRcdFx0XHRcdHJldHVybiBpdGVyYXRlRnVuYyggb2Zmc2V0LCBjb3VudCwgdGhpcywgaW50ZXJzZWN0c1RyaWFuZ2xlLCBjb250YWluZWQsIGRlcHRoLCB0cmlhbmdsZSApO1xuXG5cdFx0XHRcdH07XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aW50ZXJzZWN0c1JhbmdlID0gKCBvZmZzZXQsIGNvdW50LCBjb250YWluZWQgKSA9PiB7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGFpbmVkO1xuXG5cdFx0XHRcdH07XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIHJ1biBzaGFwZWNhc3Rcblx0XHRsZXQgcmVzdWx0ID0gZmFsc2U7XG5cdFx0bGV0IGJ5dGVPZmZzZXQgPSAwO1xuXHRcdGNvbnN0IHJvb3RzID0gdGhpcy5fcm9vdHM7XG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gcm9vdHMubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3Qgcm9vdCA9IHJvb3RzWyBpIF07XG5cdFx0XHRyZXN1bHQgPSBzaGFwZWNhc3QoIHRoaXMsIGksIGludGVyc2VjdHNCb3VuZHMsIGludGVyc2VjdHNSYW5nZSwgYm91bmRzVHJhdmVyc2VPcmRlciwgYnl0ZU9mZnNldCApO1xuXG5cdFx0XHRpZiAoIHJlc3VsdCApIHtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0fVxuXG5cdFx0XHRieXRlT2Zmc2V0ICs9IHJvb3QuYnl0ZUxlbmd0aDtcblxuXHRcdH1cblxuXHRcdEV4dGVuZGVkVHJpYW5nbGVQb29sLnJlbGVhc2VQcmltaXRpdmUoIHRyaWFuZ2xlICk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdH1cblxuXHRidmhjYXN0KCBvdGhlckJ2aCwgbWF0cml4VG9Mb2NhbCwgY2FsbGJhY2tzICkge1xuXG5cdFx0bGV0IHtcblx0XHRcdGludGVyc2VjdHNSYW5nZXMsXG5cdFx0XHRpbnRlcnNlY3RzVHJpYW5nbGVzLFxuXHRcdH0gPSBjYWxsYmFja3M7XG5cblx0XHRjb25zdCB0cmlhbmdsZTEgPSBFeHRlbmRlZFRyaWFuZ2xlUG9vbC5nZXRQcmltaXRpdmUoKTtcblx0XHRjb25zdCBpbmRleEF0dHIxID0gdGhpcy5nZW9tZXRyeS5pbmRleDtcblx0XHRjb25zdCBwb3NpdGlvbkF0dHIxID0gdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXHRcdGNvbnN0IGFzc2lnblRyaWFuZ2xlMSA9IHRoaXMuaW5kaXJlY3QgP1xuXHRcdFx0aTEgPT4ge1xuXG5cblx0XHRcdFx0Y29uc3QgdGkgPSB0aGlzLnJlc29sdmVUcmlhbmdsZUluZGV4KCBpMSApO1xuXHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUxLCB0aSAqIDMsIGluZGV4QXR0cjEsIHBvc2l0aW9uQXR0cjEgKTtcblxuXHRcdFx0fSA6XG5cdFx0XHRpMSA9PiB7XG5cblx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlMSwgaTEgKiAzLCBpbmRleEF0dHIxLCBwb3NpdGlvbkF0dHIxICk7XG5cblx0XHRcdH07XG5cblx0XHRjb25zdCB0cmlhbmdsZTIgPSBFeHRlbmRlZFRyaWFuZ2xlUG9vbC5nZXRQcmltaXRpdmUoKTtcblx0XHRjb25zdCBpbmRleEF0dHIyID0gb3RoZXJCdmguZ2VvbWV0cnkuaW5kZXg7XG5cdFx0Y29uc3QgcG9zaXRpb25BdHRyMiA9IG90aGVyQnZoLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cdFx0Y29uc3QgYXNzaWduVHJpYW5nbGUyID0gb3RoZXJCdmguaW5kaXJlY3QgP1xuXHRcdFx0aTIgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHRpMiA9IG90aGVyQnZoLnJlc29sdmVUcmlhbmdsZUluZGV4KCBpMiApO1xuXHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUyLCB0aTIgKiAzLCBpbmRleEF0dHIyLCBwb3NpdGlvbkF0dHIyICk7XG5cblx0XHRcdH0gOlxuXHRcdFx0aTIgPT4ge1xuXG5cdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZTIsIGkyICogMywgaW5kZXhBdHRyMiwgcG9zaXRpb25BdHRyMiApO1xuXG5cdFx0XHR9O1xuXG5cdFx0Ly8gZ2VuZXJhdGUgdHJpYW5nbGUgY2FsbGJhY2sgaWYgbmVlZGVkXG5cdFx0aWYgKCBpbnRlcnNlY3RzVHJpYW5nbGVzICkge1xuXG5cdFx0XHRjb25zdCBpdGVyYXRlT3ZlckRvdWJsZVRyaWFuZ2xlcyA9ICggb2Zmc2V0MSwgY291bnQxLCBvZmZzZXQyLCBjb3VudDIsIGRlcHRoMSwgaW5kZXgxLCBkZXB0aDIsIGluZGV4MiApID0+IHtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaTIgPSBvZmZzZXQyLCBsMiA9IG9mZnNldDIgKyBjb3VudDI7IGkyIDwgbDI7IGkyICsrICkge1xuXG5cdFx0XHRcdFx0YXNzaWduVHJpYW5nbGUyKCBpMiApO1xuXG5cdFx0XHRcdFx0dHJpYW5nbGUyLmEuYXBwbHlNYXRyaXg0KCBtYXRyaXhUb0xvY2FsICk7XG5cdFx0XHRcdFx0dHJpYW5nbGUyLmIuYXBwbHlNYXRyaXg0KCBtYXRyaXhUb0xvY2FsICk7XG5cdFx0XHRcdFx0dHJpYW5nbGUyLmMuYXBwbHlNYXRyaXg0KCBtYXRyaXhUb0xvY2FsICk7XG5cdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdGZvciAoIGxldCBpMSA9IG9mZnNldDEsIGwxID0gb2Zmc2V0MSArIGNvdW50MTsgaTEgPCBsMTsgaTEgKysgKSB7XG5cblx0XHRcdFx0XHRcdGFzc2lnblRyaWFuZ2xlMSggaTEgKTtcblxuXHRcdFx0XHRcdFx0dHJpYW5nbGUxLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0aWYgKCBpbnRlcnNlY3RzVHJpYW5nbGVzKCB0cmlhbmdsZTEsIHRyaWFuZ2xlMiwgaTEsIGkyLCBkZXB0aDEsIGluZGV4MSwgZGVwdGgyLCBpbmRleDIgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdH07XG5cblx0XHRcdGlmICggaW50ZXJzZWN0c1JhbmdlcyApIHtcblxuXHRcdFx0XHRjb25zdCBvcmlnaW5hbEludGVyc2VjdHNSYW5nZXMgPSBpbnRlcnNlY3RzUmFuZ2VzO1xuXHRcdFx0XHRpbnRlcnNlY3RzUmFuZ2VzID0gZnVuY3Rpb24gKCBvZmZzZXQxLCBjb3VudDEsIG9mZnNldDIsIGNvdW50MiwgZGVwdGgxLCBpbmRleDEsIGRlcHRoMiwgaW5kZXgyICkge1xuXG5cdFx0XHRcdFx0aWYgKCAhIG9yaWdpbmFsSW50ZXJzZWN0c1Jhbmdlcyggb2Zmc2V0MSwgY291bnQxLCBvZmZzZXQyLCBjb3VudDIsIGRlcHRoMSwgaW5kZXgxLCBkZXB0aDIsIGluZGV4MiApICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gaXRlcmF0ZU92ZXJEb3VibGVUcmlhbmdsZXMoIG9mZnNldDEsIGNvdW50MSwgb2Zmc2V0MiwgY291bnQyLCBkZXB0aDEsIGluZGV4MSwgZGVwdGgyLCBpbmRleDIgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdH07XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aW50ZXJzZWN0c1JhbmdlcyA9IGl0ZXJhdGVPdmVyRG91YmxlVHJpYW5nbGVzO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gYnZoY2FzdCggdGhpcywgb3RoZXJCdmgsIG1hdHJpeFRvTG9jYWwsIGludGVyc2VjdHNSYW5nZXMgKTtcblxuXHR9XG5cblxuXHQvKiBEZXJpdmVkIENhc3QgRnVuY3Rpb25zICovXG5cdGludGVyc2VjdHNCb3goIGJveCwgYm94VG9NZXNoICkge1xuXG5cdFx0b2JiLnNldCggYm94Lm1pbiwgYm94Lm1heCwgYm94VG9NZXNoICk7XG5cdFx0b2JiLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdHJldHVybiB0aGlzLnNoYXBlY2FzdChcblx0XHRcdHtcblx0XHRcdFx0aW50ZXJzZWN0c0JvdW5kczogYm94ID0+IG9iYi5pbnRlcnNlY3RzQm94KCBib3ggKSxcblx0XHRcdFx0aW50ZXJzZWN0c1RyaWFuZ2xlOiB0cmkgPT4gb2JiLmludGVyc2VjdHNUcmlhbmdsZSggdHJpIClcblx0XHRcdH1cblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzU3BoZXJlKCBzcGhlcmUgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zaGFwZWNhc3QoXG5cdFx0XHR7XG5cdFx0XHRcdGludGVyc2VjdHNCb3VuZHM6IGJveCA9PiBzcGhlcmUuaW50ZXJzZWN0c0JveCggYm94ICksXG5cdFx0XHRcdGludGVyc2VjdHNUcmlhbmdsZTogdHJpID0+IHRyaS5pbnRlcnNlY3RzU3BoZXJlKCBzcGhlcmUgKVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0fVxuXG5cdGNsb3Nlc3RQb2ludFRvR2VvbWV0cnkoIG90aGVyR2VvbWV0cnksIGdlb21ldHJ5VG9CdmgsIHRhcmdldDEgPSB7IH0sIHRhcmdldDIgPSB7IH0sIG1pblRocmVzaG9sZCA9IDAsIG1heFRocmVzaG9sZCA9IEluZmluaXR5ICkge1xuXG5cdFx0Y29uc3QgY2xvc2VzdFBvaW50VG9HZW9tZXRyeUZ1bmMgPSB0aGlzLmluZGlyZWN0ID8gY2xvc2VzdFBvaW50VG9HZW9tZXRyeV9pbmRpcmVjdCA6IGNsb3Nlc3RQb2ludFRvR2VvbWV0cnk7XG5cdFx0cmV0dXJuIGNsb3Nlc3RQb2ludFRvR2VvbWV0cnlGdW5jKFxuXHRcdFx0dGhpcyxcblx0XHRcdG90aGVyR2VvbWV0cnksXG5cdFx0XHRnZW9tZXRyeVRvQnZoLFxuXHRcdFx0dGFyZ2V0MSxcblx0XHRcdHRhcmdldDIsXG5cdFx0XHRtaW5UaHJlc2hvbGQsXG5cdFx0XHRtYXhUaHJlc2hvbGQsXG5cdFx0KTtcblxuXHR9XG5cblx0Y2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldCA9IHsgfSwgbWluVGhyZXNob2xkID0gMCwgbWF4VGhyZXNob2xkID0gSW5maW5pdHkgKSB7XG5cblx0XHRyZXR1cm4gY2xvc2VzdFBvaW50VG9Qb2ludChcblx0XHRcdHRoaXMsXG5cdFx0XHRwb2ludCxcblx0XHRcdHRhcmdldCxcblx0XHRcdG1pblRocmVzaG9sZCxcblx0XHRcdG1heFRocmVzaG9sZCxcblx0XHQpO1xuXG5cdH1cblxuXHRnZXRCb3VuZGluZ0JveCggdGFyZ2V0ICkge1xuXG5cdFx0dGFyZ2V0Lm1ha2VFbXB0eSgpO1xuXG5cdFx0Y29uc3Qgcm9vdHMgPSB0aGlzLl9yb290cztcblx0XHRyb290cy5mb3JFYWNoKCBidWZmZXIgPT4ge1xuXG5cdFx0XHRhcnJheVRvQm94KCAwLCBuZXcgRmxvYXQzMkFycmF5KCBidWZmZXIgKSwgdGVtcEJveCApO1xuXHRcdFx0dGFyZ2V0LnVuaW9uKCB0ZW1wQm94ICk7XG5cblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXG5cdH1cblxufVxuIl0sIm5hbWVzIjpbIkJ1ZmZlckF0dHJpYnV0ZSIsIkJveDMiLCJGcm9udFNpZGUiLCJDRU5URVIiLCJCWVRFU19QRVJfTk9ERSIsIklTX0xFQUZOT0RFX0ZMQUciLCJTS0lQX0dFTkVSQVRJT04iLCJidWlsZFBhY2tlZFRyZWUiLCJPcmllbnRlZEJveCIsImFycmF5VG9Cb3giLCJFeHRlbmRlZFRyaWFuZ2xlUG9vbCIsInNoYXBlY2FzdCIsImNsb3Nlc3RQb2ludFRvUG9pbnQiLCJpdGVyYXRlT3ZlclRyaWFuZ2xlcyIsInJlZml0IiwicmF5Y2FzdCIsInJheWNhc3RGaXJzdCIsImludGVyc2VjdHNHZW9tZXRyeSIsImNsb3Nlc3RQb2ludFRvR2VvbWV0cnkiLCJpdGVyYXRlT3ZlclRyaWFuZ2xlc19pbmRpcmVjdCIsInJlZml0X2luZGlyZWN0IiwicmF5Y2FzdF9pbmRpcmVjdCIsInJheWNhc3RGaXJzdF9pbmRpcmVjdCIsImludGVyc2VjdHNHZW9tZXRyeV9pbmRpcmVjdCIsImNsb3Nlc3RQb2ludFRvR2VvbWV0cnlfaW5kaXJlY3QiLCJpc1NoYXJlZEFycmF5QnVmZmVyU3VwcG9ydGVkIiwic2V0VHJpYW5nbGUiLCJidmhjYXN0Iiwib2JiIiwidGVtcEJveCIsIkRFRkFVTFRfT1BUSU9OUyIsInN0cmF0ZWd5IiwibWF4RGVwdGgiLCJtYXhMZWFmVHJpcyIsInVzZVNoYXJlZEFycmF5QnVmZmVyIiwic2V0Qm91bmRpbmdCb3giLCJvblByb2dyZXNzIiwiaW5kaXJlY3QiLCJ2ZXJib3NlIiwiTWVzaEJWSCIsInNlcmlhbGl6ZSIsImJ2aCIsIm9wdGlvbnMiLCJjbG9uZUJ1ZmZlcnMiLCJnZW9tZXRyeSIsInJvb3REYXRhIiwiX3Jvb3RzIiwiaW5kaXJlY3RCdWZmZXIiLCJfaW5kaXJlY3RCdWZmZXIiLCJpbmRleEF0dHJpYnV0ZSIsImdldEluZGV4IiwicmVzdWx0Iiwicm9vdHMiLCJtYXAiLCJyb290Iiwic2xpY2UiLCJpbmRleCIsImFycmF5IiwiZGVzZXJpYWxpemUiLCJkYXRhIiwic2V0SW5kZXgiLCJCb29sZWFuIiwibmV3SW5kZXgiLCJzZXQiLCJuZWVkc1VwZGF0ZSIsImNvbnN0cnVjdG9yIiwiaXNCdWZmZXJHZW9tZXRyeSIsIkVycm9yIiwiaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsIk9iamVjdCIsImFzc2lnbiIsImJvdW5kaW5nQm94IiwiZ2V0Qm91bmRpbmdCb3giLCJyZXNvbHZlVHJpYW5nbGVJbmRleCIsImkiLCJub2RlSW5kaWNlcyIsInJlZml0RnVuYyIsInRyYXZlcnNlIiwiY2FsbGJhY2siLCJyb290SW5kZXgiLCJidWZmZXIiLCJ1aW50MzJBcnJheSIsIlVpbnQzMkFycmF5IiwidWludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIl90cmF2ZXJzZSIsIm5vZGUzMkluZGV4IiwiZGVwdGgiLCJub2RlMTZJbmRleCIsImlzTGVhZiIsIm9mZnNldCIsImNvdW50IiwiRmxvYXQzMkFycmF5IiwibGVmdCIsInJpZ2h0Iiwic3BsaXRBeGlzIiwic3RvcFRyYXZlcnNhbCIsInJheSIsIm1hdGVyaWFsT3JTaWRlIiwiaW50ZXJzZWN0cyIsImlzTWF0ZXJpYWwiLCJpc0FycmF5TWF0ZXJpYWwiLCJBcnJheSIsImlzQXJyYXkiLCJncm91cHMiLCJzaWRlIiwicmF5Y2FzdEZ1bmMiLCJsIiwibGVuZ3RoIiwibWF0ZXJpYWxTaWRlIiwibWF0ZXJpYWxJbmRleCIsInN0YXJ0Q291bnQiLCJqIiwiamwiLCJmYWNlIiwiY2xvc2VzdFJlc3VsdCIsInJheWNhc3RGaXJzdEZ1bmMiLCJkaXN0YW5jZSIsIm90aGVyR2VvbWV0cnkiLCJnZW9tVG9NZXNoIiwiaW50ZXJzZWN0c0dlb21ldHJ5RnVuYyIsImNhbGxiYWNrcyIsInRyaWFuZ2xlIiwiZ2V0UHJpbWl0aXZlIiwiaXRlcmF0ZUZ1bmMiLCJib3VuZHNUcmF2ZXJzZU9yZGVyIiwiaW50ZXJzZWN0c0JvdW5kcyIsImludGVyc2VjdHNSYW5nZSIsImludGVyc2VjdHNUcmlhbmdsZSIsIm9yaWdpbmFsSW50ZXJzZWN0c1JhbmdlIiwiY29udGFpbmVkIiwibm9kZUluZGV4IiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJyZWxlYXNlUHJpbWl0aXZlIiwib3RoZXJCdmgiLCJtYXRyaXhUb0xvY2FsIiwiaW50ZXJzZWN0c1JhbmdlcyIsImludGVyc2VjdHNUcmlhbmdsZXMiLCJ0cmlhbmdsZTEiLCJpbmRleEF0dHIxIiwicG9zaXRpb25BdHRyMSIsImF0dHJpYnV0ZXMiLCJwb3NpdGlvbiIsImFzc2lnblRyaWFuZ2xlMSIsImkxIiwidGkiLCJ0cmlhbmdsZTIiLCJpbmRleEF0dHIyIiwicG9zaXRpb25BdHRyMiIsImFzc2lnblRyaWFuZ2xlMiIsImkyIiwidGkyIiwiaXRlcmF0ZU92ZXJEb3VibGVUcmlhbmdsZXMiLCJvZmZzZXQxIiwiY291bnQxIiwib2Zmc2V0MiIsImNvdW50MiIsImRlcHRoMSIsImluZGV4MSIsImRlcHRoMiIsImluZGV4MiIsImwyIiwiYSIsImFwcGx5TWF0cml4NCIsImIiLCJjIiwibDEiLCJvcmlnaW5hbEludGVyc2VjdHNSYW5nZXMiLCJpbnRlcnNlY3RzQm94IiwiYm94IiwiYm94VG9NZXNoIiwibWluIiwibWF4IiwidHJpIiwiaW50ZXJzZWN0c1NwaGVyZSIsInNwaGVyZSIsImdlb21ldHJ5VG9CdmgiLCJ0YXJnZXQxIiwidGFyZ2V0MiIsIm1pblRocmVzaG9sZCIsIm1heFRocmVzaG9sZCIsIkluZmluaXR5IiwiY2xvc2VzdFBvaW50VG9HZW9tZXRyeUZ1bmMiLCJwb2ludCIsInRhcmdldCIsIm1ha2VFbXB0eSIsImZvckVhY2giLCJ1bmlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/MeshBVH.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/MeshBVHNode.js":
/*!*************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/MeshBVHNode.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeshBVHNode: () => (/* binding */ MeshBVHNode)\n/* harmony export */ });\nclass MeshBVHNode {\n    constructor(){\n        // internal nodes have boundingData, left, right, and splitAxis\n        // leaf nodes have offset and count (referring to primitives in the mesh geometry)\n        this.boundingData = new Float32Array(6);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvTWVzaEJWSE5vZGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BO0lBRVpDLGFBQWM7UUFFYiwrREFBK0Q7UUFDL0Qsa0ZBQWtGO1FBRWxGLElBQUksQ0FBQ0MsWUFBWSxHQUFHLElBQUlDLGFBQWM7SUFFdkM7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9NZXNoQlZITm9kZS5qcz83M2U2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBNZXNoQlZITm9kZSB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHQvLyBpbnRlcm5hbCBub2RlcyBoYXZlIGJvdW5kaW5nRGF0YSwgbGVmdCwgcmlnaHQsIGFuZCBzcGxpdEF4aXNcblx0XHQvLyBsZWFmIG5vZGVzIGhhdmUgb2Zmc2V0IGFuZCBjb3VudCAocmVmZXJyaW5nIHRvIHByaW1pdGl2ZXMgaW4gdGhlIG1lc2ggZ2VvbWV0cnkpXG5cblx0XHR0aGlzLmJvdW5kaW5nRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoIDYgKTtcblxuXHR9XG5cbn1cbiJdLCJuYW1lcyI6WyJNZXNoQlZITm9kZSIsImNvbnN0cnVjdG9yIiwiYm91bmRpbmdEYXRhIiwiRmxvYXQzMkFycmF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/MeshBVHNode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/build/buildTree.js":
/*!*****************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/build/buildTree.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildPackedTree: () => (/* binding */ buildPackedTree),\n/* harmony export */   buildTree: () => (/* binding */ buildTree),\n/* harmony export */   generateIndirectBuffer: () => (/* binding */ generateIndirectBuffer)\n/* harmony export */ });\n/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geometryUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/geometryUtils.js\");\n/* harmony import */ var _computeBoundsUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./computeBoundsUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/computeBoundsUtils.js\");\n/* harmony import */ var _splitUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./splitUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/splitUtils.js\");\n/* harmony import */ var _MeshBVHNode_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../MeshBVHNode.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/MeshBVHNode.js\");\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n/* harmony import */ var _sortUtils_generated_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sortUtils.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/sortUtils.generated.js\");\n/* harmony import */ var _sortUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sortUtils_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/sortUtils_indirect.generated.js\");\n/* harmony import */ var _buildUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./buildUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/buildUtils.js\");\n\n\n\n\n\n\n\n\nfunction generateIndirectBuffer(geometry, useSharedArrayBuffer) {\n    const triCount = (geometry.index ? geometry.index.count : geometry.attributes.position.count) / 3;\n    const useUint32 = triCount > 2 ** 16;\n    const byteCount = useUint32 ? 4 : 2;\n    const buffer = useSharedArrayBuffer ? new SharedArrayBuffer(triCount * byteCount) : new ArrayBuffer(triCount * byteCount);\n    const indirectBuffer = useUint32 ? new Uint32Array(buffer) : new Uint16Array(buffer);\n    for(let i = 0, l = indirectBuffer.length; i < l; i++){\n        indirectBuffer[i] = i;\n    }\n    return indirectBuffer;\n}\nfunction buildTree(bvh, triangleBounds, offset, count, options) {\n    // epxand variables\n    const { maxDepth, verbose, maxLeafTris, strategy, onProgress, indirect } = options;\n    const indirectBuffer = bvh._indirectBuffer;\n    const geometry = bvh.geometry;\n    const indexArray = geometry.index ? geometry.index.array : null;\n    const partionFunc = indirect ? _sortUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_0__.partition_indirect : _sortUtils_generated_js__WEBPACK_IMPORTED_MODULE_1__.partition;\n    // generate intermediate variables\n    const totalTriangles = (0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_2__.getTriCount)(geometry);\n    const cacheCentroidBoundingData = new Float32Array(6);\n    let reachedMaxDepth = false;\n    const root = new _MeshBVHNode_js__WEBPACK_IMPORTED_MODULE_3__.MeshBVHNode();\n    (0,_computeBoundsUtils_js__WEBPACK_IMPORTED_MODULE_4__.getBounds)(triangleBounds, offset, count, root.boundingData, cacheCentroidBoundingData);\n    splitNode(root, offset, count, cacheCentroidBoundingData);\n    return root;\n    function triggerProgress(trianglesProcessed) {\n        if (onProgress) {\n            onProgress(trianglesProcessed / totalTriangles);\n        }\n    }\n    // either recursively splits the given node, creating left and right subtrees for it, or makes it a leaf node,\n    // recording the offset and count of its triangles and writing them into the reordered geometry index.\n    function splitNode(node, offset, count, centroidBoundingData = null, depth = 0) {\n        if (!reachedMaxDepth && depth >= maxDepth) {\n            reachedMaxDepth = true;\n            if (verbose) {\n                console.warn(`MeshBVH: Max depth of ${maxDepth} reached when generating BVH. Consider increasing maxDepth.`);\n                console.warn(geometry);\n            }\n        }\n        // early out if we've met our capacity\n        if (count <= maxLeafTris || depth >= maxDepth) {\n            triggerProgress(offset + count);\n            node.offset = offset;\n            node.count = count;\n            return node;\n        }\n        // Find where to split the volume\n        const split = (0,_splitUtils_js__WEBPACK_IMPORTED_MODULE_5__.getOptimalSplit)(node.boundingData, centroidBoundingData, triangleBounds, offset, count, strategy);\n        if (split.axis === -1) {\n            triggerProgress(offset + count);\n            node.offset = offset;\n            node.count = count;\n            return node;\n        }\n        const splitOffset = partionFunc(indirectBuffer, indexArray, triangleBounds, offset, count, split);\n        // create the two new child nodes\n        if (splitOffset === offset || splitOffset === offset + count) {\n            triggerProgress(offset + count);\n            node.offset = offset;\n            node.count = count;\n        } else {\n            node.splitAxis = split.axis;\n            // create the left child and compute its bounding box\n            const left = new _MeshBVHNode_js__WEBPACK_IMPORTED_MODULE_3__.MeshBVHNode();\n            const lstart = offset;\n            const lcount = splitOffset - offset;\n            node.left = left;\n            (0,_computeBoundsUtils_js__WEBPACK_IMPORTED_MODULE_4__.getBounds)(triangleBounds, lstart, lcount, left.boundingData, cacheCentroidBoundingData);\n            splitNode(left, lstart, lcount, cacheCentroidBoundingData, depth + 1);\n            // repeat for right\n            const right = new _MeshBVHNode_js__WEBPACK_IMPORTED_MODULE_3__.MeshBVHNode();\n            const rstart = splitOffset;\n            const rcount = count - lcount;\n            node.right = right;\n            (0,_computeBoundsUtils_js__WEBPACK_IMPORTED_MODULE_4__.getBounds)(triangleBounds, rstart, rcount, right.boundingData, cacheCentroidBoundingData);\n            splitNode(right, rstart, rcount, cacheCentroidBoundingData, depth + 1);\n        }\n        return node;\n    }\n}\nfunction buildPackedTree(bvh, options) {\n    const geometry = bvh.geometry;\n    if (options.indirect) {\n        bvh._indirectBuffer = generateIndirectBuffer(geometry, options.useSharedArrayBuffer);\n        if ((0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_2__.hasGroupGaps)(geometry) && !options.verbose) {\n            console.warn('MeshBVH: Provided geometry contains groups that do not fully span the vertex contents while using the \"indirect\" option. ' + \"BVH may incorrectly report intersections on unrendered portions of the geometry.\");\n        }\n    }\n    if (!bvh._indirectBuffer) {\n        (0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_2__.ensureIndex)(geometry, options);\n    }\n    const BufferConstructor = options.useSharedArrayBuffer ? SharedArrayBuffer : ArrayBuffer;\n    const triangleBounds = (0,_computeBoundsUtils_js__WEBPACK_IMPORTED_MODULE_4__.computeTriangleBounds)(geometry);\n    const geometryRanges = options.indirect ? (0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_2__.getFullGeometryRange)(geometry) : (0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_2__.getRootIndexRanges)(geometry);\n    bvh._roots = geometryRanges.map((range)=>{\n        const root = buildTree(bvh, triangleBounds, range.offset, range.count, options);\n        const nodeCount = (0,_buildUtils_js__WEBPACK_IMPORTED_MODULE_6__.countNodes)(root);\n        const buffer = new BufferConstructor(_Constants_js__WEBPACK_IMPORTED_MODULE_7__.BYTES_PER_NODE * nodeCount);\n        (0,_buildUtils_js__WEBPACK_IMPORTED_MODULE_6__.populateBuffer)(0, root, buffer);\n        return buffer;\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvYnVpbGRUcmVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVIO0FBQzVDO0FBQ3pCO0FBQ0Y7QUFDQztBQUVJO0FBQ2tCO0FBQ1Y7QUFFdEQsU0FBU2MsdUJBQXdCQyxRQUFRLEVBQUVDLG9CQUFvQjtJQUVyRSxNQUFNQyxXQUFXLENBQUVGLFNBQVNHLEtBQUssR0FBR0gsU0FBU0csS0FBSyxDQUFDQyxLQUFLLEdBQUdKLFNBQVNLLFVBQVUsQ0FBQ0MsUUFBUSxDQUFDRixLQUFLLElBQUs7SUFDbEcsTUFBTUcsWUFBWUwsV0FBVyxLQUFLO0lBQ2xDLE1BQU1NLFlBQVlELFlBQVksSUFBSTtJQUVsQyxNQUFNRSxTQUFTUix1QkFBdUIsSUFBSVMsa0JBQW1CUixXQUFXTSxhQUFjLElBQUlHLFlBQWFULFdBQVdNO0lBQ2xILE1BQU1JLGlCQUFpQkwsWUFBWSxJQUFJTSxZQUFhSixVQUFXLElBQUlLLFlBQWFMO0lBQ2hGLElBQU0sSUFBSU0sSUFBSSxHQUFHQyxJQUFJSixlQUFlSyxNQUFNLEVBQUVGLElBQUlDLEdBQUdELElBQU87UUFFekRILGNBQWMsQ0FBRUcsRUFBRyxHQUFHQTtJQUV2QjtJQUVBLE9BQU9IO0FBRVI7QUFFTyxTQUFTTSxVQUFXQyxHQUFHLEVBQUVDLGNBQWMsRUFBRUMsTUFBTSxFQUFFakIsS0FBSyxFQUFFa0IsT0FBTztJQUVyRSxtQkFBbUI7SUFDbkIsTUFBTSxFQUNMQyxRQUFRLEVBQ1JDLE9BQU8sRUFDUEMsV0FBVyxFQUNYQyxRQUFRLEVBQ1JDLFVBQVUsRUFDVkMsUUFBUSxFQUNSLEdBQUdOO0lBQ0osTUFBTVYsaUJBQWlCTyxJQUFJVSxlQUFlO0lBQzFDLE1BQU03QixXQUFXbUIsSUFBSW5CLFFBQVE7SUFDN0IsTUFBTThCLGFBQWE5QixTQUFTRyxLQUFLLEdBQUdILFNBQVNHLEtBQUssQ0FBQzRCLEtBQUssR0FBRztJQUMzRCxN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VSxlQUFlLEdBQUc5Qix1QkFBd0JDLFVBQVVzQixRQUFRckIsb0JBQW9CO1FBRXBGLElBQUtaLCtEQUFZQSxDQUFFVyxhQUFjLENBQUVzQixRQUFRRSxPQUFPLEVBQUc7WUFFcERxQixRQUFRQyxJQUFJLENBQ1gsOEhBQ0E7UUFHRjtJQUVEO0lBRUEsSUFBSyxDQUFFM0IsSUFBSVUsZUFBZSxFQUFHO1FBRTVCNUMsOERBQVdBLENBQUVlLFVBQVVzQjtJQUV4QjtJQUVBLE1BQU1vQyxvQkFBb0JwQyxRQUFRckIsb0JBQW9CLEdBQUdTLG9CQUFvQkM7SUFFN0UsTUFBTVMsaUJBQWlCN0IsNkVBQXFCQSxDQUFFUztJQUM5QyxNQUFNMkQsaUJBQWlCckMsUUFBUU0sUUFBUSxHQUFHMUMsdUVBQW9CQSxDQUFFYyxZQUFhYixxRUFBa0JBLENBQUVhO0lBQ2pHbUIsSUFBSXlDLE1BQU0sR0FBR0QsZUFBZUUsR0FBRyxDQUFFQyxDQUFBQTtRQUVoQyxNQUFNekIsT0FBT25CLFVBQVdDLEtBQUtDLGdCQUFnQjBDLE1BQU16QyxNQUFNLEVBQUV5QyxNQUFNMUQsS0FBSyxFQUFFa0I7UUFDeEUsTUFBTXlDLFlBQVlsRSwwREFBVUEsQ0FBRXdDO1FBQzlCLE1BQU01QixTQUFTLElBQUlpRCxrQkFBbUJoRSx5REFBY0EsR0FBR3FFO1FBQ3ZEakUsOERBQWNBLENBQUUsR0FBR3VDLE1BQU01QjtRQUN6QixPQUFPQTtJQUVSO0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvYnVpbGRUcmVlLmpzP2E3ODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5zdXJlSW5kZXgsIGdldEZ1bGxHZW9tZXRyeVJhbmdlLCBnZXRSb290SW5kZXhSYW5nZXMsIGdldFRyaUNvdW50LCBoYXNHcm91cEdhcHMsIH0gZnJvbSAnLi9nZW9tZXRyeVV0aWxzLmpzJztcbmltcG9ydCB7IGdldEJvdW5kcywgY29tcHV0ZVRyaWFuZ2xlQm91bmRzIH0gZnJvbSAnLi9jb21wdXRlQm91bmRzVXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0T3B0aW1hbFNwbGl0IH0gZnJvbSAnLi9zcGxpdFV0aWxzLmpzJztcbmltcG9ydCB7IE1lc2hCVkhOb2RlIH0gZnJvbSAnLi4vTWVzaEJWSE5vZGUuanMnO1xuaW1wb3J0IHsgQllURVNfUEVSX05PREUgfSBmcm9tICcuLi9Db25zdGFudHMuanMnO1xuXG5pbXBvcnQgeyBwYXJ0aXRpb24gfSBmcm9tICcuL3NvcnRVdGlscy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcGFydGl0aW9uX2luZGlyZWN0IH0gZnJvbSAnLi9zb3J0VXRpbHNfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNvdW50Tm9kZXMsIHBvcHVsYXRlQnVmZmVyIH0gZnJvbSAnLi9idWlsZFV0aWxzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW5kaXJlY3RCdWZmZXIoIGdlb21ldHJ5LCB1c2VTaGFyZWRBcnJheUJ1ZmZlciApIHtcblxuXHRjb25zdCB0cmlDb3VudCA9ICggZ2VvbWV0cnkuaW5kZXggPyBnZW9tZXRyeS5pbmRleC5jb3VudCA6IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQgKSAvIDM7XG5cdGNvbnN0IHVzZVVpbnQzMiA9IHRyaUNvdW50ID4gMiAqKiAxNjtcblx0Y29uc3QgYnl0ZUNvdW50ID0gdXNlVWludDMyID8gNCA6IDI7XG5cblx0Y29uc3QgYnVmZmVyID0gdXNlU2hhcmVkQXJyYXlCdWZmZXIgPyBuZXcgU2hhcmVkQXJyYXlCdWZmZXIoIHRyaUNvdW50ICogYnl0ZUNvdW50ICkgOiBuZXcgQXJyYXlCdWZmZXIoIHRyaUNvdW50ICogYnl0ZUNvdW50ICk7XG5cdGNvbnN0IGluZGlyZWN0QnVmZmVyID0gdXNlVWludDMyID8gbmV3IFVpbnQzMkFycmF5KCBidWZmZXIgKSA6IG5ldyBVaW50MTZBcnJheSggYnVmZmVyICk7XG5cdGZvciAoIGxldCBpID0gMCwgbCA9IGluZGlyZWN0QnVmZmVyLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRpbmRpcmVjdEJ1ZmZlclsgaSBdID0gaTtcblxuXHR9XG5cblx0cmV0dXJuIGluZGlyZWN0QnVmZmVyO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFRyZWUoIGJ2aCwgdHJpYW5nbGVCb3VuZHMsIG9mZnNldCwgY291bnQsIG9wdGlvbnMgKSB7XG5cblx0Ly8gZXB4YW5kIHZhcmlhYmxlc1xuXHRjb25zdCB7XG5cdFx0bWF4RGVwdGgsXG5cdFx0dmVyYm9zZSxcblx0XHRtYXhMZWFmVHJpcyxcblx0XHRzdHJhdGVneSxcblx0XHRvblByb2dyZXNzLFxuXHRcdGluZGlyZWN0LFxuXHR9ID0gb3B0aW9ucztcblx0Y29uc3QgaW5kaXJlY3RCdWZmZXIgPSBidmguX2luZGlyZWN0QnVmZmVyO1xuXHRjb25zdCBnZW9tZXRyeSA9IGJ2aC5nZW9tZXRyeTtcblx0Y29uc3QgaW5kZXhBcnJheSA9IGdlb21ldHJ5LmluZGV4ID8gZ2VvbWV0cnkuaW5kZXguYXJyYXkgOiBudWxsO1xuXHRjb25zdCBwYXJ0aW9uRnVuYyA9IGluZGlyZWN0ID8gcGFydGl0aW9uX2luZGlyZWN0IDogcGFydGl0aW9uO1xuXG5cdC8vIGdlbmVyYXRlIGludGVybWVkaWF0ZSB2YXJpYWJsZXNcblx0Y29uc3QgdG90YWxUcmlhbmdsZXMgPSBnZXRUcmlDb3VudCggZ2VvbWV0cnkgKTtcblx0Y29uc3QgY2FjaGVDZW50cm9pZEJvdW5kaW5nRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoIDYgKTtcblx0bGV0IHJlYWNoZWRNYXhEZXB0aCA9IGZhbHNlO1xuXG5cdGNvbnN0IHJvb3QgPSBuZXcgTWVzaEJWSE5vZGUoKTtcblx0Z2V0Qm91bmRzKCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgcm9vdC5ib3VuZGluZ0RhdGEsIGNhY2hlQ2VudHJvaWRCb3VuZGluZ0RhdGEgKTtcblx0c3BsaXROb2RlKCByb290LCBvZmZzZXQsIGNvdW50LCBjYWNoZUNlbnRyb2lkQm91bmRpbmdEYXRhICk7XG5cdHJldHVybiByb290O1xuXG5cdGZ1bmN0aW9uIHRyaWdnZXJQcm9ncmVzcyggdHJpYW5nbGVzUHJvY2Vzc2VkICkge1xuXG5cdFx0aWYgKCBvblByb2dyZXNzICkge1xuXG5cdFx0XHRvblByb2dyZXNzKCB0cmlhbmdsZXNQcm9jZXNzZWQgLyB0b3RhbFRyaWFuZ2xlcyApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvLyBlaXRoZXIgcmVjdXJzaXZlbHkgc3BsaXRzIHRoZSBnaXZlbiBub2RlLCBjcmVhdGluZyBsZWZ0IGFuZCByaWdodCBzdWJ0cmVlcyBmb3IgaXQsIG9yIG1ha2VzIGl0IGEgbGVhZiBub2RlLFxuXHQvLyByZWNvcmRpbmcgdGhlIG9mZnNldCBhbmQgY291bnQgb2YgaXRzIHRyaWFuZ2xlcyBhbmQgd3JpdGluZyB0aGVtIGludG8gdGhlIHJlb3JkZXJlZCBnZW9tZXRyeSBpbmRleC5cblx0ZnVuY3Rpb24gc3BsaXROb2RlKCBub2RlLCBvZmZzZXQsIGNvdW50LCBjZW50cm9pZEJvdW5kaW5nRGF0YSA9IG51bGwsIGRlcHRoID0gMCApIHtcblxuXHRcdGlmICggISByZWFjaGVkTWF4RGVwdGggJiYgZGVwdGggPj0gbWF4RGVwdGggKSB7XG5cblx0XHRcdHJlYWNoZWRNYXhEZXB0aCA9IHRydWU7XG5cdFx0XHRpZiAoIHZlcmJvc2UgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCBgTWVzaEJWSDogTWF4IGRlcHRoIG9mICR7IG1heERlcHRoIH0gcmVhY2hlZCB3aGVuIGdlbmVyYXRpbmcgQlZILiBDb25zaWRlciBpbmNyZWFzaW5nIG1heERlcHRoLmAgKTtcblx0XHRcdFx0Y29uc29sZS53YXJuKCBnZW9tZXRyeSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBlYXJseSBvdXQgaWYgd2UndmUgbWV0IG91ciBjYXBhY2l0eVxuXHRcdGlmICggY291bnQgPD0gbWF4TGVhZlRyaXMgfHwgZGVwdGggPj0gbWF4RGVwdGggKSB7XG5cblx0XHRcdHRyaWdnZXJQcm9ncmVzcyggb2Zmc2V0ICsgY291bnQgKTtcblx0XHRcdG5vZGUub2Zmc2V0ID0gb2Zmc2V0O1xuXHRcdFx0bm9kZS5jb3VudCA9IGNvdW50O1xuXHRcdFx0cmV0dXJuIG5vZGU7XG5cblx0XHR9XG5cblx0XHQvLyBGaW5kIHdoZXJlIHRvIHNwbGl0IHRoZSB2b2x1bWVcblx0XHRjb25zdCBzcGxpdCA9IGdldE9wdGltYWxTcGxpdCggbm9kZS5ib3VuZGluZ0RhdGEsIGNlbnRyb2lkQm91bmRpbmdEYXRhLCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgc3RyYXRlZ3kgKTtcblx0XHRpZiAoIHNwbGl0LmF4aXMgPT09IC0gMSApIHtcblxuXHRcdFx0dHJpZ2dlclByb2dyZXNzKCBvZmZzZXQgKyBjb3VudCApO1xuXHRcdFx0bm9kZS5vZmZzZXQgPSBvZmZzZXQ7XG5cdFx0XHRub2RlLmNvdW50ID0gY291bnQ7XG5cdFx0XHRyZXR1cm4gbm9kZTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHNwbGl0T2Zmc2V0ID0gcGFydGlvbkZ1bmMoIGluZGlyZWN0QnVmZmVyLCBpbmRleEFycmF5LCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgc3BsaXQgKTtcblxuXHRcdC8vIGNyZWF0ZSB0aGUgdHdvIG5ldyBjaGlsZCBub2Rlc1xuXHRcdGlmICggc3BsaXRPZmZzZXQgPT09IG9mZnNldCB8fCBzcGxpdE9mZnNldCA9PT0gb2Zmc2V0ICsgY291bnQgKSB7XG5cblx0XHRcdHRyaWdnZXJQcm9ncmVzcyggb2Zmc2V0ICsgY291bnQgKTtcblx0XHRcdG5vZGUub2Zmc2V0ID0gb2Zmc2V0O1xuXHRcdFx0bm9kZS5jb3VudCA9IGNvdW50O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bm9kZS5zcGxpdEF4aXMgPSBzcGxpdC5heGlzO1xuXG5cdFx0XHQvLyBjcmVhdGUgdGhlIGxlZnQgY2hpbGQgYW5kIGNvbXB1dGUgaXRzIGJvdW5kaW5nIGJveFxuXHRcdFx0Y29uc3QgbGVmdCA9IG5ldyBNZXNoQlZITm9kZSgpO1xuXHRcdFx0Y29uc3QgbHN0YXJ0ID0gb2Zmc2V0O1xuXHRcdFx0Y29uc3QgbGNvdW50ID0gc3BsaXRPZmZzZXQgLSBvZmZzZXQ7XG5cdFx0XHRub2RlLmxlZnQgPSBsZWZ0O1xuXG5cdFx0XHRnZXRCb3VuZHMoIHRyaWFuZ2xlQm91bmRzLCBsc3RhcnQsIGxjb3VudCwgbGVmdC5ib3VuZGluZ0RhdGEsIGNhY2hlQ2VudHJvaWRCb3VuZGluZ0RhdGEgKTtcblx0XHRcdHNwbGl0Tm9kZSggbGVmdCwgbHN0YXJ0LCBsY291bnQsIGNhY2hlQ2VudHJvaWRCb3VuZGluZ0RhdGEsIGRlcHRoICsgMSApO1xuXG5cdFx0XHQvLyByZXBlYXQgZm9yIHJpZ2h0XG5cdFx0XHRjb25zdCByaWdodCA9IG5ldyBNZXNoQlZITm9kZSgpO1xuXHRcdFx0Y29uc3QgcnN0YXJ0ID0gc3BsaXRPZmZzZXQ7XG5cdFx0XHRjb25zdCByY291bnQgPSBjb3VudCAtIGxjb3VudDtcblx0XHRcdG5vZGUucmlnaHQgPSByaWdodDtcblxuXHRcdFx0Z2V0Qm91bmRzKCB0cmlhbmdsZUJvdW5kcywgcnN0YXJ0LCByY291bnQsIHJpZ2h0LmJvdW5kaW5nRGF0YSwgY2FjaGVDZW50cm9pZEJvdW5kaW5nRGF0YSApO1xuXHRcdFx0c3BsaXROb2RlKCByaWdodCwgcnN0YXJ0LCByY291bnQsIGNhY2hlQ2VudHJvaWRCb3VuZGluZ0RhdGEsIGRlcHRoICsgMSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5vZGU7XG5cblx0fVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFBhY2tlZFRyZWUoIGJ2aCwgb3B0aW9ucyApIHtcblxuXHRjb25zdCBnZW9tZXRyeSA9IGJ2aC5nZW9tZXRyeTtcblx0aWYgKCBvcHRpb25zLmluZGlyZWN0ICkge1xuXG5cdFx0YnZoLl9pbmRpcmVjdEJ1ZmZlciA9IGdlbmVyYXRlSW5kaXJlY3RCdWZmZXIoIGdlb21ldHJ5LCBvcHRpb25zLnVzZVNoYXJlZEFycmF5QnVmZmVyICk7XG5cblx0XHRpZiAoIGhhc0dyb3VwR2FwcyggZ2VvbWV0cnkgKSAmJiAhIG9wdGlvbnMudmVyYm9zZSApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHQnTWVzaEJWSDogUHJvdmlkZWQgZ2VvbWV0cnkgY29udGFpbnMgZ3JvdXBzIHRoYXQgZG8gbm90IGZ1bGx5IHNwYW4gdGhlIHZlcnRleCBjb250ZW50cyB3aGlsZSB1c2luZyB0aGUgXCJpbmRpcmVjdFwiIG9wdGlvbi4gJyArXG5cdFx0XHRcdCdCVkggbWF5IGluY29ycmVjdGx5IHJlcG9ydCBpbnRlcnNlY3Rpb25zIG9uIHVucmVuZGVyZWQgcG9ydGlvbnMgb2YgdGhlIGdlb21ldHJ5Lidcblx0XHRcdCk7XG5cblx0XHR9XG5cblx0fVxuXG5cdGlmICggISBidmguX2luZGlyZWN0QnVmZmVyICkge1xuXG5cdFx0ZW5zdXJlSW5kZXgoIGdlb21ldHJ5LCBvcHRpb25zICk7XG5cblx0fVxuXG5cdGNvbnN0IEJ1ZmZlckNvbnN0cnVjdG9yID0gb3B0aW9ucy51c2VTaGFyZWRBcnJheUJ1ZmZlciA/IFNoYXJlZEFycmF5QnVmZmVyIDogQXJyYXlCdWZmZXI7XG5cblx0Y29uc3QgdHJpYW5nbGVCb3VuZHMgPSBjb21wdXRlVHJpYW5nbGVCb3VuZHMoIGdlb21ldHJ5ICk7XG5cdGNvbnN0IGdlb21ldHJ5UmFuZ2VzID0gb3B0aW9ucy5pbmRpcmVjdCA/IGdldEZ1bGxHZW9tZXRyeVJhbmdlKCBnZW9tZXRyeSApIDogZ2V0Um9vdEluZGV4UmFuZ2VzKCBnZW9tZXRyeSApO1xuXHRidmguX3Jvb3RzID0gZ2VvbWV0cnlSYW5nZXMubWFwKCByYW5nZSA9PiB7XG5cblx0XHRjb25zdCByb290ID0gYnVpbGRUcmVlKCBidmgsIHRyaWFuZ2xlQm91bmRzLCByYW5nZS5vZmZzZXQsIHJhbmdlLmNvdW50LCBvcHRpb25zICk7XG5cdFx0Y29uc3Qgbm9kZUNvdW50ID0gY291bnROb2Rlcyggcm9vdCApO1xuXHRcdGNvbnN0IGJ1ZmZlciA9IG5ldyBCdWZmZXJDb25zdHJ1Y3RvciggQllURVNfUEVSX05PREUgKiBub2RlQ291bnQgKTtcblx0XHRwb3B1bGF0ZUJ1ZmZlciggMCwgcm9vdCwgYnVmZmVyICk7XG5cdFx0cmV0dXJuIGJ1ZmZlcjtcblxuXHR9ICk7XG5cbn1cbiJdLCJuYW1lcyI6WyJlbnN1cmVJbmRleCIsImdldEZ1bGxHZW9tZXRyeVJhbmdlIiwiZ2V0Um9vdEluZGV4UmFuZ2VzIiwiZ2V0VHJpQ291bnQiLCJoYXNHcm91cEdhcHMiLCJnZXRCb3VuZHMiLCJjb21wdXRlVHJpYW5nbGVCb3VuZHMiLCJnZXRPcHRpbWFsU3BsaXQiLCJNZXNoQlZITm9kZSIsIkJZVEVTX1BFUl9OT0RFIiwicGFydGl0aW9uIiwicGFydGl0aW9uX2luZGlyZWN0IiwiY291bnROb2RlcyIsInBvcHVsYXRlQnVmZmVyIiwiZ2VuZXJhdGVJbmRpcmVjdEJ1ZmZlciIsImdlb21ldHJ5IiwidXNlU2hhcmVkQXJyYXlCdWZmZXIiLCJ0cmlDb3VudCIsImluZGV4IiwiY291bnQiLCJhdHRyaWJ1dGVzIiwicG9zaXRpb24iLCJ1c2VVaW50MzIiLCJieXRlQ291bnQiLCJidWZmZXIiLCJTaGFyZWRBcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiaW5kaXJlY3RCdWZmZXIiLCJVaW50MzJBcnJheSIsIlVpbnQxNkFycmF5IiwiaSIsImwiLCJsZW5ndGgiLCJidWlsZFRyZWUiLCJidmgiLCJ0cmlhbmdsZUJvdW5kcyIsIm9mZnNldCIsIm9wdGlvbnMiLCJtYXhEZXB0aCIsInZlcmJvc2UiLCJtYXhMZWFmVHJpcyIsInN0cmF0ZWd5Iiwib25Qcm9ncmVzcyIsImluZGlyZWN0IiwiX2luZGlyZWN0QnVmZmVyIiwiaW5kZXhBcnJheSIsImFycmF5IiwicGFydGlvbkZ1bmMiLCJ0b3RhbFRyaWFuZ2xlcyIsImNhY2hlQ2VudHJvaWRCb3VuZGluZ0RhdGEiLCJGbG9hdDMyQXJyYXkiLCJyZWFjaGVkTWF4RGVwdGgiLCJyb290IiwiYm91bmRpbmdEYXRhIiwic3BsaXROb2RlIiwidHJpZ2dlclByb2dyZXNzIiwidHJpYW5nbGVzUHJvY2Vzc2VkIiwibm9kZSIsImNlbnRyb2lkQm91bmRpbmdEYXRhIiwiZGVwdGgiLCJjb25zb2xlIiwid2FybiIsInNwbGl0IiwiYXhpcyIsInNwbGl0T2Zmc2V0Iiwic3BsaXRBeGlzIiwibGVmdCIsImxzdGFydCIsImxjb3VudCIsInJpZ2h0IiwicnN0YXJ0IiwicmNvdW50IiwiYnVpbGRQYWNrZWRUcmVlIiwiQnVmZmVyQ29uc3RydWN0b3IiLCJnZW9tZXRyeVJhbmdlcyIsIl9yb290cyIsIm1hcCIsInJhbmdlIiwibm9kZUNvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/build/buildTree.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/build/buildUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/build/buildUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countNodes: () => (/* binding */ countNodes),\n/* harmony export */   populateBuffer: () => (/* binding */ populateBuffer)\n/* harmony export */ });\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n\n\nlet float32Array, uint32Array, uint16Array, uint8Array;\nconst MAX_POINTER = Math.pow(2, 32);\nfunction countNodes(node) {\n    if (\"count\" in node) {\n        return 1;\n    } else {\n        return 1 + countNodes(node.left) + countNodes(node.right);\n    }\n}\nfunction populateBuffer(byteOffset, node, buffer) {\n    float32Array = new Float32Array(buffer);\n    uint32Array = new Uint32Array(buffer);\n    uint16Array = new Uint16Array(buffer);\n    uint8Array = new Uint8Array(buffer);\n    return _populateBuffer(byteOffset, node);\n}\n// pack structure\n// boundingData  \t\t\t\t: 6 float32\n// right / offset \t\t\t\t: 1 uint32\n// splitAxis / isLeaf + count \t: 1 uint32 / 2 uint16\nfunction _populateBuffer(byteOffset, node) {\n    const stride4Offset = byteOffset / 4;\n    const stride2Offset = byteOffset / 2;\n    const isLeaf = \"count\" in node;\n    const boundingData = node.boundingData;\n    for(let i = 0; i < 6; i++){\n        float32Array[stride4Offset + i] = boundingData[i];\n    }\n    if (isLeaf) {\n        if (node.buffer) {\n            const buffer = node.buffer;\n            uint8Array.set(new Uint8Array(buffer), byteOffset);\n            for(let offset = byteOffset, l = byteOffset + buffer.byteLength; offset < l; offset += _Constants_js__WEBPACK_IMPORTED_MODULE_0__.BYTES_PER_NODE){\n                const offset2 = offset / 2;\n                if (!(0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_1__.IS_LEAF)(offset2, uint16Array)) {\n                    uint32Array[offset / 4 + 6] += stride4Offset;\n                }\n            }\n            return byteOffset + buffer.byteLength;\n        } else {\n            const offset = node.offset;\n            const count = node.count;\n            uint32Array[stride4Offset + 6] = offset;\n            uint16Array[stride2Offset + 14] = count;\n            uint16Array[stride2Offset + 15] = _Constants_js__WEBPACK_IMPORTED_MODULE_0__.IS_LEAFNODE_FLAG;\n            return byteOffset + _Constants_js__WEBPACK_IMPORTED_MODULE_0__.BYTES_PER_NODE;\n        }\n    } else {\n        const left = node.left;\n        const right = node.right;\n        const splitAxis = node.splitAxis;\n        let nextUnusedPointer;\n        nextUnusedPointer = _populateBuffer(byteOffset + _Constants_js__WEBPACK_IMPORTED_MODULE_0__.BYTES_PER_NODE, left);\n        if (nextUnusedPointer / 4 > MAX_POINTER) {\n            throw new Error(\"MeshBVH: Cannot store child pointer greater than 32 bits.\");\n        }\n        uint32Array[stride4Offset + 6] = nextUnusedPointer / 4;\n        nextUnusedPointer = _populateBuffer(nextUnusedPointer, right);\n        uint32Array[stride4Offset + 7] = splitAxis;\n        return nextUnusedPointer;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvYnVpbGRVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1FO0FBQ2I7QUFFdEQsSUFBSUcsY0FBY0MsYUFBYUMsYUFBYUM7QUFDNUMsTUFBTUMsY0FBY0MsS0FBS0MsR0FBRyxDQUFFLEdBQUc7QUFFMUIsU0FBU0MsV0FBWUMsSUFBSTtJQUUvQixJQUFLLFdBQVdBLE1BQU87UUFFdEIsT0FBTztJQUVSLE9BQU87UUFFTixPQUFPLElBQUlELFdBQVlDLEtBQUtDLElBQUksSUFBS0YsV0FBWUMsS0FBS0UsS0FBSztJQUU1RDtBQUVEO0FBRU8sU0FBU0MsZUFBZ0JDLFVBQVUsRUFBRUosSUFBSSxFQUFFSyxNQUFNO0lBRXZEYixlQUFlLElBQUljLGFBQWNEO0lBQ2pDWixjQUFjLElBQUljLFlBQWFGO0lBQy9CWCxjQUFjLElBQUljLFlBQWFIO0lBQy9CVixhQUFhLElBQUljLFdBQVlKO0lBRTdCLE9BQU9LLGdCQUFpQk4sWUFBWUo7QUFFckM7QUFFQSxpQkFBaUI7QUFDakIsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyxvREFBb0Q7QUFDcEQsU0FBU1UsZ0JBQWlCTixVQUFVLEVBQUVKLElBQUk7SUFFekMsTUFBTVcsZ0JBQWdCUCxhQUFhO0lBQ25DLE1BQU1RLGdCQUFnQlIsYUFBYTtJQUNuQyxNQUFNUyxTQUFTLFdBQVdiO0lBQzFCLE1BQU1jLGVBQWVkLEtBQUtjLFlBQVk7SUFDdEMsSUFBTSxJQUFJQyxJQUFJLEdBQUdBLElBQUksR0FBR0EsSUFBTztRQUU5QnZCLFlBQVksQ0FBRW1CLGdCQUFnQkksRUFBRyxHQUFHRCxZQUFZLENBQUVDLEVBQUc7SUFFdEQ7SUFFQSxJQUFLRixRQUFTO1FBRWIsSUFBS2IsS0FBS0ssTUFBTSxFQUFHO1lBRWxCLE1BQU1BLFNBQVNMLEtBQUtLLE1BQU07WUFDMUJWLFdBQVdxQixHQUFHLENBQUUsSUFBSVAsV0FBWUosU0FBVUQ7WUFFMUMsSUFBTSxJQUFJYSxTQUFTYixZQUFZYyxJQUFJZCxhQUFhQyxPQUFPYyxVQUFVLEVBQUVGLFNBQVNDLEdBQUdELFVBQVU1Qix5REFBY0EsQ0FBRztnQkFFekcsTUFBTStCLFVBQVVILFNBQVM7Z0JBQ3pCLElBQUssQ0FBRTFCLGtFQUFPQSxDQUFFNkIsU0FBUzFCLGNBQWdCO29CQUV4Q0QsV0FBVyxDQUFFLFNBQVcsSUFBTSxFQUFHLElBQUlrQjtnQkFHdEM7WUFFRDtZQUVBLE9BQU9QLGFBQWFDLE9BQU9jLFVBQVU7UUFFdEMsT0FBTztZQUVOLE1BQU1GLFNBQVNqQixLQUFLaUIsTUFBTTtZQUMxQixNQUFNSSxRQUFRckIsS0FBS3FCLEtBQUs7WUFDeEI1QixXQUFXLENBQUVrQixnQkFBZ0IsRUFBRyxHQUFHTTtZQUNuQ3ZCLFdBQVcsQ0FBRWtCLGdCQUFnQixHQUFJLEdBQUdTO1lBQ3BDM0IsV0FBVyxDQUFFa0IsZ0JBQWdCLEdBQUksR0FBR3RCLDJEQUFnQkE7WUFDcEQsT0FBT2MsYUFBYWYseURBQWNBO1FBRW5DO0lBRUQsT0FBTztRQUVOLE1BQU1ZLE9BQU9ELEtBQUtDLElBQUk7UUFDdEIsTUFBTUMsUUFBUUYsS0FBS0UsS0FBSztRQUN4QixNQUFNb0IsWUFBWXRCLEtBQUtzQixTQUFTO1FBRWhDLElBQUlDO1FBQ0pBLG9CQUFvQmIsZ0JBQWlCTixhQUFhZix5REFBY0EsRUFBRVk7UUFFbEUsSUFBSyxvQkFBc0IsSUFBTUwsYUFBYztZQUU5QyxNQUFNLElBQUk0QixNQUFPO1FBRWxCO1FBRUEvQixXQUFXLENBQUVrQixnQkFBZ0IsRUFBRyxHQUFHWSxvQkFBb0I7UUFDdkRBLG9CQUFvQmIsZ0JBQWlCYSxtQkFBbUJyQjtRQUV4RFQsV0FBVyxDQUFFa0IsZ0JBQWdCLEVBQUcsR0FBR1c7UUFDbkMsT0FBT0M7SUFFUjtBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2J1aWxkL2J1aWxkVXRpbHMuanM/NTRlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCWVRFU19QRVJfTk9ERSwgSVNfTEVBRk5PREVfRkxBRyB9IGZyb20gJy4uL0NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBJU19MRUFGIH0gZnJvbSAnLi4vdXRpbHMvbm9kZUJ1ZmZlclV0aWxzLmpzJztcblxubGV0IGZsb2F0MzJBcnJheSwgdWludDMyQXJyYXksIHVpbnQxNkFycmF5LCB1aW50OEFycmF5O1xuY29uc3QgTUFYX1BPSU5URVIgPSBNYXRoLnBvdyggMiwgMzIgKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50Tm9kZXMoIG5vZGUgKSB7XG5cblx0aWYgKCAnY291bnQnIGluIG5vZGUgKSB7XG5cblx0XHRyZXR1cm4gMTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0cmV0dXJuIDEgKyBjb3VudE5vZGVzKCBub2RlLmxlZnQgKSArIGNvdW50Tm9kZXMoIG5vZGUucmlnaHQgKTtcblxuXHR9XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlQnVmZmVyKCBieXRlT2Zmc2V0LCBub2RlLCBidWZmZXIgKSB7XG5cblx0ZmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSggYnVmZmVyICk7XG5cdHVpbnQzMkFycmF5ID0gbmV3IFVpbnQzMkFycmF5KCBidWZmZXIgKTtcblx0dWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoIGJ1ZmZlciApO1xuXHR1aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoIGJ1ZmZlciApO1xuXG5cdHJldHVybiBfcG9wdWxhdGVCdWZmZXIoIGJ5dGVPZmZzZXQsIG5vZGUgKTtcblxufVxuXG4vLyBwYWNrIHN0cnVjdHVyZVxuLy8gYm91bmRpbmdEYXRhICBcdFx0XHRcdDogNiBmbG9hdDMyXG4vLyByaWdodCAvIG9mZnNldCBcdFx0XHRcdDogMSB1aW50MzJcbi8vIHNwbGl0QXhpcyAvIGlzTGVhZiArIGNvdW50IFx0OiAxIHVpbnQzMiAvIDIgdWludDE2XG5mdW5jdGlvbiBfcG9wdWxhdGVCdWZmZXIoIGJ5dGVPZmZzZXQsIG5vZGUgKSB7XG5cblx0Y29uc3Qgc3RyaWRlNE9mZnNldCA9IGJ5dGVPZmZzZXQgLyA0O1xuXHRjb25zdCBzdHJpZGUyT2Zmc2V0ID0gYnl0ZU9mZnNldCAvIDI7XG5cdGNvbnN0IGlzTGVhZiA9ICdjb3VudCcgaW4gbm9kZTtcblx0Y29uc3QgYm91bmRpbmdEYXRhID0gbm9kZS5ib3VuZGluZ0RhdGE7XG5cdGZvciAoIGxldCBpID0gMDsgaSA8IDY7IGkgKysgKSB7XG5cblx0XHRmbG9hdDMyQXJyYXlbIHN0cmlkZTRPZmZzZXQgKyBpIF0gPSBib3VuZGluZ0RhdGFbIGkgXTtcblxuXHR9XG5cblx0aWYgKCBpc0xlYWYgKSB7XG5cblx0XHRpZiAoIG5vZGUuYnVmZmVyICkge1xuXG5cdFx0XHRjb25zdCBidWZmZXIgPSBub2RlLmJ1ZmZlcjtcblx0XHRcdHVpbnQ4QXJyYXkuc2V0KCBuZXcgVWludDhBcnJheSggYnVmZmVyICksIGJ5dGVPZmZzZXQgKTtcblxuXHRcdFx0Zm9yICggbGV0IG9mZnNldCA9IGJ5dGVPZmZzZXQsIGwgPSBieXRlT2Zmc2V0ICsgYnVmZmVyLmJ5dGVMZW5ndGg7IG9mZnNldCA8IGw7IG9mZnNldCArPSBCWVRFU19QRVJfTk9ERSApIHtcblxuXHRcdFx0XHRjb25zdCBvZmZzZXQyID0gb2Zmc2V0IC8gMjtcblx0XHRcdFx0aWYgKCAhIElTX0xFQUYoIG9mZnNldDIsIHVpbnQxNkFycmF5ICkgKSB7XG5cblx0XHRcdFx0XHR1aW50MzJBcnJheVsgKCBvZmZzZXQgLyA0ICkgKyA2IF0gKz0gc3RyaWRlNE9mZnNldDtcblxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYnl0ZU9mZnNldCArIGJ1ZmZlci5ieXRlTGVuZ3RoO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc3Qgb2Zmc2V0ID0gbm9kZS5vZmZzZXQ7XG5cdFx0XHRjb25zdCBjb3VudCA9IG5vZGUuY291bnQ7XG5cdFx0XHR1aW50MzJBcnJheVsgc3RyaWRlNE9mZnNldCArIDYgXSA9IG9mZnNldDtcblx0XHRcdHVpbnQxNkFycmF5WyBzdHJpZGUyT2Zmc2V0ICsgMTQgXSA9IGNvdW50O1xuXHRcdFx0dWludDE2QXJyYXlbIHN0cmlkZTJPZmZzZXQgKyAxNSBdID0gSVNfTEVBRk5PREVfRkxBRztcblx0XHRcdHJldHVybiBieXRlT2Zmc2V0ICsgQllURVNfUEVSX05PREU7XG5cblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdGNvbnN0IGxlZnQgPSBub2RlLmxlZnQ7XG5cdFx0Y29uc3QgcmlnaHQgPSBub2RlLnJpZ2h0O1xuXHRcdGNvbnN0IHNwbGl0QXhpcyA9IG5vZGUuc3BsaXRBeGlzO1xuXG5cdFx0bGV0IG5leHRVbnVzZWRQb2ludGVyO1xuXHRcdG5leHRVbnVzZWRQb2ludGVyID0gX3BvcHVsYXRlQnVmZmVyKCBieXRlT2Zmc2V0ICsgQllURVNfUEVSX05PREUsIGxlZnQgKTtcblxuXHRcdGlmICggKCBuZXh0VW51c2VkUG9pbnRlciAvIDQgKSA+IE1BWF9QT0lOVEVSICkge1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdNZXNoQlZIOiBDYW5ub3Qgc3RvcmUgY2hpbGQgcG9pbnRlciBncmVhdGVyIHRoYW4gMzIgYml0cy4nICk7XG5cblx0XHR9XG5cblx0XHR1aW50MzJBcnJheVsgc3RyaWRlNE9mZnNldCArIDYgXSA9IG5leHRVbnVzZWRQb2ludGVyIC8gNDtcblx0XHRuZXh0VW51c2VkUG9pbnRlciA9IF9wb3B1bGF0ZUJ1ZmZlciggbmV4dFVudXNlZFBvaW50ZXIsIHJpZ2h0ICk7XG5cblx0XHR1aW50MzJBcnJheVsgc3RyaWRlNE9mZnNldCArIDcgXSA9IHNwbGl0QXhpcztcblx0XHRyZXR1cm4gbmV4dFVudXNlZFBvaW50ZXI7XG5cblx0fVxuXG59XG4iXSwibmFtZXMiOlsiQllURVNfUEVSX05PREUiLCJJU19MRUFGTk9ERV9GTEFHIiwiSVNfTEVBRiIsImZsb2F0MzJBcnJheSIsInVpbnQzMkFycmF5IiwidWludDE2QXJyYXkiLCJ1aW50OEFycmF5IiwiTUFYX1BPSU5URVIiLCJNYXRoIiwicG93IiwiY291bnROb2RlcyIsIm5vZGUiLCJsZWZ0IiwicmlnaHQiLCJwb3B1bGF0ZUJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJGbG9hdDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDhBcnJheSIsIl9wb3B1bGF0ZUJ1ZmZlciIsInN0cmlkZTRPZmZzZXQiLCJzdHJpZGUyT2Zmc2V0IiwiaXNMZWFmIiwiYm91bmRpbmdEYXRhIiwiaSIsInNldCIsIm9mZnNldCIsImwiLCJieXRlTGVuZ3RoIiwib2Zmc2V0MiIsImNvdW50Iiwic3BsaXRBeGlzIiwibmV4dFVudXNlZFBvaW50ZXIiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/build/buildUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/build/computeBoundsUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/build/computeBoundsUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeTriangleBounds: () => (/* binding */ computeTriangleBounds),\n/* harmony export */   getBounds: () => (/* binding */ getBounds)\n/* harmony export */ });\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geometryUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/geometryUtils.js\");\n\n\n// computes the union of the bounds of all of the given triangles and puts the resulting box in \"target\".\n// A bounding box is computed for the centroids of the triangles, as well, and placed in \"centroidTarget\".\n// These are computed together to avoid redundant accesses to bounds array.\nfunction getBounds(triangleBounds, offset, count, target, centroidTarget) {\n    let minx = Infinity;\n    let miny = Infinity;\n    let minz = Infinity;\n    let maxx = -Infinity;\n    let maxy = -Infinity;\n    let maxz = -Infinity;\n    let cminx = Infinity;\n    let cminy = Infinity;\n    let cminz = Infinity;\n    let cmaxx = -Infinity;\n    let cmaxy = -Infinity;\n    let cmaxz = -Infinity;\n    for(let i = offset * 6, end = (offset + count) * 6; i < end; i += 6){\n        const cx = triangleBounds[i + 0];\n        const hx = triangleBounds[i + 1];\n        const lx = cx - hx;\n        const rx = cx + hx;\n        if (lx < minx) minx = lx;\n        if (rx > maxx) maxx = rx;\n        if (cx < cminx) cminx = cx;\n        if (cx > cmaxx) cmaxx = cx;\n        const cy = triangleBounds[i + 2];\n        const hy = triangleBounds[i + 3];\n        const ly = cy - hy;\n        const ry = cy + hy;\n        if (ly < miny) miny = ly;\n        if (ry > maxy) maxy = ry;\n        if (cy < cminy) cminy = cy;\n        if (cy > cmaxy) cmaxy = cy;\n        const cz = triangleBounds[i + 4];\n        const hz = triangleBounds[i + 5];\n        const lz = cz - hz;\n        const rz = cz + hz;\n        if (lz < minz) minz = lz;\n        if (rz > maxz) maxz = rz;\n        if (cz < cminz) cminz = cz;\n        if (cz > cmaxz) cmaxz = cz;\n    }\n    target[0] = minx;\n    target[1] = miny;\n    target[2] = minz;\n    target[3] = maxx;\n    target[4] = maxy;\n    target[5] = maxz;\n    centroidTarget[0] = cminx;\n    centroidTarget[1] = cminy;\n    centroidTarget[2] = cminz;\n    centroidTarget[3] = cmaxx;\n    centroidTarget[4] = cmaxy;\n    centroidTarget[5] = cmaxz;\n}\n// precomputes the bounding box for each triangle; required for quickly calculating tree splits.\n// result is an array of size tris.length * 6 where triangle i maps to a\n// [x_center, x_delta, y_center, y_delta, z_center, z_delta] tuple starting at index i * 6,\n// representing the center and half-extent in each dimension of triangle i\nfunction computeTriangleBounds(geo, target = null, offset = null, count = null) {\n    const posAttr = geo.attributes.position;\n    const index = geo.index ? geo.index.array : null;\n    const triCount = (0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_0__.getTriCount)(geo);\n    const normalized = posAttr.normalized;\n    let triangleBounds;\n    if (target === null) {\n        triangleBounds = new Float32Array(triCount * 6 * 4);\n        offset = 0;\n        count = triCount;\n    } else {\n        triangleBounds = target;\n        offset = offset || 0;\n        count = count || triCount;\n    }\n    // used for non-normalized positions\n    const posArr = posAttr.array;\n    // support for an interleaved position buffer\n    const bufferOffset = posAttr.offset || 0;\n    let stride = 3;\n    if (posAttr.isInterleavedBufferAttribute) {\n        stride = posAttr.data.stride;\n    }\n    // used for normalized positions\n    const getters = [\n        \"getX\",\n        \"getY\",\n        \"getZ\"\n    ];\n    for(let tri = offset; tri < offset + count; tri++){\n        const tri3 = tri * 3;\n        const tri6 = tri * 6;\n        let ai = tri3 + 0;\n        let bi = tri3 + 1;\n        let ci = tri3 + 2;\n        if (index) {\n            ai = index[ai];\n            bi = index[bi];\n            ci = index[ci];\n        }\n        // we add the stride and offset here since we access the array directly\n        // below for the sake of performance\n        if (!normalized) {\n            ai = ai * stride + bufferOffset;\n            bi = bi * stride + bufferOffset;\n            ci = ci * stride + bufferOffset;\n        }\n        for(let el = 0; el < 3; el++){\n            let a, b, c;\n            if (normalized) {\n                a = posAttr[getters[el]](ai);\n                b = posAttr[getters[el]](bi);\n                c = posAttr[getters[el]](ci);\n            } else {\n                a = posArr[ai + el];\n                b = posArr[bi + el];\n                c = posArr[ci + el];\n            }\n            let min = a;\n            if (b < min) min = b;\n            if (c < min) min = c;\n            let max = a;\n            if (b > max) max = b;\n            if (c > max) max = c;\n            // Increase the bounds size by float32 epsilon to avoid precision errors when\n            // converting to 32 bit float. Scale the epsilon by the size of the numbers being\n            // worked with.\n            const halfExtents = (max - min) / 2;\n            const el2 = el * 2;\n            triangleBounds[tri6 + el2 + 0] = min + halfExtents;\n            triangleBounds[tri6 + el2 + 1] = halfExtents + (Math.abs(min) + halfExtents) * _Constants_js__WEBPACK_IMPORTED_MODULE_1__.FLOAT32_EPSILON;\n        }\n    }\n    return triangleBounds;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvY29tcHV0ZUJvdW5kc1V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBa0Q7QUFDRDtBQUVqRCx5R0FBeUc7QUFDekcsMEdBQTBHO0FBQzFHLDJFQUEyRTtBQUNwRSxTQUFTRSxVQUFXQyxjQUFjLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUVDLGNBQWM7SUFFL0UsSUFBSUMsT0FBT0M7SUFDWCxJQUFJQyxPQUFPRDtJQUNYLElBQUlFLE9BQU9GO0lBQ1gsSUFBSUcsT0FBTyxDQUFFSDtJQUNiLElBQUlJLE9BQU8sQ0FBRUo7SUFDYixJQUFJSyxPQUFPLENBQUVMO0lBRWIsSUFBSU0sUUFBUU47SUFDWixJQUFJTyxRQUFRUDtJQUNaLElBQUlRLFFBQVFSO0lBQ1osSUFBSVMsUUFBUSxDQUFFVDtJQUNkLElBQUlVLFFBQVEsQ0FBRVY7SUFDZCxJQUFJVyxRQUFRLENBQUVYO0lBRWQsSUFBTSxJQUFJWSxJQUFJakIsU0FBUyxHQUFHa0IsTUFBTSxDQUFFbEIsU0FBU0MsS0FBSSxJQUFNLEdBQUdnQixJQUFJQyxLQUFLRCxLQUFLLEVBQUk7UUFFekUsTUFBTUUsS0FBS3BCLGNBQWMsQ0FBRWtCLElBQUksRUFBRztRQUNsQyxNQUFNRyxLQUFLckIsY0FBYyxDQUFFa0IsSUFBSSxFQUFHO1FBQ2xDLE1BQU1JLEtBQUtGLEtBQUtDO1FBQ2hCLE1BQU1FLEtBQUtILEtBQUtDO1FBQ2hCLElBQUtDLEtBQUtqQixNQUFPQSxPQUFPaUI7UUFDeEIsSUFBS0MsS0FBS2QsTUFBT0EsT0FBT2M7UUFDeEIsSUFBS0gsS0FBS1IsT0FBUUEsUUFBUVE7UUFDMUIsSUFBS0EsS0FBS0wsT0FBUUEsUUFBUUs7UUFFMUIsTUFBTUksS0FBS3hCLGNBQWMsQ0FBRWtCLElBQUksRUFBRztRQUNsQyxNQUFNTyxLQUFLekIsY0FBYyxDQUFFa0IsSUFBSSxFQUFHO1FBQ2xDLE1B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cmUvYnVpbGQvY29tcHV0ZUJvdW5kc1V0aWxzLmpzP2QwZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRkxPQVQzMl9FUFNJTE9OIH0gZnJvbSAnLi4vQ29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGdldFRyaUNvdW50IH0gZnJvbSAnLi9nZW9tZXRyeVV0aWxzLmpzJztcblxuLy8gY29tcHV0ZXMgdGhlIHVuaW9uIG9mIHRoZSBib3VuZHMgb2YgYWxsIG9mIHRoZSBnaXZlbiB0cmlhbmdsZXMgYW5kIHB1dHMgdGhlIHJlc3VsdGluZyBib3ggaW4gXCJ0YXJnZXRcIi5cbi8vIEEgYm91bmRpbmcgYm94IGlzIGNvbXB1dGVkIGZvciB0aGUgY2VudHJvaWRzIG9mIHRoZSB0cmlhbmdsZXMsIGFzIHdlbGwsIGFuZCBwbGFjZWQgaW4gXCJjZW50cm9pZFRhcmdldFwiLlxuLy8gVGhlc2UgYXJlIGNvbXB1dGVkIHRvZ2V0aGVyIHRvIGF2b2lkIHJlZHVuZGFudCBhY2Nlc3NlcyB0byBib3VuZHMgYXJyYXkuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm91bmRzKCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgdGFyZ2V0LCBjZW50cm9pZFRhcmdldCApIHtcblxuXHRsZXQgbWlueCA9IEluZmluaXR5O1xuXHRsZXQgbWlueSA9IEluZmluaXR5O1xuXHRsZXQgbWlueiA9IEluZmluaXR5O1xuXHRsZXQgbWF4eCA9IC0gSW5maW5pdHk7XG5cdGxldCBtYXh5ID0gLSBJbmZpbml0eTtcblx0bGV0IG1heHogPSAtIEluZmluaXR5O1xuXG5cdGxldCBjbWlueCA9IEluZmluaXR5O1xuXHRsZXQgY21pbnkgPSBJbmZpbml0eTtcblx0bGV0IGNtaW56ID0gSW5maW5pdHk7XG5cdGxldCBjbWF4eCA9IC0gSW5maW5pdHk7XG5cdGxldCBjbWF4eSA9IC0gSW5maW5pdHk7XG5cdGxldCBjbWF4eiA9IC0gSW5maW5pdHk7XG5cblx0Zm9yICggbGV0IGkgPSBvZmZzZXQgKiA2LCBlbmQgPSAoIG9mZnNldCArIGNvdW50ICkgKiA2OyBpIDwgZW5kOyBpICs9IDYgKSB7XG5cblx0XHRjb25zdCBjeCA9IHRyaWFuZ2xlQm91bmRzWyBpICsgMCBdO1xuXHRcdGNvbnN0IGh4ID0gdHJpYW5nbGVCb3VuZHNbIGkgKyAxIF07XG5cdFx0Y29uc3QgbHggPSBjeCAtIGh4O1xuXHRcdGNvbnN0IHJ4ID0gY3ggKyBoeDtcblx0XHRpZiAoIGx4IDwgbWlueCApIG1pbnggPSBseDtcblx0XHRpZiAoIHJ4ID4gbWF4eCApIG1heHggPSByeDtcblx0XHRpZiAoIGN4IDwgY21pbnggKSBjbWlueCA9IGN4O1xuXHRcdGlmICggY3ggPiBjbWF4eCApIGNtYXh4ID0gY3g7XG5cblx0XHRjb25zdCBjeSA9IHRyaWFuZ2xlQm91bmRzWyBpICsgMiBdO1xuXHRcdGNvbnN0IGh5ID0gdHJpYW5nbGVCb3VuZHNbIGkgKyAzIF07XG5cdFx0Y29uc3QgbHkgPSBjeSAtIGh5O1xuXHRcdGNvbnN0IHJ5ID0gY3kgKyBoeTtcblx0XHRpZiAoIGx5IDwgbWlueSApIG1pbnkgPSBseTtcblx0XHRpZiAoIHJ5ID4gbWF4eSApIG1heHkgPSByeTtcblx0XHRpZiAoIGN5IDwgY21pbnkgKSBjbWlueSA9IGN5O1xuXHRcdGlmICggY3kgPiBjbWF4eSApIGNtYXh5ID0gY3k7XG5cblx0XHRjb25zdCBjeiA9IHRyaWFuZ2xlQm91bmRzWyBpICsgNCBdO1xuXHRcdGNvbnN0IGh6ID0gdHJpYW5nbGVCb3VuZHNbIGkgKyA1IF07XG5cdFx0Y29uc3QgbHogPSBjeiAtIGh6O1xuXHRcdGNvbnN0IHJ6ID0gY3ogKyBoejtcblx0XHRpZiAoIGx6IDwgbWlueiApIG1pbnogPSBsejtcblx0XHRpZiAoIHJ6ID4gbWF4eiApIG1heHogPSByejtcblx0XHRpZiAoIGN6IDwgY21pbnogKSBjbWlueiA9IGN6O1xuXHRcdGlmICggY3ogPiBjbWF4eiApIGNtYXh6ID0gY3o7XG5cblx0fVxuXG5cdHRhcmdldFsgMCBdID0gbWlueDtcblx0dGFyZ2V0WyAxIF0gPSBtaW55O1xuXHR0YXJnZXRbIDIgXSA9IG1pbno7XG5cblx0dGFyZ2V0WyAzIF0gPSBtYXh4O1xuXHR0YXJnZXRbIDQgXSA9IG1heHk7XG5cdHRhcmdldFsgNSBdID0gbWF4ejtcblxuXHRjZW50cm9pZFRhcmdldFsgMCBdID0gY21pbng7XG5cdGNlbnRyb2lkVGFyZ2V0WyAxIF0gPSBjbWlueTtcblx0Y2VudHJvaWRUYXJnZXRbIDIgXSA9IGNtaW56O1xuXG5cdGNlbnRyb2lkVGFyZ2V0WyAzIF0gPSBjbWF4eDtcblx0Y2VudHJvaWRUYXJnZXRbIDQgXSA9IGNtYXh5O1xuXHRjZW50cm9pZFRhcmdldFsgNSBdID0gY21heHo7XG5cbn1cblxuLy8gcHJlY29tcHV0ZXMgdGhlIGJvdW5kaW5nIGJveCBmb3IgZWFjaCB0cmlhbmdsZTsgcmVxdWlyZWQgZm9yIHF1aWNrbHkgY2FsY3VsYXRpbmcgdHJlZSBzcGxpdHMuXG4vLyByZXN1bHQgaXMgYW4gYXJyYXkgb2Ygc2l6ZSB0cmlzLmxlbmd0aCAqIDYgd2hlcmUgdHJpYW5nbGUgaSBtYXBzIHRvIGFcbi8vIFt4X2NlbnRlciwgeF9kZWx0YSwgeV9jZW50ZXIsIHlfZGVsdGEsIHpfY2VudGVyLCB6X2RlbHRhXSB0dXBsZSBzdGFydGluZyBhdCBpbmRleCBpICogNixcbi8vIHJlcHJlc2VudGluZyB0aGUgY2VudGVyIGFuZCBoYWxmLWV4dGVudCBpbiBlYWNoIGRpbWVuc2lvbiBvZiB0cmlhbmdsZSBpXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRyaWFuZ2xlQm91bmRzKCBnZW8sIHRhcmdldCA9IG51bGwsIG9mZnNldCA9IG51bGwsIGNvdW50ID0gbnVsbCApIHtcblxuXHRjb25zdCBwb3NBdHRyID0gZ2VvLmF0dHJpYnV0ZXMucG9zaXRpb247XG5cdGNvbnN0IGluZGV4ID0gZ2VvLmluZGV4ID8gZ2VvLmluZGV4LmFycmF5IDogbnVsbDtcblx0Y29uc3QgdHJpQ291bnQgPSBnZXRUcmlDb3VudCggZ2VvICk7XG5cdGNvbnN0IG5vcm1hbGl6ZWQgPSBwb3NBdHRyLm5vcm1hbGl6ZWQ7XG5cdGxldCB0cmlhbmdsZUJvdW5kcztcblx0aWYgKCB0YXJnZXQgPT09IG51bGwgKSB7XG5cblx0XHR0cmlhbmdsZUJvdW5kcyA9IG5ldyBGbG9hdDMyQXJyYXkoIHRyaUNvdW50ICogNiAqIDQgKTtcblx0XHRvZmZzZXQgPSAwO1xuXHRcdGNvdW50ID0gdHJpQ291bnQ7XG5cblx0fSBlbHNlIHtcblxuXHRcdHRyaWFuZ2xlQm91bmRzID0gdGFyZ2V0O1xuXHRcdG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXHRcdGNvdW50ID0gY291bnQgfHwgdHJpQ291bnQ7XG5cblx0fVxuXG5cdC8vIHVzZWQgZm9yIG5vbi1ub3JtYWxpemVkIHBvc2l0aW9uc1xuXHRjb25zdCBwb3NBcnIgPSBwb3NBdHRyLmFycmF5O1xuXG5cdC8vIHN1cHBvcnQgZm9yIGFuIGludGVybGVhdmVkIHBvc2l0aW9uIGJ1ZmZlclxuXHRjb25zdCBidWZmZXJPZmZzZXQgPSBwb3NBdHRyLm9mZnNldCB8fCAwO1xuXHRsZXQgc3RyaWRlID0gMztcblx0aWYgKCBwb3NBdHRyLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgKSB7XG5cblx0XHRzdHJpZGUgPSBwb3NBdHRyLmRhdGEuc3RyaWRlO1xuXG5cdH1cblxuXHQvLyB1c2VkIGZvciBub3JtYWxpemVkIHBvc2l0aW9uc1xuXHRjb25zdCBnZXR0ZXJzID0gWyAnZ2V0WCcsICdnZXRZJywgJ2dldFonIF07XG5cblx0Zm9yICggbGV0IHRyaSA9IG9mZnNldDsgdHJpIDwgb2Zmc2V0ICsgY291bnQ7IHRyaSArKyApIHtcblxuXHRcdGNvbnN0IHRyaTMgPSB0cmkgKiAzO1xuXHRcdGNvbnN0IHRyaTYgPSB0cmkgKiA2O1xuXG5cdFx0bGV0IGFpID0gdHJpMyArIDA7XG5cdFx0bGV0IGJpID0gdHJpMyArIDE7XG5cdFx0bGV0IGNpID0gdHJpMyArIDI7XG5cblx0XHRpZiAoIGluZGV4ICkge1xuXG5cdFx0XHRhaSA9IGluZGV4WyBhaSBdO1xuXHRcdFx0YmkgPSBpbmRleFsgYmkgXTtcblx0XHRcdGNpID0gaW5kZXhbIGNpIF07XG5cblx0XHR9XG5cblx0XHQvLyB3ZSBhZGQgdGhlIHN0cmlkZSBhbmQgb2Zmc2V0IGhlcmUgc2luY2Ugd2UgYWNjZXNzIHRoZSBhcnJheSBkaXJlY3RseVxuXHRcdC8vIGJlbG93IGZvciB0aGUgc2FrZSBvZiBwZXJmb3JtYW5jZVxuXHRcdGlmICggISBub3JtYWxpemVkICkge1xuXG5cdFx0XHRhaSA9IGFpICogc3RyaWRlICsgYnVmZmVyT2Zmc2V0O1xuXHRcdFx0YmkgPSBiaSAqIHN0cmlkZSArIGJ1ZmZlck9mZnNldDtcblx0XHRcdGNpID0gY2kgKiBzdHJpZGUgKyBidWZmZXJPZmZzZXQ7XG5cblx0XHR9XG5cblx0XHRmb3IgKCBsZXQgZWwgPSAwOyBlbCA8IDM7IGVsICsrICkge1xuXG5cdFx0XHRsZXQgYSwgYiwgYztcblxuXHRcdFx0aWYgKCBub3JtYWxpemVkICkge1xuXG5cdFx0XHRcdGEgPSBwb3NBdHRyWyBnZXR0ZXJzWyBlbCBdIF0oIGFpICk7XG5cdFx0XHRcdGIgPSBwb3NBdHRyWyBnZXR0ZXJzWyBlbCBdIF0oIGJpICk7XG5cdFx0XHRcdGMgPSBwb3NBdHRyWyBnZXR0ZXJzWyBlbCBdIF0oIGNpICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0YSA9IHBvc0FyclsgYWkgKyBlbCBdO1xuXHRcdFx0XHRiID0gcG9zQXJyWyBiaSArIGVsIF07XG5cdFx0XHRcdGMgPSBwb3NBcnJbIGNpICsgZWwgXTtcblxuXHRcdFx0fVxuXG5cdFx0XHRsZXQgbWluID0gYTtcblx0XHRcdGlmICggYiA8IG1pbiApIG1pbiA9IGI7XG5cdFx0XHRpZiAoIGMgPCBtaW4gKSBtaW4gPSBjO1xuXG5cdFx0XHRsZXQgbWF4ID0gYTtcblx0XHRcdGlmICggYiA+IG1heCApIG1heCA9IGI7XG5cdFx0XHRpZiAoIGMgPiBtYXggKSBtYXggPSBjO1xuXG5cdFx0XHQvLyBJbmNyZWFzZSB0aGUgYm91bmRzIHNpemUgYnkgZmxvYXQzMiBlcHNpbG9uIHRvIGF2b2lkIHByZWNpc2lvbiBlcnJvcnMgd2hlblxuXHRcdFx0Ly8gY29udmVydGluZyB0byAzMiBiaXQgZmxvYXQuIFNjYWxlIHRoZSBlcHNpbG9uIGJ5IHRoZSBzaXplIG9mIHRoZSBudW1iZXJzIGJlaW5nXG5cdFx0XHQvLyB3b3JrZWQgd2l0aC5cblx0XHRcdGNvbnN0IGhhbGZFeHRlbnRzID0gKCBtYXggLSBtaW4gKSAvIDI7XG5cdFx0XHRjb25zdCBlbDIgPSBlbCAqIDI7XG5cdFx0XHR0cmlhbmdsZUJvdW5kc1sgdHJpNiArIGVsMiArIDAgXSA9IG1pbiArIGhhbGZFeHRlbnRzO1xuXHRcdFx0dHJpYW5nbGVCb3VuZHNbIHRyaTYgKyBlbDIgKyAxIF0gPSBoYWxmRXh0ZW50cyArICggTWF0aC5hYnMoIG1pbiApICsgaGFsZkV4dGVudHMgKSAqIEZMT0FUMzJfRVBTSUxPTjtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHRyaWFuZ2xlQm91bmRzO1xuXG59XG4iXSwibmFtZXMiOlsiRkxPQVQzMl9FUFNJTE9OIiwiZ2V0VHJpQ291bnQiLCJnZXRCb3VuZHMiLCJ0cmlhbmdsZUJvdW5kcyIsIm9mZnNldCIsImNvdW50IiwidGFyZ2V0IiwiY2VudHJvaWRUYXJnZXQiLCJtaW54IiwiSW5maW5pdHkiLCJtaW55IiwibWlueiIsIm1heHgiLCJtYXh5IiwibWF4eiIsImNtaW54IiwiY21pbnkiLCJjbWlueiIsImNtYXh4IiwiY21heHkiLCJjbWF4eiIsImkiLCJlbmQiLCJjeCIsImh4IiwibHgiLCJyeCIsImN5IiwiaHkiLCJseSIsInJ5IiwiY3oiLCJoeiIsImx6IiwicnoiLCJjb21wdXRlVHJpYW5nbGVCb3VuZHMiLCJnZW8iLCJwb3NBdHRyIiwiYXR0cmlidXRlcyIsInBvc2l0aW9uIiwiaW5kZXgiLCJhcnJheSIsInRyaUNvdW50Iiwibm9ybWFsaXplZCIsIkZsb2F0MzJBcnJheSIsInBvc0FyciIsImJ1ZmZlck9mZnNldCIsInN0cmlkZSIsImlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJkYXRhIiwiZ2V0dGVycyIsInRyaSIsInRyaTMiLCJ0cmk2IiwiYWkiLCJiaSIsImNpIiwiZWwiLCJhIiwiYiIsImMiLCJtaW4iLCJtYXgiLCJoYWxmRXh0ZW50cyIsImVsMiIsIk1hdGgiLCJhYnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/build/computeBoundsUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/build/geometryUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/build/geometryUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureIndex: () => (/* binding */ ensureIndex),\n/* harmony export */   getFullGeometryRange: () => (/* binding */ getFullGeometryRange),\n/* harmony export */   getIndexArray: () => (/* binding */ getIndexArray),\n/* harmony export */   getRootIndexRanges: () => (/* binding */ getRootIndexRanges),\n/* harmony export */   getTriCount: () => (/* binding */ getTriCount),\n/* harmony export */   getVertexCount: () => (/* binding */ getVertexCount),\n/* harmony export */   hasGroupGaps: () => (/* binding */ hasGroupGaps)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nfunction getVertexCount(geo) {\n    return geo.index ? geo.index.count : geo.attributes.position.count;\n}\nfunction getTriCount(geo) {\n    return getVertexCount(geo) / 3;\n}\nfunction getIndexArray(vertexCount, BufferConstructor = ArrayBuffer) {\n    if (vertexCount > 65535) {\n        return new Uint32Array(new BufferConstructor(4 * vertexCount));\n    } else {\n        return new Uint16Array(new BufferConstructor(2 * vertexCount));\n    }\n}\n// ensures that an index is present on the geometry\nfunction ensureIndex(geo, options) {\n    if (!geo.index) {\n        const vertexCount = geo.attributes.position.count;\n        const BufferConstructor = options.useSharedArrayBuffer ? SharedArrayBuffer : ArrayBuffer;\n        const index = getIndexArray(vertexCount, BufferConstructor);\n        geo.setIndex(new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(index, 1));\n        for(let i = 0; i < vertexCount; i++){\n            index[i] = i;\n        }\n    }\n}\n// Computes the set of { offset, count } ranges which need independent BVH roots. Each\n// region in the geometry index that belongs to a different set of material groups requires\n// a separate BVH root, so that triangles indices belonging to one group never get swapped\n// with triangle indices belongs to another group. For example, if the groups were like this:\n//\n// [-------------------------------------------------------------]\n// |__________________|\n//   g0 = [0, 20]  |______________________||_____________________|\n//                      g1 = [16, 40]           g2 = [41, 60]\n//\n// we would need four BVH roots: [0, 15], [16, 20], [21, 40], [41, 60].\nfunction getFullGeometryRange(geo) {\n    const triCount = getTriCount(geo);\n    const drawRange = geo.drawRange;\n    const start = drawRange.start / 3;\n    const end = (drawRange.start + drawRange.count) / 3;\n    const offset = Math.max(0, start);\n    const count = Math.min(triCount, end) - offset;\n    return [\n        {\n            offset: Math.floor(offset),\n            count: Math.floor(count)\n        }\n    ];\n}\nfunction getRootIndexRanges(geo) {\n    if (!geo.groups || !geo.groups.length) {\n        return getFullGeometryRange(geo);\n    }\n    const ranges = [];\n    const rangeBoundaries = new Set();\n    const drawRange = geo.drawRange;\n    const drawRangeStart = drawRange.start / 3;\n    const drawRangeEnd = (drawRange.start + drawRange.count) / 3;\n    for (const group of geo.groups){\n        const groupStart = group.start / 3;\n        const groupEnd = (group.start + group.count) / 3;\n        rangeBoundaries.add(Math.max(drawRangeStart, groupStart));\n        rangeBoundaries.add(Math.min(drawRangeEnd, groupEnd));\n    }\n    // note that if you don't pass in a comparator, it sorts them lexicographically as strings :-(\n    const sortedBoundaries = Array.from(rangeBoundaries.values()).sort((a, b)=>a - b);\n    for(let i = 0; i < sortedBoundaries.length - 1; i++){\n        const start = sortedBoundaries[i];\n        const end = sortedBoundaries[i + 1];\n        ranges.push({\n            offset: Math.floor(start),\n            count: Math.floor(end - start)\n        });\n    }\n    return ranges;\n}\nfunction hasGroupGaps(geometry) {\n    if (geometry.groups.length === 0) {\n        return false;\n    }\n    const vertexCount = getTriCount(geometry);\n    const groups = getRootIndexRanges(geometry).sort((a, b)=>a.offset - b.offset);\n    const finalGroup = groups[groups.length - 1];\n    finalGroup.count = Math.min(vertexCount - finalGroup.offset, finalGroup.count);\n    let total = 0;\n    groups.forEach(({ count })=>total += count);\n    return vertexCount !== total;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvZ2VvbWV0cnlVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF3QztBQUVqQyxTQUFTQyxlQUFnQkMsR0FBRztJQUVsQyxPQUFPQSxJQUFJQyxLQUFLLEdBQUdELElBQUlDLEtBQUssQ0FBQ0MsS0FBSyxHQUFHRixJQUFJRyxVQUFVLENBQUNDLFFBQVEsQ0FBQ0YsS0FBSztBQUVuRTtBQUVPLFNBQVNHLFlBQWFMLEdBQUc7SUFFL0IsT0FBT0QsZUFBZ0JDLE9BQVE7QUFFaEM7QUFFTyxTQUFTTSxjQUFlQyxXQUFXLEVBQUVDLG9CQUFvQkMsV0FBVztJQUUxRSxJQUFLRixjQUFjLE9BQVE7UUFFMUIsT0FBTyxJQUFJRyxZQUFhLElBQUlGLGtCQUFtQixJQUFJRDtJQUVwRCxPQUFPO1FBRU4sT0FBTyxJQUFJSSxZQUFhLElBQUlILGtCQUFtQixJQUFJRDtJQUVwRDtBQUVEO0FBRUEsbURBQW1EO0FBQzVDLFNBQVNLLFlBQWFaLEdBQUcsRUFBRWEsT0FBTztJQUV4QyxJQUFLLENBQUViLElBQUlDLEtBQUssRUFBRztRQUVsQixNQUFNTSxjQUFjUCxJQUFJRyxVQUFVLENBQUNDLFFBQVEsQ0FBQ0YsS0FBSztRQUNqRCxNQUFNTSxvQkFBb0JLLFFBQVFDLG9CQUFvQixHQUFHQyxvQkFBb0JOO1FBQzdFLE1BQU1SLFFBQVFLLGNBQWVDLGFBQWFDO1FBQzFDUixJQUFJZ0IsUUFBUSxDQUFFLElBQUlsQixrREFBZUEsQ0FBRUcsT0FBTztRQUUxQyxJQUFNLElBQUlnQixJQUFJLEdBQUdBLElBQUlWLGFBQWFVLElBQU87WUFFeENoQixLQUFLLENBQUVnQixFQUFHLEdBQUdBO1FBRWQ7SUFFRDtBQUVEO0FBRUEsc0ZBQXNGO0FBQ3RGLDJGQUEyRjtBQUMzRiwwRkFBMEY7QUFDMUYsNkZBQTZGO0FBQzdGLEVBQUU7QUFDRixrRUFBa0U7QUFDbEUsdUJBQXVCO0FBQ3ZCLGtF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L2NvcmUvYnVpbGQvZ2VvbWV0cnlVdGlscy5qcz9mNjk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlckF0dHJpYnV0ZSB9IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZlcnRleENvdW50KCBnZW8gKSB7XG5cblx0cmV0dXJuIGdlby5pbmRleCA/IGdlby5pbmRleC5jb3VudCA6IGdlby5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmlDb3VudCggZ2VvICkge1xuXG5cdHJldHVybiBnZXRWZXJ0ZXhDb3VudCggZ2VvICkgLyAzO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbmRleEFycmF5KCB2ZXJ0ZXhDb3VudCwgQnVmZmVyQ29uc3RydWN0b3IgPSBBcnJheUJ1ZmZlciApIHtcblxuXHRpZiAoIHZlcnRleENvdW50ID4gNjU1MzUgKSB7XG5cblx0XHRyZXR1cm4gbmV3IFVpbnQzMkFycmF5KCBuZXcgQnVmZmVyQ29uc3RydWN0b3IoIDQgKiB2ZXJ0ZXhDb3VudCApICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdHJldHVybiBuZXcgVWludDE2QXJyYXkoIG5ldyBCdWZmZXJDb25zdHJ1Y3RvciggMiAqIHZlcnRleENvdW50ICkgKTtcblxuXHR9XG5cbn1cblxuLy8gZW5zdXJlcyB0aGF0IGFuIGluZGV4IGlzIHByZXNlbnQgb24gdGhlIGdlb21ldHJ5XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlSW5kZXgoIGdlbywgb3B0aW9ucyApIHtcblxuXHRpZiAoICEgZ2VvLmluZGV4ICkge1xuXG5cdFx0Y29uc3QgdmVydGV4Q291bnQgPSBnZW8uYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcblx0XHRjb25zdCBCdWZmZXJDb25zdHJ1Y3RvciA9IG9wdGlvbnMudXNlU2hhcmVkQXJyYXlCdWZmZXIgPyBTaGFyZWRBcnJheUJ1ZmZlciA6IEFycmF5QnVmZmVyO1xuXHRcdGNvbnN0IGluZGV4ID0gZ2V0SW5kZXhBcnJheSggdmVydGV4Q291bnQsIEJ1ZmZlckNvbnN0cnVjdG9yICk7XG5cdFx0Z2VvLnNldEluZGV4KCBuZXcgQnVmZmVyQXR0cmlidXRlKCBpbmRleCwgMSApICk7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgaSArKyApIHtcblxuXHRcdFx0aW5kZXhbIGkgXSA9IGk7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbi8vIENvbXB1dGVzIHRoZSBzZXQgb2YgeyBvZmZzZXQsIGNvdW50IH0gcmFuZ2VzIHdoaWNoIG5lZWQgaW5kZXBlbmRlbnQgQlZIIHJvb3RzLiBFYWNoXG4vLyByZWdpb24gaW4gdGhlIGdlb21ldHJ5IGluZGV4IHRoYXQgYmVsb25ncyB0byBhIGRpZmZlcmVudCBzZXQgb2YgbWF0ZXJpYWwgZ3JvdXBzIHJlcXVpcmVzXG4vLyBhIHNlcGFyYXRlIEJWSCByb290LCBzbyB0aGF0IHRyaWFuZ2xlcyBpbmRpY2VzIGJlbG9uZ2luZyB0byBvbmUgZ3JvdXAgbmV2ZXIgZ2V0IHN3YXBwZWRcbi8vIHdpdGggdHJpYW5nbGUgaW5kaWNlcyBiZWxvbmdzIHRvIGFub3RoZXIgZ3JvdXAuIEZvciBleGFtcGxlLCBpZiB0aGUgZ3JvdXBzIHdlcmUgbGlrZSB0aGlzOlxuLy9cbi8vIFstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXVxuLy8gfF9fX19fX19fX19fX19fX19fX3xcbi8vICAgZzAgPSBbMCwgMjBdICB8X19fX19fX19fX19fX19fX19fX19fX3x8X19fX19fX19fX19fX19fX19fX19ffFxuLy8gICAgICAgICAgICAgICAgICAgICAgZzEgPSBbMTYsIDQwXSAgICAgICAgICAgZzIgPSBbNDEsIDYwXVxuLy9cbi8vIHdlIHdvdWxkIG5lZWQgZm91ciBCVkggcm9vdHM6IFswLCAxNV0sIFsxNiwgMjBdLCBbMjEsIDQwXSwgWzQxLCA2MF0uXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVsbEdlb21ldHJ5UmFuZ2UoIGdlbyApIHtcblxuXHRjb25zdCB0cmlDb3VudCA9IGdldFRyaUNvdW50KCBnZW8gKTtcblx0Y29uc3QgZHJhd1JhbmdlID0gZ2VvLmRyYXdSYW5nZTtcblx0Y29uc3Qgc3RhcnQgPSBkcmF3UmFuZ2Uuc3RhcnQgLyAzO1xuXHRjb25zdCBlbmQgPSAoIGRyYXdSYW5nZS5zdGFydCArIGRyYXdSYW5nZS5jb3VudCApIC8gMztcblxuXHRjb25zdCBvZmZzZXQgPSBNYXRoLm1heCggMCwgc3RhcnQgKTtcblx0Y29uc3QgY291bnQgPSBNYXRoLm1pbiggdHJpQ291bnQsIGVuZCApIC0gb2Zmc2V0O1xuXHRyZXR1cm4gWyB7XG5cdFx0b2Zmc2V0OiBNYXRoLmZsb29yKCBvZmZzZXQgKSxcblx0XHRjb3VudDogTWF0aC5mbG9vciggY291bnQgKSxcblx0fSBdO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb290SW5kZXhSYW5nZXMoIGdlbyApIHtcblxuXHRpZiAoICEgZ2VvLmdyb3VwcyB8fCAhIGdlby5ncm91cHMubGVuZ3RoICkge1xuXG5cdFx0cmV0dXJuIGdldEZ1bGxHZW9tZXRyeVJhbmdlKCBnZW8gKTtcblxuXHR9XG5cblx0Y29uc3QgcmFuZ2VzID0gW107XG5cdGNvbnN0IHJhbmdlQm91bmRhcmllcyA9IG5ldyBTZXQoKTtcblxuXHRjb25zdCBkcmF3UmFuZ2UgPSBnZW8uZHJhd1JhbmdlO1xuXHRjb25zdCBkcmF3UmFuZ2VTdGFydCA9IGRyYXdSYW5nZS5zdGFydCAvIDM7XG5cdGNvbnN0IGRyYXdSYW5nZUVuZCA9ICggZHJhd1JhbmdlLnN0YXJ0ICsgZHJhd1JhbmdlLmNvdW50ICkgLyAzO1xuXHRmb3IgKCBjb25zdCBncm91cCBvZiBnZW8uZ3JvdXBzICkge1xuXG5cdFx0Y29uc3QgZ3JvdXBTdGFydCA9IGdyb3VwLnN0YXJ0IC8gMztcblx0XHRjb25zdCBncm91cEVuZCA9ICggZ3JvdXAuc3RhcnQgKyBncm91cC5jb3VudCApIC8gMztcblx0XHRyYW5nZUJvdW5kYXJpZXMuYWRkKCBNYXRoLm1heCggZHJhd1JhbmdlU3RhcnQsIGdyb3VwU3RhcnQgKSApO1xuXHRcdHJhbmdlQm91bmRhcmllcy5hZGQoIE1hdGgubWluKCBkcmF3UmFuZ2VFbmQsIGdyb3VwRW5kICkgKTtcblxuXHR9XG5cblxuXHQvLyBub3RlIHRoYXQgaWYgeW91IGRvbid0IHBhc3MgaW4gYSBjb21wYXJhdG9yLCBpdCBzb3J0cyB0aGVtIGxleGljb2dyYXBoaWNhbGx5IGFzIHN0cmluZ3MgOi0oXG5cdGNvbnN0IHNvcnRlZEJvdW5kYXJpZXMgPSBBcnJheS5mcm9tKCByYW5nZUJvdW5kYXJpZXMudmFsdWVzKCkgKS5zb3J0KCAoIGEsIGIgKSA9PiBhIC0gYiApO1xuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBzb3J0ZWRCb3VuZGFyaWVzLmxlbmd0aCAtIDE7IGkgKysgKSB7XG5cblx0XHRjb25zdCBzdGFydCA9IHNvcnRlZEJvdW5kYXJpZXNbIGkgXTtcblx0XHRjb25zdCBlbmQgPSBzb3J0ZWRCb3VuZGFyaWVzWyBpICsgMSBdO1xuXG5cdFx0cmFuZ2VzLnB1c2goIHtcblx0XHRcdG9mZnNldDogTWF0aC5mbG9vciggc3RhcnQgKSxcblx0XHRcdGNvdW50OiBNYXRoLmZsb29yKCBlbmQgLSBzdGFydCApLFxuXHRcdH0gKTtcblxuXHR9XG5cblx0cmV0dXJuIHJhbmdlcztcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzR3JvdXBHYXBzKCBnZW9tZXRyeSApIHtcblxuXHRpZiAoIGdlb21ldHJ5Lmdyb3Vwcy5sZW5ndGggPT09IDAgKSB7XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fVxuXG5cdGNvbnN0IHZlcnRleENvdW50ID0gZ2V0VHJpQ291bnQoIGdlb21ldHJ5ICk7XG5cdGNvbnN0IGdyb3VwcyA9IGdldFJvb3RJbmRleFJhbmdlcyggZ2VvbWV0cnkgKVxuXHRcdC5zb3J0KCAoIGEsIGIgKSA9PiBhLm9mZnNldCAtIGIub2Zmc2V0ICk7XG5cblx0Y29uc3QgZmluYWxHcm91cCA9IGdyb3Vwc1sgZ3JvdXBzLmxlbmd0aCAtIDEgXTtcblx0ZmluYWxHcm91cC5jb3VudCA9IE1hdGgubWluKCB2ZXJ0ZXhDb3VudCAtIGZpbmFsR3JvdXAub2Zmc2V0LCBmaW5hbEdyb3VwLmNvdW50ICk7XG5cblx0bGV0IHRvdGFsID0gMDtcblx0Z3JvdXBzLmZvckVhY2goICggeyBjb3VudCB9ICkgPT4gdG90YWwgKz0gY291bnQgKTtcblx0cmV0dXJuIHZlcnRleENvdW50ICE9PSB0b3RhbDtcblxufVxuIl0sIm5hbWVzIjpbIkJ1ZmZlckF0dHJpYnV0ZSIsImdldFZlcnRleENvdW50IiwiZ2VvIiwiaW5kZXgiLCJjb3VudCIsImF0dHJpYnV0ZXMiLCJwb3NpdGlvbiIsImdldFRyaUNvdW50IiwiZ2V0SW5kZXhBcnJheSIsInZlcnRleENvdW50IiwiQnVmZmVyQ29uc3RydWN0b3IiLCJBcnJheUJ1ZmZlciIsIlVpbnQzMkFycmF5IiwiVWludDE2QXJyYXkiLCJlbnN1cmVJbmRleCIsIm9wdGlvbnMiLCJ1c2VTaGFyZWRBcnJheUJ1ZmZlciIsIlNoYXJlZEFycmF5QnVmZmVyIiwic2V0SW5kZXgiLCJpIiwiZ2V0RnVsbEdlb21ldHJ5UmFuZ2UiLCJ0cmlDb3VudCIsImRyYXdSYW5nZSIsInN0YXJ0IiwiZW5kIiwib2Zmc2V0IiwiTWF0aCIsIm1heCIsIm1pbiIsImZsb29yIiwiZ2V0Um9vdEluZGV4UmFuZ2VzIiwiZ3JvdXBzIiwibGVuZ3RoIiwicmFuZ2VzIiwicmFuZ2VCb3VuZGFyaWVzIiwiU2V0IiwiZHJhd1JhbmdlU3RhcnQiLCJkcmF3UmFuZ2VFbmQiLCJncm91cCIsImdyb3VwU3RhcnQiLCJncm91cEVuZCIsImFkZCIsInNvcnRlZEJvdW5kYXJpZXMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJzb3J0IiwiYSIsImIiLCJwdXNoIiwiaGFzR3JvdXBHYXBzIiwiZ2VvbWV0cnkiLCJmaW5hbEdyb3VwIiwidG90YWwiLCJmb3JFYWNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/build/geometryUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/build/sortUtils.generated.js":
/*!***************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/build/sortUtils.generated.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   partition: () => (/* binding */ partition)\n/* harmony export */ });\n/********************************************************/ /* This file is generated from \"sortUtils.template.js\". */ /********************************************************/ // reorders `tris` such that for `count` elements after `offset`, elements on the left side of the split\n// will be on the left and elements on the right side of the split will be on the right. returns the index\n// of the first element on the right side, or offset + count if there are no elements on the right side.\nfunction partition(indirectBuffer, index, triangleBounds, offset, count, split) {\n    let left = offset;\n    let right = offset + count - 1;\n    const pos = split.pos;\n    const axisOffset = split.axis * 2;\n    // hoare partitioning, see e.g. https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\n    while(true){\n        while(left <= right && triangleBounds[left * 6 + axisOffset] < pos){\n            left++;\n        }\n        // if a triangle center lies on the partition plane it is considered to be on the right side\n        while(left <= right && triangleBounds[right * 6 + axisOffset] >= pos){\n            right--;\n        }\n        if (left < right) {\n            // we need to swap all of the information associated with the triangles at index\n            // left and right; that's the verts in the geometry index, the bounds,\n            // and perhaps the SAH planes\n            for(let i = 0; i < 3; i++){\n                let t0 = index[left * 3 + i];\n                index[left * 3 + i] = index[right * 3 + i];\n                index[right * 3 + i] = t0;\n            }\n            // swap bounds\n            for(let i = 0; i < 6; i++){\n                let tb = triangleBounds[left * 6 + i];\n                triangleBounds[left * 6 + i] = triangleBounds[right * 6 + i];\n                triangleBounds[right * 6 + i] = tb;\n            }\n            left++;\n            right--;\n        } else {\n            return left;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvc29ydFV0aWxzLmdlbmVyYXRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsd0RBQXdELEdBQ3hELHdEQUF3RCxHQUN4RCx3REFBd0QsR0FDeEQsd0dBQXdHO0FBQ3hHLDBHQUEwRztBQUMxRyx3R0FBd0c7QUFDeEcsU0FBU0EsVUFBV0MsY0FBYyxFQUFFQyxLQUFLLEVBQUVDLGNBQWMsRUFBRUMsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLEtBQUs7SUFFOUUsSUFBSUMsT0FBT0g7SUFDWCxJQUFJSSxRQUFRSixTQUFTQyxRQUFRO0lBQzdCLE1BQU1JLE1BQU1ILE1BQU1HLEdBQUc7SUFDckIsTUFBTUMsYUFBYUosTUFBTUssSUFBSSxHQUFHO0lBRWhDLDhGQUE4RjtJQUM5RixNQUFRLEtBQU87UUFFZCxNQUFRSixRQUFRQyxTQUFTTCxjQUFjLENBQUVJLE9BQU8sSUFBSUcsV0FBWSxHQUFHRCxJQUFNO1lBRXhFRjtRQUVEO1FBRUEsNEZBQTRGO1FBQzVGLE1BQVFBLFFBQVFDLFNBQVNMLGNBQWMsQ0FBRUssUUFBUSxJQUFJRSxXQUFZLElBQUlELElBQU07WUFFMUVEO1FBRUQ7UUFFQSxJQUFLRCxPQUFPQyxPQUFRO1lBRW5CLGdGQUFnRjtZQUNoRixzRUFBc0U7WUFDdEUsNkJBQTZCO1lBRTdCLElBQU0sSUFBSUksSUFBSSxHQUFHQSxJQUFJLEdBQUdBLElBQU87Z0JBRTlCLElBQUlDLEtBQUtYLEtBQUssQ0FBRUssT0FBTyxJQUFJSyxFQUFHO2dCQUM5QlYsS0FBSyxDQUFFSyxPQUFPLElBQUlLLEVBQUcsR0FBR1YsS0FBSyxDQUFFTSxRQUFRLElBQUlJLEVBQUc7Z0JBQzlDVixLQUFLLENBQUVNLFFBQVEsSUFBSUksRUFBRyxHQUFHQztZQUUxQjtZQUdBLGNBQWM7WUFDZCxJQUFNLElBQUlELElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFPO2dCQUU5QixJQUFJRSxLQUFLWCxjQUFjLENBQUVJLE9BQU8sSUFBSUssRUFBRztnQkFDdkNULGNBQWMsQ0FBRUksT0FBTyxJQUFJSyxFQUFHLEdBQUdULGNBQWMsQ0FBRUssUUFBUSxJQUFJSSxFQUFHO2dCQUNoRVQsY0FBYyxDQUFFSyxRQUFRLElBQUlJLEVBQUcsR0FBR0U7WUFFbkM7WUFFQVA7WUFDQUM7UUFFRCxPQUFPO1lBRU4sT0FBT0Q7UUFFUjtJQUVEO0FBRUQ7QUFFcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvc29ydFV0aWxzLmdlbmVyYXRlZC5qcz83ZGI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBcInNvcnRVdGlscy50ZW1wbGF0ZS5qc1wiLiAqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLy8gcmVvcmRlcnMgYHRyaXNgIHN1Y2ggdGhhdCBmb3IgYGNvdW50YCBlbGVtZW50cyBhZnRlciBgb2Zmc2V0YCwgZWxlbWVudHMgb24gdGhlIGxlZnQgc2lkZSBvZiB0aGUgc3BsaXRcbi8vIHdpbGwgYmUgb24gdGhlIGxlZnQgYW5kIGVsZW1lbnRzIG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSBzcGxpdCB3aWxsIGJlIG9uIHRoZSByaWdodC4gcmV0dXJucyB0aGUgaW5kZXhcbi8vIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9uIHRoZSByaWdodCBzaWRlLCBvciBvZmZzZXQgKyBjb3VudCBpZiB0aGVyZSBhcmUgbm8gZWxlbWVudHMgb24gdGhlIHJpZ2h0IHNpZGUuXG5mdW5jdGlvbiBwYXJ0aXRpb24oIGluZGlyZWN0QnVmZmVyLCBpbmRleCwgdHJpYW5nbGVCb3VuZHMsIG9mZnNldCwgY291bnQsIHNwbGl0ICkge1xuXG5cdGxldCBsZWZ0ID0gb2Zmc2V0O1xuXHRsZXQgcmlnaHQgPSBvZmZzZXQgKyBjb3VudCAtIDE7XG5cdGNvbnN0IHBvcyA9IHNwbGl0LnBvcztcblx0Y29uc3QgYXhpc09mZnNldCA9IHNwbGl0LmF4aXMgKiAyO1xuXG5cdC8vIGhvYXJlIHBhcnRpdGlvbmluZywgc2VlIGUuZy4gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVpY2tzb3J0I0hvYXJlX3BhcnRpdGlvbl9zY2hlbWVcblx0d2hpbGUgKCB0cnVlICkge1xuXG5cdFx0d2hpbGUgKCBsZWZ0IDw9IHJpZ2h0ICYmIHRyaWFuZ2xlQm91bmRzWyBsZWZ0ICogNiArIGF4aXNPZmZzZXQgXSA8IHBvcyApIHtcblxuXHRcdFx0bGVmdCArKztcblxuXHRcdH1cblxuXHRcdC8vIGlmIGEgdHJpYW5nbGUgY2VudGVyIGxpZXMgb24gdGhlIHBhcnRpdGlvbiBwbGFuZSBpdCBpcyBjb25zaWRlcmVkIHRvIGJlIG9uIHRoZSByaWdodCBzaWRlXG5cdFx0d2hpbGUgKCBsZWZ0IDw9IHJpZ2h0ICYmIHRyaWFuZ2xlQm91bmRzWyByaWdodCAqIDYgKyBheGlzT2Zmc2V0IF0gPj0gcG9zICkge1xuXG5cdFx0XHRyaWdodCAtLTtcblxuXHRcdH1cblxuXHRcdGlmICggbGVmdCA8IHJpZ2h0ICkge1xuXG5cdFx0XHQvLyB3ZSBuZWVkIHRvIHN3YXAgYWxsIG9mIHRoZSBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIHRyaWFuZ2xlcyBhdCBpbmRleFxuXHRcdFx0Ly8gbGVmdCBhbmQgcmlnaHQ7IHRoYXQncyB0aGUgdmVydHMgaW4gdGhlIGdlb21ldHJ5IGluZGV4LCB0aGUgYm91bmRzLFxuXHRcdFx0Ly8gYW5kIHBlcmhhcHMgdGhlIFNBSCBwbGFuZXNcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcblxuXHRcdFx0XHRsZXQgdDAgPSBpbmRleFsgbGVmdCAqIDMgKyBpIF07XG5cdFx0XHRcdGluZGV4WyBsZWZ0ICogMyArIGkgXSA9IGluZGV4WyByaWdodCAqIDMgKyBpIF07XG5cdFx0XHRcdGluZGV4WyByaWdodCAqIDMgKyBpIF0gPSB0MDtcblxuXHRcdFx0fVxuXG5cblx0XHRcdC8vIHN3YXAgYm91bmRzXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCA2OyBpICsrICkge1xuXG5cdFx0XHRcdGxldCB0YiA9IHRyaWFuZ2xlQm91bmRzWyBsZWZ0ICogNiArIGkgXTtcblx0XHRcdFx0dHJpYW5nbGVCb3VuZHNbIGxlZnQgKiA2ICsgaSBdID0gdHJpYW5nbGVCb3VuZHNbIHJpZ2h0ICogNiArIGkgXTtcblx0XHRcdFx0dHJpYW5nbGVCb3VuZHNbIHJpZ2h0ICogNiArIGkgXSA9IHRiO1xuXG5cdFx0XHR9XG5cblx0XHRcdGxlZnQgKys7XG5cdFx0XHRyaWdodCAtLTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBsZWZ0O1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG5leHBvcnQgeyBwYXJ0aXRpb24gfTtcbiJdLCJuYW1lcyI6WyJwYXJ0aXRpb24iLCJpbmRpcmVjdEJ1ZmZlciIsImluZGV4IiwidHJpYW5nbGVCb3VuZHMiLCJvZmZzZXQiLCJjb3VudCIsInNwbGl0IiwibGVmdCIsInJpZ2h0IiwicG9zIiwiYXhpc09mZnNldCIsImF4aXMiLCJpIiwidDAiLCJ0YiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/build/sortUtils.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/build/sortUtils_indirect.generated.js":
/*!************************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/build/sortUtils_indirect.generated.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   partition_indirect: () => (/* binding */ partition_indirect)\n/* harmony export */ });\n/********************************************************/ /* This file is generated from \"sortUtils.template.js\". */ /********************************************************/ // reorders `tris` such that for `count` elements after `offset`, elements on the left side of the split\n// will be on the left and elements on the right side of the split will be on the right. returns the index\n// of the first element on the right side, or offset + count if there are no elements on the right side.\nfunction partition_indirect(indirectBuffer, index, triangleBounds, offset, count, split) {\n    let left = offset;\n    let right = offset + count - 1;\n    const pos = split.pos;\n    const axisOffset = split.axis * 2;\n    // hoare partitioning, see e.g. https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\n    while(true){\n        while(left <= right && triangleBounds[left * 6 + axisOffset] < pos){\n            left++;\n        }\n        // if a triangle center lies on the partition plane it is considered to be on the right side\n        while(left <= right && triangleBounds[right * 6 + axisOffset] >= pos){\n            right--;\n        }\n        if (left < right) {\n            // we need to swap all of the information associated with the triangles at index\n            // left and right; that's the verts in the geometry index, the bounds,\n            // and perhaps the SAH planes\n            let t = indirectBuffer[left];\n            indirectBuffer[left] = indirectBuffer[right];\n            indirectBuffer[right] = t;\n            // swap bounds\n            for(let i = 0; i < 6; i++){\n                let tb = triangleBounds[left * 6 + i];\n                triangleBounds[left * 6 + i] = triangleBounds[right * 6 + i];\n                triangleBounds[right * 6 + i] = tb;\n            }\n            left++;\n            right--;\n        } else {\n            return left;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvc29ydFV0aWxzX2luZGlyZWN0LmdlbmVyYXRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsd0RBQXdELEdBQ3hELHdEQUF3RCxHQUN4RCx3REFBd0QsR0FDeEQsd0dBQXdHO0FBQ3hHLDBHQUEwRztBQUMxRyx3R0FBd0c7QUFDeEcsU0FBU0EsbUJBQW9CQyxjQUFjLEVBQUVDLEtBQUssRUFBRUMsY0FBYyxFQUFFQyxNQUFNLEVBQUVDLEtBQUssRUFBRUMsS0FBSztJQUV2RixJQUFJQyxPQUFPSDtJQUNYLElBQUlJLFFBQVFKLFNBQVNDLFFBQVE7SUFDN0IsTUFBTUksTUFBTUgsTUFBTUcsR0FBRztJQUNyQixNQUFNQyxhQUFhSixNQUFNSyxJQUFJLEdBQUc7SUFFaEMsOEZBQThGO0lBQzlGLE1BQVEsS0FBTztRQUVkLE1BQVFKLFFBQVFDLFNBQVNMLGNBQWMsQ0FBRUksT0FBTyxJQUFJRyxXQUFZLEdBQUdELElBQU07WUFFeEVGO1FBRUQ7UUFFQSw0RkFBNEY7UUFDNUYsTUFBUUEsUUFBUUMsU0FBU0wsY0FBYyxDQUFFSyxRQUFRLElBQUlFLFdBQVksSUFBSUQsSUFBTTtZQUUxRUQ7UUFFRDtRQUVBLElBQUtELE9BQU9DLE9BQVE7WUFFbkIsZ0ZBQWdGO1lBQ2hGLHNFQUFzRTtZQUN0RSw2QkFBNkI7WUFDN0IsSUFBSUksSUFBSVgsY0FBYyxDQUFFTSxLQUFNO1lBQzlCTixjQUFjLENBQUVNLEtBQU0sR0FBR04sY0FBYyxDQUFFTyxNQUFPO1lBQ2hEUCxjQUFjLENBQUVPLE1BQU8sR0FBR0k7WUFHMUIsY0FBYztZQUNkLElBQU0sSUFBSUMsSUFBSSxHQUFHQSxJQUFJLEdBQUdBLElBQU87Z0JBRTlCLElBQUlDLEtBQUtYLGNBQWMsQ0FBRUksT0FBTyxJQUFJTSxFQUFHO2dCQUN2Q1YsY0FBYyxDQUFFSSxPQUFPLElBQUlNLEVBQUcsR0FBR1YsY0FBYyxDQUFFSyxRQUFRLElBQUlLLEVBQUc7Z0JBQ2hFVixjQUFjLENBQUVLLFFBQVEsSUFBSUssRUFBRyxHQUFHQztZQUVuQztZQUVBUDtZQUNBQztRQUVELE9BQU87WUFFTixPQUFPRDtRQUVSO0lBRUQ7QUFFRDtBQUU4QiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9idWlsZC9zb3J0VXRpbHNfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzPzk3YjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIFwic29ydFV0aWxzLnRlbXBsYXRlLmpzXCIuICovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vLyByZW9yZGVycyBgdHJpc2Agc3VjaCB0aGF0IGZvciBgY291bnRgIGVsZW1lbnRzIGFmdGVyIGBvZmZzZXRgLCBlbGVtZW50cyBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBzcGxpdFxuLy8gd2lsbCBiZSBvbiB0aGUgbGVmdCBhbmQgZWxlbWVudHMgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIHNwbGl0IHdpbGwgYmUgb24gdGhlIHJpZ2h0LiByZXR1cm5zIHRoZSBpbmRleFxuLy8gb2YgdGhlIGZpcnN0IGVsZW1lbnQgb24gdGhlIHJpZ2h0IHNpZGUsIG9yIG9mZnNldCArIGNvdW50IGlmIHRoZXJlIGFyZSBubyBlbGVtZW50cyBvbiB0aGUgcmlnaHQgc2lkZS5cbmZ1bmN0aW9uIHBhcnRpdGlvbl9pbmRpcmVjdCggaW5kaXJlY3RCdWZmZXIsIGluZGV4LCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgc3BsaXQgKSB7XG5cblx0bGV0IGxlZnQgPSBvZmZzZXQ7XG5cdGxldCByaWdodCA9IG9mZnNldCArIGNvdW50IC0gMTtcblx0Y29uc3QgcG9zID0gc3BsaXQucG9zO1xuXHRjb25zdCBheGlzT2Zmc2V0ID0gc3BsaXQuYXhpcyAqIDI7XG5cblx0Ly8gaG9hcmUgcGFydGl0aW9uaW5nLCBzZWUgZS5nLiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9RdWlja3NvcnQjSG9hcmVfcGFydGl0aW9uX3NjaGVtZVxuXHR3aGlsZSAoIHRydWUgKSB7XG5cblx0XHR3aGlsZSAoIGxlZnQgPD0gcmlnaHQgJiYgdHJpYW5nbGVCb3VuZHNbIGxlZnQgKiA2ICsgYXhpc09mZnNldCBdIDwgcG9zICkge1xuXG5cdFx0XHRsZWZ0ICsrO1xuXG5cdFx0fVxuXG5cdFx0Ly8gaWYgYSB0cmlhbmdsZSBjZW50ZXIgbGllcyBvbiB0aGUgcGFydGl0aW9uIHBsYW5lIGl0IGlzIGNvbnNpZGVyZWQgdG8gYmUgb24gdGhlIHJpZ2h0IHNpZGVcblx0XHR3aGlsZSAoIGxlZnQgPD0gcmlnaHQgJiYgdHJpYW5nbGVCb3VuZHNbIHJpZ2h0ICogNiArIGF4aXNPZmZzZXQgXSA+PSBwb3MgKSB7XG5cblx0XHRcdHJpZ2h0IC0tO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBsZWZ0IDwgcmlnaHQgKSB7XG5cblx0XHRcdC8vIHdlIG5lZWQgdG8gc3dhcCBhbGwgb2YgdGhlIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgdHJpYW5nbGVzIGF0IGluZGV4XG5cdFx0XHQvLyBsZWZ0IGFuZCByaWdodDsgdGhhdCdzIHRoZSB2ZXJ0cyBpbiB0aGUgZ2VvbWV0cnkgaW5kZXgsIHRoZSBib3VuZHMsXG5cdFx0XHQvLyBhbmQgcGVyaGFwcyB0aGUgU0FIIHBsYW5lc1xuXHRcdFx0bGV0IHQgPSBpbmRpcmVjdEJ1ZmZlclsgbGVmdCBdO1xuXHRcdFx0aW5kaXJlY3RCdWZmZXJbIGxlZnQgXSA9IGluZGlyZWN0QnVmZmVyWyByaWdodCBdO1xuXHRcdFx0aW5kaXJlY3RCdWZmZXJbIHJpZ2h0IF0gPSB0O1xuXG5cblx0XHRcdC8vIHN3YXAgYm91bmRzXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCA2OyBpICsrICkge1xuXG5cdFx0XHRcdGxldCB0YiA9IHRyaWFuZ2xlQm91bmRzWyBsZWZ0ICogNiArIGkgXTtcblx0XHRcdFx0dHJpYW5nbGVCb3VuZHNbIGxlZnQgKiA2ICsgaSBdID0gdHJpYW5nbGVCb3VuZHNbIHJpZ2h0ICogNiArIGkgXTtcblx0XHRcdFx0dHJpYW5nbGVCb3VuZHNbIHJpZ2h0ICogNiArIGkgXSA9IHRiO1xuXG5cdFx0XHR9XG5cblx0XHRcdGxlZnQgKys7XG5cdFx0XHRyaWdodCAtLTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBsZWZ0O1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG5leHBvcnQgeyBwYXJ0aXRpb25faW5kaXJlY3QgfTtcbiJdLCJuYW1lcyI6WyJwYXJ0aXRpb25faW5kaXJlY3QiLCJpbmRpcmVjdEJ1ZmZlciIsImluZGV4IiwidHJpYW5nbGVCb3VuZHMiLCJvZmZzZXQiLCJjb3VudCIsInNwbGl0IiwibGVmdCIsInJpZ2h0IiwicG9zIiwiYXhpc09mZnNldCIsImF4aXMiLCJ0IiwiaSIsInRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/build/sortUtils_indirect.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/build/splitUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/build/splitUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOptimalSplit: () => (/* binding */ getOptimalSplit)\n/* harmony export */ });\n/* harmony import */ var _utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/ArrayBoxUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\");\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n\n\nconst BIN_COUNT = 32;\nconst binsSort = (a, b)=>a.candidate - b.candidate;\nconst sahBins = new Array(BIN_COUNT).fill().map(()=>{\n    return {\n        count: 0,\n        bounds: new Float32Array(6),\n        rightCacheBounds: new Float32Array(6),\n        leftCacheBounds: new Float32Array(6),\n        candidate: 0\n    };\n});\nconst leftBounds = new Float32Array(6);\nfunction getOptimalSplit(nodeBoundingData, centroidBoundingData, triangleBounds, offset, count, strategy) {\n    let axis = -1;\n    let pos = 0;\n    // Center\n    if (strategy === _Constants_js__WEBPACK_IMPORTED_MODULE_0__.CENTER) {\n        axis = (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.getLongestEdgeIndex)(centroidBoundingData);\n        if (axis !== -1) {\n            pos = (centroidBoundingData[axis] + centroidBoundingData[axis + 3]) / 2;\n        }\n    } else if (strategy === _Constants_js__WEBPACK_IMPORTED_MODULE_0__.AVERAGE) {\n        axis = (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.getLongestEdgeIndex)(nodeBoundingData);\n        if (axis !== -1) {\n            pos = getAverage(triangleBounds, offset, count, axis);\n        }\n    } else if (strategy === _Constants_js__WEBPACK_IMPORTED_MODULE_0__.SAH) {\n        const rootSurfaceArea = (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.computeSurfaceArea)(nodeBoundingData);\n        let bestCost = _Constants_js__WEBPACK_IMPORTED_MODULE_0__.TRIANGLE_INTERSECT_COST * count;\n        // iterate over all axes\n        const cStart = offset * 6;\n        const cEnd = (offset + count) * 6;\n        for(let a = 0; a < 3; a++){\n            const axisLeft = centroidBoundingData[a];\n            const axisRight = centroidBoundingData[a + 3];\n            const axisLength = axisRight - axisLeft;\n            const binWidth = axisLength / BIN_COUNT;\n            // If we have fewer triangles than we're planning to split then just check all\n            // the triangle positions because it will be faster.\n            if (count < BIN_COUNT / 4) {\n                // initialize the bin candidates\n                const truncatedBins = [\n                    ...sahBins\n                ];\n                truncatedBins.length = count;\n                // set the candidates\n                let b = 0;\n                for(let c = cStart; c < cEnd; c += 6, b++){\n                    const bin = truncatedBins[b];\n                    bin.candidate = triangleBounds[c + 2 * a];\n                    bin.count = 0;\n                    const { bounds, leftCacheBounds, rightCacheBounds } = bin;\n                    for(let d = 0; d < 3; d++){\n                        rightCacheBounds[d] = Infinity;\n                        rightCacheBounds[d + 3] = -Infinity;\n                        leftCacheBounds[d] = Infinity;\n                        leftCacheBounds[d + 3] = -Infinity;\n                        bounds[d] = Infinity;\n                        bounds[d + 3] = -Infinity;\n                    }\n                    (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.expandByTriangleBounds)(c, triangleBounds, bounds);\n                }\n                truncatedBins.sort(binsSort);\n                // remove redundant splits\n                let splitCount = count;\n                for(let bi = 0; bi < splitCount; bi++){\n                    const bin = truncatedBins[bi];\n                    while(bi + 1 < splitCount && truncatedBins[bi + 1].candidate === bin.candidate){\n                        truncatedBins.splice(bi + 1, 1);\n                        splitCount--;\n                    }\n                }\n                // find the appropriate bin for each triangle and expand the bounds.\n                for(let c = cStart; c < cEnd; c += 6){\n                    const center = triangleBounds[c + 2 * a];\n                    for(let bi = 0; bi < splitCount; bi++){\n                        const bin = truncatedBins[bi];\n                        if (center >= bin.candidate) {\n                            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.expandByTriangleBounds)(c, triangleBounds, bin.rightCacheBounds);\n                        } else {\n                            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.expandByTriangleBounds)(c, triangleBounds, bin.leftCacheBounds);\n                            bin.count++;\n                        }\n                    }\n                }\n                // expand all the bounds\n                for(let bi = 0; bi < splitCount; bi++){\n                    const bin = truncatedBins[bi];\n                    const leftCount = bin.count;\n                    const rightCount = count - bin.count;\n                    // check the cost of this split\n                    const leftBounds = bin.leftCacheBounds;\n                    const rightBounds = bin.rightCacheBounds;\n                    let leftProb = 0;\n                    if (leftCount !== 0) {\n                        leftProb = (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.computeSurfaceArea)(leftBounds) / rootSurfaceArea;\n                    }\n                    let rightProb = 0;\n                    if (rightCount !== 0) {\n                        rightProb = (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.computeSurfaceArea)(rightBounds) / rootSurfaceArea;\n                    }\n                    const cost = _Constants_js__WEBPACK_IMPORTED_MODULE_0__.TRAVERSAL_COST + _Constants_js__WEBPACK_IMPORTED_MODULE_0__.TRIANGLE_INTERSECT_COST * (leftProb * leftCount + rightProb * rightCount);\n                    if (cost < bestCost) {\n                        axis = a;\n                        bestCost = cost;\n                        pos = bin.candidate;\n                    }\n                }\n            } else {\n                // reset the bins\n                for(let i = 0; i < BIN_COUNT; i++){\n                    const bin = sahBins[i];\n                    bin.count = 0;\n                    bin.candidate = axisLeft + binWidth + i * binWidth;\n                    const bounds = bin.bounds;\n                    for(let d = 0; d < 3; d++){\n                        bounds[d] = Infinity;\n                        bounds[d + 3] = -Infinity;\n                    }\n                }\n                // iterate over all center positions\n                for(let c = cStart; c < cEnd; c += 6){\n                    const triCenter = triangleBounds[c + 2 * a];\n                    const relativeCenter = triCenter - axisLeft;\n                    // in the partition function if the centroid lies on the split plane then it is\n                    // considered to be on the right side of the split\n                    let binIndex = ~~(relativeCenter / binWidth);\n                    if (binIndex >= BIN_COUNT) binIndex = BIN_COUNT - 1;\n                    const bin = sahBins[binIndex];\n                    bin.count++;\n                    (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.expandByTriangleBounds)(c, triangleBounds, bin.bounds);\n                }\n                // cache the unioned bounds from right to left so we don't have to regenerate them each time\n                const lastBin = sahBins[BIN_COUNT - 1];\n                (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.copyBounds)(lastBin.bounds, lastBin.rightCacheBounds);\n                for(let i = BIN_COUNT - 2; i >= 0; i--){\n                    const bin = sahBins[i];\n                    const nextBin = sahBins[i + 1];\n                    (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.unionBounds)(bin.bounds, nextBin.rightCacheBounds, bin.rightCacheBounds);\n                }\n                let leftCount = 0;\n                for(let i = 0; i < BIN_COUNT - 1; i++){\n                    const bin = sahBins[i];\n                    const binCount = bin.count;\n                    const bounds = bin.bounds;\n                    const nextBin = sahBins[i + 1];\n                    const rightBounds = nextBin.rightCacheBounds;\n                    // don't do anything with the bounds if the new bounds have no triangles\n                    if (binCount !== 0) {\n                        if (leftCount === 0) {\n                            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.copyBounds)(bounds, leftBounds);\n                        } else {\n                            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.unionBounds)(bounds, leftBounds, leftBounds);\n                        }\n                    }\n                    leftCount += binCount;\n                    // check the cost of this split\n                    let leftProb = 0;\n                    let rightProb = 0;\n                    if (leftCount !== 0) {\n                        leftProb = (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.computeSurfaceArea)(leftBounds) / rootSurfaceArea;\n                    }\n                    const rightCount = count - leftCount;\n                    if (rightCount !== 0) {\n                        rightProb = (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.computeSurfaceArea)(rightBounds) / rootSurfaceArea;\n                    }\n                    const cost = _Constants_js__WEBPACK_IMPORTED_MODULE_0__.TRAVERSAL_COST + _Constants_js__WEBPACK_IMPORTED_MODULE_0__.TRIANGLE_INTERSECT_COST * (leftProb * leftCount + rightProb * rightCount);\n                    if (cost < bestCost) {\n                        axis = a;\n                        bestCost = cost;\n                        pos = bin.candidate;\n                    }\n                }\n            }\n        }\n    } else {\n        console.warn(`MeshBVH: Invalid build strategy value ${strategy} used.`);\n    }\n    return {\n        axis,\n        pos\n    };\n}\n// returns the average coordinate on the specified axis of the all the provided triangles\nfunction getAverage(triangleBounds, offset, count, axis) {\n    let avg = 0;\n    for(let i = offset, end = offset + count; i < end; i++){\n        avg += triangleBounds[i * 6 + axis * 2];\n    }\n    return avg / count;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvYnVpbGQvc3BsaXRVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEk7QUFDNUM7QUFFaEcsTUFBTVUsWUFBWTtBQUNsQixNQUFNQyxXQUFXLENBQUVDLEdBQUdDLElBQU9ELEVBQUVFLFNBQVMsR0FBR0QsRUFBRUMsU0FBUztBQUN0RCxNQUFNQyxVQUFVLElBQUlDLE1BQU9OLFdBQVlPLElBQUksR0FBR0MsR0FBRyxDQUFFO0lBRWxELE9BQU87UUFFTkMsT0FBTztRQUNQQyxRQUFRLElBQUlDLGFBQWM7UUFDMUJDLGtCQUFrQixJQUFJRCxhQUFjO1FBQ3BDRSxpQkFBaUIsSUFBSUYsYUFBYztRQUNuQ1AsV0FBVztJQUVaO0FBRUQ7QUFDQSxNQUFNVSxhQUFhLElBQUlILGFBQWM7QUFFOUIsU0FBU0ksZ0JBQWlCQyxnQkFBZ0IsRUFBRUMsb0JBQW9CLEVBQUVDLGNBQWMsRUFBRUMsTUFBTSxFQUFFVixLQUFLLEVBQUVXLFFBQVE7SUFFL0csSUFBSUMsT0FBTyxDQUFFO0lBQ2IsSUFBSUMsTUFBTTtJQUVWLFNBQVM7SUFDVCxJQUFLRixhQUFhekIsaURBQU1BLEVBQUc7UUFFMUIwQixPQUFPL0IsZ0ZBQW1CQSxDQUFFMkI7UUFDNUIsSUFBS0ksU0FBUyxDQUFFLEdBQUk7WUFFbkJDLE1BQU0sQ0FBRUwsb0JBQW9CLENBQUVJLEtBQU0sR0FBR0osb0JBQW9CLENBQUVJLE9BQU8sRUFBRyxJQUFLO1FBRTdFO0lBRUQsT0FBTyxJQUFLRCxhQUFheEIsa0RBQU9BLEVBQUc7UUFFbEN5QixPQUFPL0IsZ0ZBQW1CQSxDQUFFMEI7UUFDNUIsSUFBS0ssU0FBUyxDQUFFLEdBQUk7WUFFbkJDLE1BQU1DLFdBQVlMLGdCQUFnQkMsUUFBUVYsT0FBT1k7UUFFbEQ7SUFFRCxPQUFPLElBQUtELGFBQWF2Qiw4Q0FBR0EsRUFBRztRQUU5QixNQUFNMkIsa0JBQWtCakMsK0VBQWtCQSxDQUFFeUI7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c2gtYnZoL3NyYy9jb3JlL2J1aWxkL3NwbGl0VXRpbHMuanM/MWQxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRMb25nZXN0RWRnZUluZGV4LCBjb21wdXRlU3VyZmFjZUFyZWEsIGNvcHlCb3VuZHMsIHVuaW9uQm91bmRzLCBleHBhbmRCeVRyaWFuZ2xlQm91bmRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvQXJyYXlCb3hVdGlsaXRpZXMuanMnO1xuaW1wb3J0IHsgQ0VOVEVSLCBBVkVSQUdFLCBTQUgsIFRSSUFOR0xFX0lOVEVSU0VDVF9DT1NULCBUUkFWRVJTQUxfQ09TVCB9IGZyb20gJy4uL0NvbnN0YW50cy5qcyc7XG5cbmNvbnN0IEJJTl9DT1VOVCA9IDMyO1xuY29uc3QgYmluc1NvcnQgPSAoIGEsIGIgKSA9PiBhLmNhbmRpZGF0ZSAtIGIuY2FuZGlkYXRlO1xuY29uc3Qgc2FoQmlucyA9IG5ldyBBcnJheSggQklOX0NPVU5UICkuZmlsbCgpLm1hcCggKCkgPT4ge1xuXG5cdHJldHVybiB7XG5cblx0XHRjb3VudDogMCxcblx0XHRib3VuZHM6IG5ldyBGbG9hdDMyQXJyYXkoIDYgKSxcblx0XHRyaWdodENhY2hlQm91bmRzOiBuZXcgRmxvYXQzMkFycmF5KCA2ICksXG5cdFx0bGVmdENhY2hlQm91bmRzOiBuZXcgRmxvYXQzMkFycmF5KCA2ICksXG5cdFx0Y2FuZGlkYXRlOiAwLFxuXG5cdH07XG5cbn0gKTtcbmNvbnN0IGxlZnRCb3VuZHMgPSBuZXcgRmxvYXQzMkFycmF5KCA2ICk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpbWFsU3BsaXQoIG5vZGVCb3VuZGluZ0RhdGEsIGNlbnRyb2lkQm91bmRpbmdEYXRhLCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgc3RyYXRlZ3kgKSB7XG5cblx0bGV0IGF4aXMgPSAtIDE7XG5cdGxldCBwb3MgPSAwO1xuXG5cdC8vIENlbnRlclxuXHRpZiAoIHN0cmF0ZWd5ID09PSBDRU5URVIgKSB7XG5cblx0XHRheGlzID0gZ2V0TG9uZ2VzdEVkZ2VJbmRleCggY2VudHJvaWRCb3VuZGluZ0RhdGEgKTtcblx0XHRpZiAoIGF4aXMgIT09IC0gMSApIHtcblxuXHRcdFx0cG9zID0gKCBjZW50cm9pZEJvdW5kaW5nRGF0YVsgYXhpcyBdICsgY2VudHJvaWRCb3VuZGluZ0RhdGFbIGF4aXMgKyAzIF0gKSAvIDI7XG5cblx0XHR9XG5cblx0fSBlbHNlIGlmICggc3RyYXRlZ3kgPT09IEFWRVJBR0UgKSB7XG5cblx0XHRheGlzID0gZ2V0TG9uZ2VzdEVkZ2VJbmRleCggbm9kZUJvdW5kaW5nRGF0YSApO1xuXHRcdGlmICggYXhpcyAhPT0gLSAxICkge1xuXG5cdFx0XHRwb3MgPSBnZXRBdmVyYWdlKCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgYXhpcyApO1xuXG5cdFx0fVxuXG5cdH0gZWxzZSBpZiAoIHN0cmF0ZWd5ID09PSBTQUggKSB7XG5cblx0XHRjb25zdCByb290U3VyZmFjZUFyZWEgPSBjb21wdXRlU3VyZmFjZUFyZWEoIG5vZGVCb3VuZGluZ0RhdGEgKTtcblx0XHRsZXQgYmVzdENvc3QgPSBUUklBTkdMRV9JTlRFUlNFQ1RfQ09TVCAqIGNvdW50O1xuXG5cdFx0Ly8gaXRlcmF0ZSBvdmVyIGFsbCBheGVzXG5cdFx0Y29uc3QgY1N0YXJ0ID0gb2Zmc2V0ICogNjtcblx0XHRjb25zdCBjRW5kID0gKCBvZmZzZXQgKyBjb3VudCApICogNjtcblx0XHRmb3IgKCBsZXQgYSA9IDA7IGEgPCAzOyBhICsrICkge1xuXG5cdFx0XHRjb25zdCBheGlzTGVmdCA9IGNlbnRyb2lkQm91bmRpbmdEYXRhWyBhIF07XG5cdFx0XHRjb25zdCBheGlzUmlnaHQgPSBjZW50cm9pZEJvdW5kaW5nRGF0YVsgYSArIDMgXTtcblx0XHRcdGNvbnN0IGF4aXNMZW5ndGggPSBheGlzUmlnaHQgLSBheGlzTGVmdDtcblx0XHRcdGNvbnN0IGJpbldpZHRoID0gYXhpc0xlbmd0aCAvIEJJTl9DT1VOVDtcblxuXHRcdFx0Ly8gSWYgd2UgaGF2ZSBmZXdlciB0cmlhbmdsZXMgdGhhbiB3ZSdyZSBwbGFubmluZyB0byBzcGxpdCB0aGVuIGp1c3QgY2hlY2sgYWxsXG5cdFx0XHQvLyB0aGUgdHJpYW5nbGUgcG9zaXRpb25zIGJlY2F1c2UgaXQgd2lsbCBiZSBmYXN0ZXIuXG5cdFx0XHRpZiAoIGNvdW50IDwgQklOX0NPVU5UIC8gNCApIHtcblxuXHRcdFx0XHQvLyBpbml0aWFsaXplIHRoZSBiaW4gY2FuZGlkYXRlc1xuXHRcdFx0XHRjb25zdCB0cnVuY2F0ZWRCaW5zID0gWyAuLi5zYWhCaW5zIF07XG5cdFx0XHRcdHRydW5jYXRlZEJpbnMubGVuZ3RoID0gY291bnQ7XG5cblx0XHRcdFx0Ly8gc2V0IHRoZSBjYW5kaWRhdGVzXG5cdFx0XHRcdGxldCBiID0gMDtcblx0XHRcdFx0Zm9yICggbGV0IGMgPSBjU3RhcnQ7IGMgPCBjRW5kOyBjICs9IDYsIGIgKysgKSB7XG5cblx0XHRcdFx0XHRjb25zdCBiaW4gPSB0cnVuY2F0ZWRCaW5zWyBiIF07XG5cdFx0XHRcdFx0YmluLmNhbmRpZGF0ZSA9IHRyaWFuZ2xlQm91bmRzWyBjICsgMiAqIGEgXTtcblx0XHRcdFx0XHRiaW4uY291bnQgPSAwO1xuXG5cdFx0XHRcdFx0Y29uc3Qge1xuXHRcdFx0XHRcdFx0Ym91bmRzLFxuXHRcdFx0XHRcdFx0bGVmdENhY2hlQm91bmRzLFxuXHRcdFx0XHRcdFx0cmlnaHRDYWNoZUJvdW5kcyxcblx0XHRcdFx0XHR9ID0gYmluO1xuXHRcdFx0XHRcdGZvciAoIGxldCBkID0gMDsgZCA8IDM7IGQgKysgKSB7XG5cblx0XHRcdFx0XHRcdHJpZ2h0Q2FjaGVCb3VuZHNbIGQgXSA9IEluZmluaXR5O1xuXHRcdFx0XHRcdFx0cmlnaHRDYWNoZUJvdW5kc1sgZCArIDMgXSA9IC0gSW5maW5pdHk7XG5cblx0XHRcdFx0XHRcdGxlZnRDYWNoZUJvdW5kc1sgZCBdID0gSW5maW5pdHk7XG5cdFx0XHRcdFx0XHRsZWZ0Q2FjaGVCb3VuZHNbIGQgKyAzIF0gPSAtIEluZmluaXR5O1xuXG5cdFx0XHRcdFx0XHRib3VuZHNbIGQgXSA9IEluZmluaXR5O1xuXHRcdFx0XHRcdFx0Ym91bmRzWyBkICsgMyBdID0gLSBJbmZpbml0eTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGV4cGFuZEJ5VHJpYW5nbGVCb3VuZHMoIGMsIHRyaWFuZ2xlQm91bmRzLCBib3VuZHMgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ1bmNhdGVkQmlucy5zb3J0KCBiaW5zU29ydCApO1xuXG5cdFx0XHRcdC8vIHJlbW92ZSByZWR1bmRhbnQgc3BsaXRzXG5cdFx0XHRcdGxldCBzcGxpdENvdW50ID0gY291bnQ7XG5cdFx0XHRcdGZvciAoIGxldCBiaSA9IDA7IGJpIDwgc3BsaXRDb3VudDsgYmkgKysgKSB7XG5cblx0XHRcdFx0XHRjb25zdCBiaW4gPSB0cnVuY2F0ZWRCaW5zWyBiaSBdO1xuXHRcdFx0XHRcdHdoaWxlICggYmkgKyAxIDwgc3BsaXRDb3VudCAmJiB0cnVuY2F0ZWRCaW5zWyBiaSArIDEgXS5jYW5kaWRhdGUgPT09IGJpbi5jYW5kaWRhdGUgKSB7XG5cblx0XHRcdFx0XHRcdHRydW5jYXRlZEJpbnMuc3BsaWNlKCBiaSArIDEsIDEgKTtcblx0XHRcdFx0XHRcdHNwbGl0Q291bnQgLS07XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGJpbiBmb3IgZWFjaCB0cmlhbmdsZSBhbmQgZXhwYW5kIHRoZSBib3VuZHMuXG5cdFx0XHRcdGZvciAoIGxldCBjID0gY1N0YXJ0OyBjIDwgY0VuZDsgYyArPSA2ICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgY2VudGVyID0gdHJpYW5nbGVCb3VuZHNbIGMgKyAyICogYSBdO1xuXHRcdFx0XHRcdGZvciAoIGxldCBiaSA9IDA7IGJpIDwgc3BsaXRDb3VudDsgYmkgKysgKSB7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJpbiA9IHRydW5jYXRlZEJpbnNbIGJpIF07XG5cdFx0XHRcdFx0XHRpZiAoIGNlbnRlciA+PSBiaW4uY2FuZGlkYXRlICkge1xuXG5cdFx0XHRcdFx0XHRcdGV4cGFuZEJ5VHJpYW5nbGVCb3VuZHMoIGMsIHRyaWFuZ2xlQm91bmRzLCBiaW4ucmlnaHRDYWNoZUJvdW5kcyApO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdGV4cGFuZEJ5VHJpYW5nbGVCb3VuZHMoIGMsIHRyaWFuZ2xlQm91bmRzLCBiaW4ubGVmdENhY2hlQm91bmRzICk7XG5cdFx0XHRcdFx0XHRcdGJpbi5jb3VudCArKztcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBleHBhbmQgYWxsIHRoZSBib3VuZHNcblx0XHRcdFx0Zm9yICggbGV0IGJpID0gMDsgYmkgPCBzcGxpdENvdW50OyBiaSArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGJpbiA9IHRydW5jYXRlZEJpbnNbIGJpIF07XG5cdFx0XHRcdFx0Y29uc3QgbGVmdENvdW50ID0gYmluLmNvdW50O1xuXHRcdFx0XHRcdGNvbnN0IHJpZ2h0Q291bnQgPSBjb3VudCAtIGJpbi5jb3VudDtcblxuXHRcdFx0XHRcdC8vIGNoZWNrIHRoZSBjb3N0IG9mIHRoaXMgc3BsaXRcblx0XHRcdFx0XHRjb25zdCBsZWZ0Qm91bmRzID0gYmluLmxlZnRDYWNoZUJvdW5kcztcblx0XHRcdFx0XHRjb25zdCByaWdodEJvdW5kcyA9IGJpbi5yaWdodENhY2hlQm91bmRzO1xuXG5cdFx0XHRcdFx0bGV0IGxlZnRQcm9iID0gMDtcblx0XHRcdFx0XHRpZiAoIGxlZnRDb3VudCAhPT0gMCApIHtcblxuXHRcdFx0XHRcdFx0bGVmdFByb2IgPSBjb21wdXRlU3VyZmFjZUFyZWEoIGxlZnRCb3VuZHMgKSAvIHJvb3RTdXJmYWNlQXJlYTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxldCByaWdodFByb2IgPSAwO1xuXHRcdFx0XHRcdGlmICggcmlnaHRDb3VudCAhPT0gMCApIHtcblxuXHRcdFx0XHRcdFx0cmlnaHRQcm9iID0gY29tcHV0ZVN1cmZhY2VBcmVhKCByaWdodEJvdW5kcyApIC8gcm9vdFN1cmZhY2VBcmVhO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgY29zdCA9IFRSQVZFUlNBTF9DT1NUICsgVFJJQU5HTEVfSU5URVJTRUNUX0NPU1QgKiAoXG5cdFx0XHRcdFx0XHRsZWZ0UHJvYiAqIGxlZnRDb3VudCArIHJpZ2h0UHJvYiAqIHJpZ2h0Q291bnRcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0aWYgKCBjb3N0IDwgYmVzdENvc3QgKSB7XG5cblx0XHRcdFx0XHRcdGF4aXMgPSBhO1xuXHRcdFx0XHRcdFx0YmVzdENvc3QgPSBjb3N0O1xuXHRcdFx0XHRcdFx0cG9zID0gYmluLmNhbmRpZGF0ZTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gcmVzZXQgdGhlIGJpbnNcblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgQklOX0NPVU5UOyBpICsrICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgYmluID0gc2FoQmluc1sgaSBdO1xuXHRcdFx0XHRcdGJpbi5jb3VudCA9IDA7XG5cdFx0XHRcdFx0YmluLmNhbmRpZGF0ZSA9IGF4aXNMZWZ0ICsgYmluV2lkdGggKyBpICogYmluV2lkdGg7XG5cblx0XHRcdFx0XHRjb25zdCBib3VuZHMgPSBiaW4uYm91bmRzO1xuXHRcdFx0XHRcdGZvciAoIGxldCBkID0gMDsgZCA8IDM7IGQgKysgKSB7XG5cblx0XHRcdFx0XHRcdGJvdW5kc1sgZCBdID0gSW5maW5pdHk7XG5cdFx0XHRcdFx0XHRib3VuZHNbIGQgKyAzIF0gPSAtIEluZmluaXR5O1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpdGVyYXRlIG92ZXIgYWxsIGNlbnRlciBwb3NpdGlvbnNcblx0XHRcdFx0Zm9yICggbGV0IGMgPSBjU3RhcnQ7IGMgPCBjRW5kOyBjICs9IDYgKSB7XG5cblx0XHRcdFx0XHRjb25zdCB0cmlDZW50ZXIgPSB0cmlhbmdsZUJvdW5kc1sgYyArIDIgKiBhIF07XG5cdFx0XHRcdFx0Y29uc3QgcmVsYXRpdmVDZW50ZXIgPSB0cmlDZW50ZXIgLSBheGlzTGVmdDtcblxuXHRcdFx0XHRcdC8vIGluIHRoZSBwYXJ0aXRpb24gZnVuY3Rpb24gaWYgdGhlIGNlbnRyb2lkIGxpZXMgb24gdGhlIHNwbGl0IHBsYW5lIHRoZW4gaXQgaXNcblx0XHRcdFx0XHQvLyBjb25zaWRlcmVkIHRvIGJlIG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSBzcGxpdFxuXHRcdFx0XHRcdGxldCBiaW5JbmRleCA9IH4gfiAoIHJlbGF0aXZlQ2VudGVyIC8gYmluV2lkdGggKTtcblx0XHRcdFx0XHRpZiAoIGJpbkluZGV4ID49IEJJTl9DT1VOVCApIGJpbkluZGV4ID0gQklOX0NPVU5UIC0gMTtcblxuXHRcdFx0XHRcdGNvbnN0IGJpbiA9IHNhaEJpbnNbIGJpbkluZGV4IF07XG5cdFx0XHRcdFx0YmluLmNvdW50ICsrO1xuXG5cdFx0XHRcdFx0ZXhwYW5kQnlUcmlhbmdsZUJvdW5kcyggYywgdHJpYW5nbGVCb3VuZHMsIGJpbi5ib3VuZHMgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gY2FjaGUgdGhlIHVuaW9uZWQgYm91bmRzIGZyb20gcmlnaHQgdG8gbGVmdCBzbyB3ZSBkb24ndCBoYXZlIHRvIHJlZ2VuZXJhdGUgdGhlbSBlYWNoIHRpbWVcblx0XHRcdFx0Y29uc3QgbGFzdEJpbiA9IHNhaEJpbnNbIEJJTl9DT1VOVCAtIDEgXTtcblx0XHRcdFx0Y29weUJvdW5kcyggbGFzdEJpbi5ib3VuZHMsIGxhc3RCaW4ucmlnaHRDYWNoZUJvdW5kcyApO1xuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IEJJTl9DT1VOVCAtIDI7IGkgPj0gMDsgaSAtLSApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGJpbiA9IHNhaEJpbnNbIGkgXTtcblx0XHRcdFx0XHRjb25zdCBuZXh0QmluID0gc2FoQmluc1sgaSArIDEgXTtcblx0XHRcdFx0XHR1bmlvbkJvdW5kcyggYmluLmJvdW5kcywgbmV4dEJpbi5yaWdodENhY2hlQm91bmRzLCBiaW4ucmlnaHRDYWNoZUJvdW5kcyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgbGVmdENvdW50ID0gMDtcblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgQklOX0NPVU5UIC0gMTsgaSArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGJpbiA9IHNhaEJpbnNbIGkgXTtcblx0XHRcdFx0XHRjb25zdCBiaW5Db3VudCA9IGJpbi5jb3VudDtcblx0XHRcdFx0XHRjb25zdCBib3VuZHMgPSBiaW4uYm91bmRzO1xuXG5cdFx0XHRcdFx0Y29uc3QgbmV4dEJpbiA9IHNhaEJpbnNbIGkgKyAxIF07XG5cdFx0XHRcdFx0Y29uc3QgcmlnaHRCb3VuZHMgPSBuZXh0QmluLnJpZ2h0Q2FjaGVCb3VuZHM7XG5cblx0XHRcdFx0XHQvLyBkb24ndCBkbyBhbnl0aGluZyB3aXRoIHRoZSBib3VuZHMgaWYgdGhlIG5ldyBib3VuZHMgaGF2ZSBubyB0cmlhbmdsZXNcblx0XHRcdFx0XHRpZiAoIGJpbkNvdW50ICE9PSAwICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIGxlZnRDb3VudCA9PT0gMCApIHtcblxuXHRcdFx0XHRcdFx0XHRjb3B5Qm91bmRzKCBib3VuZHMsIGxlZnRCb3VuZHMgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHR1bmlvbkJvdW5kcyggYm91bmRzLCBsZWZ0Qm91bmRzLCBsZWZ0Qm91bmRzICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxlZnRDb3VudCArPSBiaW5Db3VudDtcblxuXHRcdFx0XHRcdC8vIGNoZWNrIHRoZSBjb3N0IG9mIHRoaXMgc3BsaXRcblx0XHRcdFx0XHRsZXQgbGVmdFByb2IgPSAwO1xuXHRcdFx0XHRcdGxldCByaWdodFByb2IgPSAwO1xuXG5cdFx0XHRcdFx0aWYgKCBsZWZ0Q291bnQgIT09IDAgKSB7XG5cblx0XHRcdFx0XHRcdGxlZnRQcm9iID0gY29tcHV0ZVN1cmZhY2VBcmVhKCBsZWZ0Qm91bmRzICkgLyByb290U3VyZmFjZUFyZWE7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCByaWdodENvdW50ID0gY291bnQgLSBsZWZ0Q291bnQ7XG5cdFx0XHRcdFx0aWYgKCByaWdodENvdW50ICE9PSAwICkge1xuXG5cdFx0XHRcdFx0XHRyaWdodFByb2IgPSBjb21wdXRlU3VyZmFjZUFyZWEoIHJpZ2h0Qm91bmRzICkgLyByb290U3VyZmFjZUFyZWE7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBjb3N0ID0gVFJBVkVSU0FMX0NPU1QgKyBUUklBTkdMRV9JTlRFUlNFQ1RfQ09TVCAqIChcblx0XHRcdFx0XHRcdGxlZnRQcm9iICogbGVmdENvdW50ICsgcmlnaHRQcm9iICogcmlnaHRDb3VudFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRpZiAoIGNvc3QgPCBiZXN0Q29zdCApIHtcblxuXHRcdFx0XHRcdFx0YXhpcyA9IGE7XG5cdFx0XHRcdFx0XHRiZXN0Q29zdCA9IGNvc3Q7XG5cdFx0XHRcdFx0XHRwb3MgPSBiaW4uY2FuZGlkYXRlO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHRjb25zb2xlLndhcm4oIGBNZXNoQlZIOiBJbnZhbGlkIGJ1aWxkIHN0cmF0ZWd5IHZhbHVlICR7IHN0cmF0ZWd5IH0gdXNlZC5gICk7XG5cblx0fVxuXG5cdHJldHVybiB7IGF4aXMsIHBvcyB9O1xuXG59XG5cbi8vIHJldHVybnMgdGhlIGF2ZXJhZ2UgY29vcmRpbmF0ZSBvbiB0aGUgc3BlY2lmaWVkIGF4aXMgb2YgdGhlIGFsbCB0aGUgcHJvdmlkZWQgdHJpYW5nbGVzXG5mdW5jdGlvbiBnZXRBdmVyYWdlKCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgYXhpcyApIHtcblxuXHRsZXQgYXZnID0gMDtcblx0Zm9yICggbGV0IGkgPSBvZmZzZXQsIGVuZCA9IG9mZnNldCArIGNvdW50OyBpIDwgZW5kOyBpICsrICkge1xuXG5cdFx0YXZnICs9IHRyaWFuZ2xlQm91bmRzWyBpICogNiArIGF4aXMgKiAyIF07XG5cblx0fVxuXG5cdHJldHVybiBhdmcgLyBjb3VudDtcblxufVxuIl0sIm5hbWVzIjpbImdldExvbmdlc3RFZGdlSW5kZXgiLCJjb21wdXRlU3VyZmFjZUFyZWEiLCJjb3B5Qm91bmRzIiwidW5pb25Cb3VuZHMiLCJleHBhbmRCeVRyaWFuZ2xlQm91bmRzIiwiQ0VOVEVSIiwiQVZFUkFHRSIsIlNBSCIsIlRSSUFOR0xFX0lOVEVSU0VDVF9DT1NUIiwiVFJBVkVSU0FMX0NPU1QiLCJCSU5fQ09VTlQiLCJiaW5zU29ydCIsImEiLCJiIiwiY2FuZGlkYXRlIiwic2FoQmlucyIsIkFycmF5IiwiZmlsbCIsIm1hcCIsImNvdW50IiwiYm91bmRzIiwiRmxvYXQzMkFycmF5IiwicmlnaHRDYWNoZUJvdW5kcyIsImxlZnRDYWNoZUJvdW5kcyIsImxlZnRCb3VuZHMiLCJnZXRPcHRpbWFsU3BsaXQiLCJub2RlQm91bmRpbmdEYXRhIiwiY2VudHJvaWRCb3VuZGluZ0RhdGEiLCJ0cmlhbmdsZUJvdW5kcyIsIm9mZnNldCIsInN0cmF0ZWd5IiwiYXhpcyIsInBvcyIsImdldEF2ZXJhZ2UiLCJyb290U3VyZmFjZUFyZWEiLCJiZXN0Q29zdCIsImNTdGFydCIsImNFbmQiLCJheGlzTGVmdCIsImF4aXNSaWdodCIsImF4aXNMZW5ndGgiLCJiaW5XaWR0aCIsInRydW5jYXRlZEJpbnMiLCJsZW5ndGgiLCJjIiwiYmluIiwiZCIsIkluZmluaXR5Iiwic29ydCIsInNwbGl0Q291bnQiLCJiaSIsInNwbGljZSIsImNlbnRlciIsImxlZnRDb3VudCIsInJpZ2h0Q291bnQiLCJyaWdodEJvdW5kcyIsImxlZnRQcm9iIiwicmlnaHRQcm9iIiwiY29zdCIsImkiLCJ0cmlDZW50ZXIiLCJyZWxhdGl2ZUNlbnRlciIsImJpbkluZGV4IiwibGFzdEJpbiIsIm5leHRCaW4iLCJiaW5Db3VudCIsImNvbnNvbGUiLCJ3YXJuIiwiYXZnIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/build/splitUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/bvhcast.js":
/*!**************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/bvhcast.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bvhcast: () => (/* binding */ bvhcast)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/ArrayBoxUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\");\n/* harmony import */ var _utils_PrimitivePool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/PrimitivePool.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/PrimitivePool.js\");\n\n\n\n\n\nconst _bufferStack1 = new _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_0__.BufferStack.constructor();\nconst _bufferStack2 = new _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_0__.BufferStack.constructor();\nconst _boxPool = new _utils_PrimitivePool_js__WEBPACK_IMPORTED_MODULE_1__.PrimitivePool(()=>new three__WEBPACK_IMPORTED_MODULE_2__.Box3());\nconst _leftBox1 = new three__WEBPACK_IMPORTED_MODULE_2__.Box3();\nconst _rightBox1 = new three__WEBPACK_IMPORTED_MODULE_2__.Box3();\nconst _leftBox2 = new three__WEBPACK_IMPORTED_MODULE_2__.Box3();\nconst _rightBox2 = new three__WEBPACK_IMPORTED_MODULE_2__.Box3();\nlet _active = false;\nfunction bvhcast(bvh, otherBvh, matrixToLocal, intersectsRanges) {\n    if (_active) {\n        throw new Error(\"MeshBVH: Recursive calls to bvhcast not supported.\");\n    }\n    _active = true;\n    const roots = bvh._roots;\n    const otherRoots = otherBvh._roots;\n    let result;\n    let offset1 = 0;\n    let offset2 = 0;\n    const invMat = new three__WEBPACK_IMPORTED_MODULE_2__.Matrix4().copy(matrixToLocal).invert();\n    // iterate over the first set of roots\n    for(let i = 0, il = roots.length; i < il; i++){\n        _bufferStack1.setBuffer(roots[i]);\n        offset2 = 0;\n        // prep the initial root box\n        const localBox = _boxPool.getPrimitive();\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(0), _bufferStack1.float32Array, localBox);\n        localBox.applyMatrix4(invMat);\n        // iterate over the second set of roots\n        for(let j = 0, jl = otherRoots.length; j < jl; j++){\n            _bufferStack2.setBuffer(otherRoots[i]);\n            result = _traverse(0, 0, matrixToLocal, invMat, intersectsRanges, offset1, offset2, 0, 0, localBox);\n            _bufferStack2.clearBuffer();\n            offset2 += otherRoots[j].length;\n            if (result) {\n                break;\n            }\n        }\n        // release stack info\n        _boxPool.releasePrimitive(localBox);\n        _bufferStack1.clearBuffer();\n        offset1 += roots[i].length;\n        if (result) {\n            break;\n        }\n    }\n    _active = false;\n    return result;\n}\nfunction _traverse(node1Index32, node2Index32, matrix2to1, matrix1to2, intersectsRangesFunc, // offsets for ids\nnode1IndexByteOffset = 0, node2IndexByteOffset = 0, // tree depth\ndepth1 = 0, depth2 = 0, currBox = null, reversed = false) {\n    // get the buffer stacks associated with the current indices\n    let bufferStack1, bufferStack2;\n    if (reversed) {\n        bufferStack1 = _bufferStack2;\n        bufferStack2 = _bufferStack1;\n    } else {\n        bufferStack1 = _bufferStack1;\n        bufferStack2 = _bufferStack2;\n    }\n    // get the local instances of the typed buffers\n    const float32Array1 = bufferStack1.float32Array, uint32Array1 = bufferStack1.uint32Array, uint16Array1 = bufferStack1.uint16Array, float32Array2 = bufferStack2.float32Array, uint32Array2 = bufferStack2.uint32Array, uint16Array2 = bufferStack2.uint16Array;\n    const node1Index16 = node1Index32 * 2;\n    const node2Index16 = node2Index32 * 2;\n    const isLeaf1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.IS_LEAF)(node1Index16, uint16Array1);\n    const isLeaf2 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.IS_LEAF)(node2Index16, uint16Array2);\n    let result = false;\n    if (isLeaf2 && isLeaf1) {\n        // if both bounds are leaf nodes then fire the callback if the boxes intersect\n        if (reversed) {\n            result = intersectsRangesFunc((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.OFFSET)(node2Index32, uint32Array2), (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.COUNT)(node2Index32 * 2, uint16Array2), (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.OFFSET)(node1Index32, uint32Array1), (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.COUNT)(node1Index32 * 2, uint16Array1), depth2, node2IndexByteOffset + node2Index32, depth1, node1IndexByteOffset + node1Index32);\n        } else {\n            result = intersectsRangesFunc((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.OFFSET)(node1Index32, uint32Array1), (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.COUNT)(node1Index32 * 2, uint16Array1), (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.OFFSET)(node2Index32, uint32Array2), (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.COUNT)(node2Index32 * 2, uint16Array2), depth1, node1IndexByteOffset + node1Index32, depth2, node2IndexByteOffset + node2Index32);\n        }\n    } else if (isLeaf2) {\n        // SWAP\n        // If we've traversed to the leaf node on the other bvh then we need to swap over\n        // to traverse down the first one\n        // get the new box to use\n        const newBox = _boxPool.getPrimitive();\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(node2Index32), float32Array2, newBox);\n        newBox.applyMatrix4(matrix2to1);\n        // get the child bounds to check before traversal\n        const cl1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.LEFT_NODE)(node1Index32);\n        const cr1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.RIGHT_NODE)(node1Index32, uint32Array1);\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cl1), float32Array1, _leftBox1);\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cr1), float32Array1, _rightBox1);\n        // precompute the intersections otherwise the global boxes will be modified during traversal\n        const intersectCl1 = newBox.intersectsBox(_leftBox1);\n        const intersectCr1 = newBox.intersectsBox(_rightBox1);\n        result = intersectCl1 && _traverse(node2Index32, cl1, matrix1to2, matrix2to1, intersectsRangesFunc, node2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1, newBox, !reversed) || intersectCr1 && _traverse(node2Index32, cr1, matrix1to2, matrix2to1, intersectsRangesFunc, node2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1, newBox, !reversed);\n        _boxPool.releasePrimitive(newBox);\n    } else {\n        // if neither are leaves then we should swap if one of the children does not\n        // intersect with the current bounds\n        // get the child bounds to check\n        const cl2 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.LEFT_NODE)(node2Index32);\n        const cr2 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.RIGHT_NODE)(node2Index32, uint32Array2);\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cl2), float32Array2, _leftBox2);\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cr2), float32Array2, _rightBox2);\n        const leftIntersects = currBox.intersectsBox(_leftBox2);\n        const rightIntersects = currBox.intersectsBox(_rightBox2);\n        if (leftIntersects && rightIntersects) {\n            // continue to traverse both children if they both intersect\n            result = _traverse(node1Index32, cl2, matrix2to1, matrix1to2, intersectsRangesFunc, node1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1, currBox, reversed) || _traverse(node1Index32, cr2, matrix2to1, matrix1to2, intersectsRangesFunc, node1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1, currBox, reversed);\n        } else if (leftIntersects) {\n            if (isLeaf1) {\n                // if the current box is a leaf then just continue\n                result = _traverse(node1Index32, cl2, matrix2to1, matrix1to2, intersectsRangesFunc, node1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1, currBox, reversed);\n            } else {\n                // SWAP\n                // if only one box intersects then we have to swap to the other bvh to continue\n                const newBox = _boxPool.getPrimitive();\n                newBox.copy(_leftBox2).applyMatrix4(matrix2to1);\n                const cl1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.LEFT_NODE)(node1Index32);\n                const cr1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.RIGHT_NODE)(node1Index32, uint32Array1);\n                (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cl1), float32Array1, _leftBox1);\n                (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cr1), float32Array1, _rightBox1);\n                // precompute the intersections otherwise the global boxes will be modified during traversal\n                const intersectCl1 = newBox.intersectsBox(_leftBox1);\n                const intersectCr1 = newBox.intersectsBox(_rightBox1);\n                result = intersectCl1 && _traverse(cl2, cl1, matrix1to2, matrix2to1, intersectsRangesFunc, node2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1, newBox, !reversed) || intersectCr1 && _traverse(cl2, cr1, matrix1to2, matrix2to1, intersectsRangesFunc, node2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1, newBox, !reversed);\n                _boxPool.releasePrimitive(newBox);\n            }\n        } else if (rightIntersects) {\n            if (isLeaf1) {\n                // if the current box is a leaf then just continue\n                result = _traverse(node1Index32, cr2, matrix2to1, matrix1to2, intersectsRangesFunc, node1IndexByteOffset, node2IndexByteOffset, depth1, depth2 + 1, currBox, reversed);\n            } else {\n                // SWAP\n                // if only one box intersects then we have to swap to the other bvh to continue\n                const newBox = _boxPool.getPrimitive();\n                newBox.copy(_rightBox2).applyMatrix4(matrix2to1);\n                const cl1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.LEFT_NODE)(node1Index32);\n                const cr1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.RIGHT_NODE)(node1Index32, uint32Array1);\n                (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cl1), float32Array1, _leftBox1);\n                (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_3__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(cr1), float32Array1, _rightBox1);\n                // precompute the intersections otherwise the global boxes will be modified during traversal\n                const intersectCl1 = newBox.intersectsBox(_leftBox1);\n                const intersectCr1 = newBox.intersectsBox(_rightBox1);\n                result = intersectCl1 && _traverse(cr2, cl1, matrix1to2, matrix2to1, intersectsRangesFunc, node2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1, newBox, !reversed) || intersectCr1 && _traverse(cr2, cr1, matrix1to2, matrix2to1, intersectsRangesFunc, node2IndexByteOffset, node1IndexByteOffset, depth2, depth1 + 1, newBox, !reversed);\n                _boxPool.releasePrimitive(newBox);\n            }\n        }\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9idmhjYXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUNnQjtBQUMyRDtBQUNuRDtBQUNEO0FBRTdELE1BQU1XLGdCQUFnQixJQUFJVCw4REFBV0EsQ0FBQ1UsV0FBVztBQUNqRCxNQUFNQyxnQkFBZ0IsSUFBSVgsOERBQVdBLENBQUNVLFdBQVc7QUFDakQsTUFBTUUsV0FBVyxJQUFJSixrRUFBYUEsQ0FBRSxJQUFNLElBQUlWLHVDQUFJQTtBQUNsRCxNQUFNZSxZQUFZLElBQUlmLHVDQUFJQTtBQUMxQixNQUFNZ0IsYUFBYSxJQUFJaEIsdUNBQUlBO0FBRTNCLE1BQU1pQixZQUFZLElBQUlqQix1Q0FBSUE7QUFDMUIsTUFBTWtCLGFBQWEsSUFBSWxCLHVDQUFJQTtBQUUzQixJQUFJbUIsVUFBVTtBQUVQLFNBQVNDLFFBQVNDLEdBQUcsRUFBRUMsUUFBUSxFQUFFQyxhQUFhLEVBQUVDLGdCQUFnQjtJQUV0RSxJQUFLTCxTQUFVO1FBRWQsTUFBTSxJQUFJTSxNQUFPO0lBRWxCO0lBRUFOLFVBQVU7SUFFVixNQUFNTyxRQUFRTCxJQUFJTSxNQUFNO0lBQ3hCLE1BQU1DLGFBQWFOLFNBQVNLLE1BQU07SUFDbEMsSUFBSUU7SUFDSixJQUFJQyxVQUFVO0lBQ2QsSUFBSUMsVUFBVTtJQUNkLE1BQU1DLFNBQVMsSUFBSS9CLDBDQUFPQSxHQUFHZ0MsSUFBSSxDQUFFVixlQUFnQlcsTUFBTTtJQUV6RCxzQ0FBc0M7SUFDdEMsSUFBTSxJQUFJQyxJQUFJLEdBQUdDLEtBQUtWLE1BQU1XLE1BQU0sRUFBRUYsSUFBSUMsSUFBSUQsSUFBTztRQUVsRHhCLGNBQWMyQixTQUFTLENBQUVaLEtBQUssQ0FBRVMsRUFBRztRQUNuQ0osVUFBVTtRQUVWLDRCQUE0QjtRQUM1QixNQUFNUSxXQUFXekIsU0FBUzBCLFlBQVk7UUFDdEMvQix1RUFBVUEsQ0FBRU4sOEVBQW1CQSxDQUFF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QyxTQUFTZ0IsVUFDUkcsY0FBY2dDLEtBQUs5QixZQUFZQyxZQUFZQyxzQkFDM0NDLHNCQUFzQkMsc0JBQXNCQyxRQUFRQyxTQUFTLEdBQzdEQyxTQUFTQztZQUdYLE9BQU87Z0JBRU4sT0FBTztnQkFDUCwrRUFBK0U7Z0JBQy9FLE1BQU1lLFNBQVMzRCxTQUFTMEIsWUFBWTtnQkFDcENpQyxPQUFPeEMsSUFBSSxDQUFFZixZQUFhd0IsWUFBWSxDQUFFUTtnQkFFeEMsTUFBTXdCLE1BQU1wRSxvRUFBU0EsQ0FBRTBDO2dCQUN2QixNQUFNMkIsTUFBTW5FLHFFQUFVQSxDQUFFd0MsY0FBY2M7Z0JBQ3RDckQsdUVBQVVBLENBQUVOLDhFQUFtQkEsQ0FBRXVFLE1BQU9iLGVBQWU5QztnQkFDdkROLHVFQUFVQSxDQUFFTiw4RUFBbUJBLENBQUV3RSxNQUFPZCxlQUFlN0M7Z0JBRXZELDRGQUE0RjtnQkFDNUYsTUFBTTRELGVBQWVILE9BQU9JLGFBQWEsQ0FBRTlEO2dCQUMzQyxNQUFNK0QsZUFBZUwsT0FBT0ksYUFBYSxDQUFFN0Q7Z0JBQzNDYSxTQUFTLGdCQUNRZ0IsVUFDZm1DLEtBQUtOLEtBQUt2QixZQUFZRCxZQUFZRSxzQkFDbENFLHNCQUFzQkQsc0JBQXNCRyxRQUFRRCxTQUFTLEdBQzdEa0IsUUFBUSxDQUFFZixhQUdYb0IsZ0JBQWdCakMsVUFDZm1DLEtBQUtMLEtBQUt4QixZQUFZRCxZQUFZRSxzQkFDbENFLHNCQUFzQkQsc0JBQXNCRyxRQUFRRCxTQUFTLEdBQzdEa0IsUUFBUSxDQUFFZjtnQkFJWjVDLFNBQVNpQyxnQkFBZ0IsQ0FBRTBCO1lBRTVCO1FBRUQ7SUFFRDtJQUVBLE9BQU81QztBQUVSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2Nhc3QvYnZoY2FzdC5qcz85NTZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJveDMsIE1hdHJpeDQgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBCdWZmZXJTdGFjayB9IGZyb20gJy4uL3V0aWxzL0J1ZmZlclN0YWNrLmpzJztcbmltcG9ydCB7IEJPVU5ESU5HX0RBVEFfSU5ERVgsIENPVU5ULCBJU19MRUFGLCBMRUZUX05PREUsIE9GRlNFVCwgUklHSFRfTk9ERSB9IGZyb20gJy4uL3V0aWxzL25vZGVCdWZmZXJVdGlscy5qcyc7XG5pbXBvcnQgeyBhcnJheVRvQm94IH0gZnJvbSAnLi4vLi4vdXRpbHMvQXJyYXlCb3hVdGlsaXRpZXMuanMnO1xuaW1wb3J0IHsgUHJpbWl0aXZlUG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL1ByaW1pdGl2ZVBvb2wuanMnO1xuXG5jb25zdCBfYnVmZmVyU3RhY2sxID0gbmV3IEJ1ZmZlclN0YWNrLmNvbnN0cnVjdG9yKCk7XG5jb25zdCBfYnVmZmVyU3RhY2syID0gbmV3IEJ1ZmZlclN0YWNrLmNvbnN0cnVjdG9yKCk7XG5jb25zdCBfYm94UG9vbCA9IG5ldyBQcmltaXRpdmVQb29sKCAoKSA9PiBuZXcgQm94MygpICk7XG5jb25zdCBfbGVmdEJveDEgPSBuZXcgQm94MygpO1xuY29uc3QgX3JpZ2h0Qm94MSA9IG5ldyBCb3gzKCk7XG5cbmNvbnN0IF9sZWZ0Qm94MiA9IG5ldyBCb3gzKCk7XG5jb25zdCBfcmlnaHRCb3gyID0gbmV3IEJveDMoKTtcblxubGV0IF9hY3RpdmUgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ2aGNhc3QoIGJ2aCwgb3RoZXJCdmgsIG1hdHJpeFRvTG9jYWwsIGludGVyc2VjdHNSYW5nZXMgKSB7XG5cblx0aWYgKCBfYWN0aXZlICkge1xuXG5cdFx0dGhyb3cgbmV3IEVycm9yKCAnTWVzaEJWSDogUmVjdXJzaXZlIGNhbGxzIHRvIGJ2aGNhc3Qgbm90IHN1cHBvcnRlZC4nICk7XG5cblx0fVxuXG5cdF9hY3RpdmUgPSB0cnVlO1xuXG5cdGNvbnN0IHJvb3RzID0gYnZoLl9yb290cztcblx0Y29uc3Qgb3RoZXJSb290cyA9IG90aGVyQnZoLl9yb290cztcblx0bGV0IHJlc3VsdDtcblx0bGV0IG9mZnNldDEgPSAwO1xuXHRsZXQgb2Zmc2V0MiA9IDA7XG5cdGNvbnN0IGludk1hdCA9IG5ldyBNYXRyaXg0KCkuY29weSggbWF0cml4VG9Mb2NhbCApLmludmVydCgpO1xuXG5cdC8vIGl0ZXJhdGUgb3ZlciB0aGUgZmlyc3Qgc2V0IG9mIHJvb3RzXG5cdGZvciAoIGxldCBpID0gMCwgaWwgPSByb290cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdF9idWZmZXJTdGFjazEuc2V0QnVmZmVyKCByb290c1sgaSBdICk7XG5cdFx0b2Zmc2V0MiA9IDA7XG5cblx0XHQvLyBwcmVwIHRoZSBpbml0aWFsIHJvb3QgYm94XG5cdFx0Y29uc3QgbG9jYWxCb3ggPSBfYm94UG9vbC5nZXRQcmltaXRpdmUoKTtcblx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCAwICksIF9idWZmZXJTdGFjazEuZmxvYXQzMkFycmF5LCBsb2NhbEJveCApO1xuXHRcdGxvY2FsQm94LmFwcGx5TWF0cml4NCggaW52TWF0ICk7XG5cblx0XHQvLyBpdGVyYXRlIG92ZXIgdGhlIHNlY29uZCBzZXQgb2Ygcm9vdHNcblx0XHRmb3IgKCBsZXQgaiA9IDAsIGpsID0gb3RoZXJSb290cy5sZW5ndGg7IGogPCBqbDsgaiArKyApIHtcblxuXHRcdFx0X2J1ZmZlclN0YWNrMi5zZXRCdWZmZXIoIG90aGVyUm9vdHNbIGkgXSApO1xuXG5cdFx0XHRyZXN1bHQgPSBfdHJhdmVyc2UoXG5cdFx0XHRcdDAsIDAsIG1hdHJpeFRvTG9jYWwsIGludk1hdCwgaW50ZXJzZWN0c1Jhbmdlcyxcblx0XHRcdFx0b2Zmc2V0MSwgb2Zmc2V0MiwgMCwgMCxcblx0XHRcdFx0bG9jYWxCb3gsXG5cdFx0XHQpO1xuXG5cdFx0XHRfYnVmZmVyU3RhY2syLmNsZWFyQnVmZmVyKCk7XG5cdFx0XHRvZmZzZXQyICs9IG90aGVyUm9vdHNbIGogXS5sZW5ndGg7XG5cblx0XHRcdGlmICggcmVzdWx0ICkge1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyByZWxlYXNlIHN0YWNrIGluZm9cblx0XHRfYm94UG9vbC5yZWxlYXNlUHJpbWl0aXZlKCBsb2NhbEJveCApO1xuXHRcdF9idWZmZXJTdGFjazEuY2xlYXJCdWZmZXIoKTtcblx0XHRvZmZzZXQxICs9IHJvb3RzWyBpIF0ubGVuZ3RoO1xuXG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cblx0XHRcdGJyZWFrO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRfYWN0aXZlID0gZmFsc2U7XG5cdHJldHVybiByZXN1bHQ7XG5cbn1cblxuZnVuY3Rpb24gX3RyYXZlcnNlKFxuXHRub2RlMUluZGV4MzIsXG5cdG5vZGUySW5kZXgzMixcblx0bWF0cml4MnRvMSxcblx0bWF0cml4MXRvMixcblx0aW50ZXJzZWN0c1Jhbmdlc0Z1bmMsXG5cblx0Ly8gb2Zmc2V0cyBmb3IgaWRzXG5cdG5vZGUxSW5kZXhCeXRlT2Zmc2V0ID0gMCxcblx0bm9kZTJJbmRleEJ5dGVPZmZzZXQgPSAwLFxuXG5cdC8vIHRyZWUgZGVwdGhcblx0ZGVwdGgxID0gMCxcblx0ZGVwdGgyID0gMCxcblxuXHRjdXJyQm94ID0gbnVsbCxcblx0cmV2ZXJzZWQgPSBmYWxzZSxcblxuKSB7XG5cblx0Ly8gZ2V0IHRoZSBidWZmZXIgc3RhY2tzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBpbmRpY2VzXG5cdGxldCBidWZmZXJTdGFjazEsIGJ1ZmZlclN0YWNrMjtcblx0aWYgKCByZXZlcnNlZCApIHtcblxuXHRcdGJ1ZmZlclN0YWNrMSA9IF9idWZmZXJTdGFjazI7XG5cdFx0YnVmZmVyU3RhY2syID0gX2J1ZmZlclN0YWNrMTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0YnVmZmVyU3RhY2sxID0gX2J1ZmZlclN0YWNrMTtcblx0XHRidWZmZXJTdGFjazIgPSBfYnVmZmVyU3RhY2syO1xuXG5cdH1cblxuXHQvLyBnZXQgdGhlIGxvY2FsIGluc3RhbmNlcyBvZiB0aGUgdHlwZWQgYnVmZmVyc1xuXHRjb25zdFxuXHRcdGZsb2F0MzJBcnJheTEgPSBidWZmZXJTdGFjazEuZmxvYXQzMkFycmF5LFxuXHRcdHVpbnQzMkFycmF5MSA9IGJ1ZmZlclN0YWNrMS51aW50MzJBcnJheSxcblx0XHR1aW50MTZBcnJheTEgPSBidWZmZXJTdGFjazEudWludDE2QXJyYXksXG5cdFx0ZmxvYXQzMkFycmF5MiA9IGJ1ZmZlclN0YWNrMi5mbG9hdDMyQXJyYXksXG5cdFx0dWludDMyQXJyYXkyID0gYnVmZmVyU3RhY2syLnVpbnQzMkFycmF5LFxuXHRcdHVpbnQxNkFycmF5MiA9IGJ1ZmZlclN0YWNrMi51aW50MTZBcnJheTtcblxuXHRjb25zdCBub2RlMUluZGV4MTYgPSBub2RlMUluZGV4MzIgKiAyO1xuXHRjb25zdCBub2RlMkluZGV4MTYgPSBub2RlMkluZGV4MzIgKiAyO1xuXHRjb25zdCBpc0xlYWYxID0gSVNfTEVBRiggbm9kZTFJbmRleDE2LCB1aW50MTZBcnJheTEgKTtcblx0Y29uc3QgaXNMZWFmMiA9IElTX0xFQUYoIG5vZGUySW5kZXgxNiwgdWludDE2QXJyYXkyICk7XG5cdGxldCByZXN1bHQgPSBmYWxzZTtcblx0aWYgKCBpc0xlYWYyICYmIGlzTGVhZjEgKSB7XG5cblx0XHQvLyBpZiBib3RoIGJvdW5kcyBhcmUgbGVhZiBub2RlcyB0aGVuIGZpcmUgdGhlIGNhbGxiYWNrIGlmIHRoZSBib3hlcyBpbnRlcnNlY3Rcblx0XHRpZiAoIHJldmVyc2VkICkge1xuXG5cdFx0XHRyZXN1bHQgPSBpbnRlcnNlY3RzUmFuZ2VzRnVuYyhcblx0XHRcdFx0T0ZGU0VUKCBub2RlMkluZGV4MzIsIHVpbnQzMkFycmF5MiApLCBDT1VOVCggbm9kZTJJbmRleDMyICogMiwgdWludDE2QXJyYXkyICksXG5cdFx0XHRcdE9GRlNFVCggbm9kZTFJbmRleDMyLCB1aW50MzJBcnJheTEgKSwgQ09VTlQoIG5vZGUxSW5kZXgzMiAqIDIsIHVpbnQxNkFycmF5MSApLFxuXHRcdFx0XHRkZXB0aDIsIG5vZGUySW5kZXhCeXRlT2Zmc2V0ICsgbm9kZTJJbmRleDMyLFxuXHRcdFx0XHRkZXB0aDEsIG5vZGUxSW5kZXhCeXRlT2Zmc2V0ICsgbm9kZTFJbmRleDMyLFxuXHRcdFx0KTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJlc3VsdCA9IGludGVyc2VjdHNSYW5nZXNGdW5jKFxuXHRcdFx0XHRPRkZTRVQoIG5vZGUxSW5kZXgzMiwgdWludDMyQXJyYXkxICksIENPVU5UKCBub2RlMUluZGV4MzIgKiAyLCB1aW50MTZBcnJheTEgKSxcblx0XHRcdFx0T0ZGU0VUKCBub2RlMkluZGV4MzIsIHVpbnQzMkFycmF5MiApLCBDT1VOVCggbm9kZTJJbmRleDMyICogMiwgdWludDE2QXJyYXkyICksXG5cdFx0XHRcdGRlcHRoMSwgbm9kZTFJbmRleEJ5dGVPZmZzZXQgKyBub2RlMUluZGV4MzIsXG5cdFx0XHRcdGRlcHRoMiwgbm9kZTJJbmRleEJ5dGVPZmZzZXQgKyBub2RlMkluZGV4MzIsXG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdH0gZWxzZSBpZiAoIGlzTGVhZjIgKSB7XG5cblx0XHQvLyBTV0FQXG5cdFx0Ly8gSWYgd2UndmUgdHJhdmVyc2VkIHRvIHRoZSBsZWFmIG5vZGUgb24gdGhlIG90aGVyIGJ2aCB0aGVuIHdlIG5lZWQgdG8gc3dhcCBvdmVyXG5cdFx0Ly8gdG8gdHJhdmVyc2UgZG93biB0aGUgZmlyc3Qgb25lXG5cblx0XHQvLyBnZXQgdGhlIG5ldyBib3ggdG8gdXNlXG5cdFx0Y29uc3QgbmV3Qm94ID0gX2JveFBvb2wuZ2V0UHJpbWl0aXZlKCk7XG5cdFx0YXJyYXlUb0JveCggQk9VTkRJTkdfREFUQV9JTkRFWCggbm9kZTJJbmRleDMyICksIGZsb2F0MzJBcnJheTIsIG5ld0JveCApO1xuXHRcdG5ld0JveC5hcHBseU1hdHJpeDQoIG1hdHJpeDJ0bzEgKTtcblxuXHRcdC8vIGdldCB0aGUgY2hpbGQgYm91bmRzIHRvIGNoZWNrIGJlZm9yZSB0cmF2ZXJzYWxcblx0XHRjb25zdCBjbDEgPSBMRUZUX05PREUoIG5vZGUxSW5kZXgzMiApO1xuXHRcdGNvbnN0IGNyMSA9IFJJR0hUX05PREUoIG5vZGUxSW5kZXgzMiwgdWludDMyQXJyYXkxICk7XG5cdFx0YXJyYXlUb0JveCggQk9VTkRJTkdfREFUQV9JTkRFWCggY2wxICksIGZsb2F0MzJBcnJheTEsIF9sZWZ0Qm94MSApO1xuXHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGNyMSApLCBmbG9hdDMyQXJyYXkxLCBfcmlnaHRCb3gxICk7XG5cblx0XHQvLyBwcmVjb21wdXRlIHRoZSBpbnRlcnNlY3Rpb25zIG90aGVyd2lzZSB0aGUgZ2xvYmFsIGJveGVzIHdpbGwgYmUgbW9kaWZpZWQgZHVyaW5nIHRyYXZlcnNhbFxuXHRcdGNvbnN0IGludGVyc2VjdENsMSA9IG5ld0JveC5pbnRlcnNlY3RzQm94KCBfbGVmdEJveDEgKTtcblx0XHRjb25zdCBpbnRlcnNlY3RDcjEgPSBuZXdCb3guaW50ZXJzZWN0c0JveCggX3JpZ2h0Qm94MSApO1xuXHRcdHJlc3VsdCA9IChcblx0XHRcdGludGVyc2VjdENsMSAmJiBfdHJhdmVyc2UoXG5cdFx0XHRcdG5vZGUySW5kZXgzMiwgY2wxLCBtYXRyaXgxdG8yLCBtYXRyaXgydG8xLCBpbnRlcnNlY3RzUmFuZ2VzRnVuYyxcblx0XHRcdFx0bm9kZTJJbmRleEJ5dGVPZmZzZXQsIG5vZGUxSW5kZXhCeXRlT2Zmc2V0LCBkZXB0aDIsIGRlcHRoMSArIDEsXG5cdFx0XHRcdG5ld0JveCwgISByZXZlcnNlZCxcblx0XHRcdClcblx0XHQpIHx8IChcblx0XHRcdGludGVyc2VjdENyMSAmJiBfdHJhdmVyc2UoXG5cdFx0XHRcdG5vZGUySW5kZXgzMiwgY3IxLCBtYXRyaXgxdG8yLCBtYXRyaXgydG8xLCBpbnRlcnNlY3RzUmFuZ2VzRnVuYyxcblx0XHRcdFx0bm9kZTJJbmRleEJ5dGVPZmZzZXQsIG5vZGUxSW5kZXhCeXRlT2Zmc2V0LCBkZXB0aDIsIGRlcHRoMSArIDEsXG5cdFx0XHRcdG5ld0JveCwgISByZXZlcnNlZCxcblx0XHRcdClcblx0XHQpO1xuXG5cdFx0X2JveFBvb2wucmVsZWFzZVByaW1pdGl2ZSggbmV3Qm94ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIGlmIG5laXRoZXIgYXJlIGxlYXZlcyB0aGVuIHdlIHNob3VsZCBzd2FwIGlmIG9uZSBvZiB0aGUgY2hpbGRyZW4gZG9lcyBub3Rcblx0XHQvLyBpbnRlcnNlY3Qgd2l0aCB0aGUgY3VycmVudCBib3VuZHNcblxuXHRcdC8vIGdldCB0aGUgY2hpbGQgYm91bmRzIHRvIGNoZWNrXG5cdFx0Y29uc3QgY2wyID0gTEVGVF9OT0RFKCBub2RlMkluZGV4MzIgKTtcblx0XHRjb25zdCBjcjIgPSBSSUdIVF9OT0RFKCBub2RlMkluZGV4MzIsIHVpbnQzMkFycmF5MiApO1xuXHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGNsMiApLCBmbG9hdDMyQXJyYXkyLCBfbGVmdEJveDIgKTtcblx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBjcjIgKSwgZmxvYXQzMkFycmF5MiwgX3JpZ2h0Qm94MiApO1xuXG5cdFx0Y29uc3QgbGVmdEludGVyc2VjdHMgPSBjdXJyQm94LmludGVyc2VjdHNCb3goIF9sZWZ0Qm94MiApO1xuXHRcdGNvbnN0IHJpZ2h0SW50ZXJzZWN0cyA9IGN1cnJCb3guaW50ZXJzZWN0c0JveCggX3JpZ2h0Qm94MiApO1xuXHRcdGlmICggbGVmdEludGVyc2VjdHMgJiYgcmlnaHRJbnRlcnNlY3RzICkge1xuXG5cdFx0XHQvLyBjb250aW51ZSB0byB0cmF2ZXJzZSBib3RoIGNoaWxkcmVuIGlmIHRoZXkgYm90aCBpbnRlcnNlY3Rcblx0XHRcdHJlc3VsdCA9IF90cmF2ZXJzZShcblx0XHRcdFx0bm9kZTFJbmRleDMyLCBjbDIsIG1hdHJpeDJ0bzEsIG1hdHJpeDF0bzIsIGludGVyc2VjdHNSYW5nZXNGdW5jLFxuXHRcdFx0XHRub2RlMUluZGV4Qnl0ZU9mZnNldCwgbm9kZTJJbmRleEJ5dGVPZmZzZXQsIGRlcHRoMSwgZGVwdGgyICsgMSxcblx0XHRcdFx0Y3VyckJveCwgcmV2ZXJzZWQsXG5cdFx0XHQpIHx8IF90cmF2ZXJzZShcblx0XHRcdFx0bm9kZTFJbmRleDMyLCBjcjIsIG1hdHJpeDJ0bzEsIG1hdHJpeDF0bzIsIGludGVyc2VjdHNSYW5nZXNGdW5jLFxuXHRcdFx0XHRub2RlMUluZGV4Qnl0ZU9mZnNldCwgbm9kZTJJbmRleEJ5dGVPZmZzZXQsIGRlcHRoMSwgZGVwdGgyICsgMSxcblx0XHRcdFx0Y3VyckJveCwgcmV2ZXJzZWQsXG5cdFx0XHQpO1xuXG5cdFx0fSBlbHNlIGlmICggbGVmdEludGVyc2VjdHMgKSB7XG5cblx0XHRcdGlmICggaXNMZWFmMSApIHtcblxuXHRcdFx0XHQvLyBpZiB0aGUgY3VycmVudCBib3ggaXMgYSBsZWFmIHRoZW4ganVzdCBjb250aW51ZVxuXHRcdFx0XHRyZXN1bHQgPSBfdHJhdmVyc2UoXG5cdFx0XHRcdFx0bm9kZTFJbmRleDMyLCBjbDIsIG1hdHJpeDJ0bzEsIG1hdHJpeDF0bzIsIGludGVyc2VjdHNSYW5nZXNGdW5jLFxuXHRcdFx0XHRcdG5vZGUxSW5kZXhCeXRlT2Zmc2V0LCBub2RlMkluZGV4Qnl0ZU9mZnNldCwgZGVwdGgxLCBkZXB0aDIgKyAxLFxuXHRcdFx0XHRcdGN1cnJCb3gsIHJldmVyc2VkLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFNXQVBcblx0XHRcdFx0Ly8gaWYgb25seSBvbmUgYm94IGludGVyc2VjdHMgdGhlbiB3ZSBoYXZlIHRvIHN3YXAgdG8gdGhlIG90aGVyIGJ2aCB0byBjb250aW51ZVxuXHRcdFx0XHRjb25zdCBuZXdCb3ggPSBfYm94UG9vbC5nZXRQcmltaXRpdmUoKTtcblx0XHRcdFx0bmV3Qm94LmNvcHkoIF9sZWZ0Qm94MiApLmFwcGx5TWF0cml4NCggbWF0cml4MnRvMSApO1xuXG5cdFx0XHRcdGNvbnN0IGNsMSA9IExFRlRfTk9ERSggbm9kZTFJbmRleDMyICk7XG5cdFx0XHRcdGNvbnN0IGNyMSA9IFJJR0hUX05PREUoIG5vZGUxSW5kZXgzMiwgdWludDMyQXJyYXkxICk7XG5cdFx0XHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGNsMSApLCBmbG9hdDMyQXJyYXkxLCBfbGVmdEJveDEgKTtcblx0XHRcdFx0YXJyYXlUb0JveCggQk9VTkRJTkdfREFUQV9JTkRFWCggY3IxICksIGZsb2F0MzJBcnJheTEsIF9yaWdodEJveDEgKTtcblxuXHRcdFx0XHQvLyBwcmVjb21wdXRlIHRoZSBpbnRlcnNlY3Rpb25zIG90aGVyd2lzZSB0aGUgZ2xvYmFsIGJveGVzIHdpbGwgYmUgbW9kaWZpZWQgZHVyaW5nIHRyYXZlcnNhbFxuXHRcdFx0XHRjb25zdCBpbnRlcnNlY3RDbDEgPSBuZXdCb3guaW50ZXJzZWN0c0JveCggX2xlZnRCb3gxICk7XG5cdFx0XHRcdGNvbnN0IGludGVyc2VjdENyMSA9IG5ld0JveC5pbnRlcnNlY3RzQm94KCBfcmlnaHRCb3gxICk7XG5cdFx0XHRcdHJlc3VsdCA9IChcblx0XHRcdFx0XHRpbnRlcnNlY3RDbDEgJiYgX3RyYXZlcnNlKFxuXHRcdFx0XHRcdFx0Y2wyLCBjbDEsIG1hdHJpeDF0bzIsIG1hdHJpeDJ0bzEsIGludGVyc2VjdHNSYW5nZXNGdW5jLFxuXHRcdFx0XHRcdFx0bm9kZTJJbmRleEJ5dGVPZmZzZXQsIG5vZGUxSW5kZXhCeXRlT2Zmc2V0LCBkZXB0aDIsIGRlcHRoMSArIDEsXG5cdFx0XHRcdFx0XHRuZXdCb3gsICEgcmV2ZXJzZWQsXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIHx8IChcblx0XHRcdFx0XHRpbnRlcnNlY3RDcjEgJiYgX3RyYXZlcnNlKFxuXHRcdFx0XHRcdFx0Y2wyLCBjcjEsIG1hdHJpeDF0bzIsIG1hdHJpeDJ0bzEsIGludGVyc2VjdHNSYW5nZXNGdW5jLFxuXHRcdFx0XHRcdFx0bm9kZTJJbmRleEJ5dGVPZmZzZXQsIG5vZGUxSW5kZXhCeXRlT2Zmc2V0LCBkZXB0aDIsIGRlcHRoMSArIDEsXG5cdFx0XHRcdFx0XHRuZXdCb3gsICEgcmV2ZXJzZWQsXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdF9ib3hQb29sLnJlbGVhc2VQcmltaXRpdmUoIG5ld0JveCApO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2UgaWYgKCByaWdodEludGVyc2VjdHMgKSB7XG5cblx0XHRcdGlmICggaXNMZWFmMSApIHtcblxuXHRcdFx0XHQvLyBpZiB0aGUgY3VycmVudCBib3ggaXMgYSBsZWFmIHRoZW4ganVzdCBjb250aW51ZVxuXHRcdFx0XHRyZXN1bHQgPSBfdHJhdmVyc2UoXG5cdFx0XHRcdFx0bm9kZTFJbmRleDMyLCBjcjIsIG1hdHJpeDJ0bzEsIG1hdHJpeDF0bzIsIGludGVyc2VjdHNSYW5nZXNGdW5jLFxuXHRcdFx0XHRcdG5vZGUxSW5kZXhCeXRlT2Zmc2V0LCBub2RlMkluZGV4Qnl0ZU9mZnNldCwgZGVwdGgxLCBkZXB0aDIgKyAxLFxuXHRcdFx0XHRcdGN1cnJCb3gsIHJldmVyc2VkLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFNXQVBcblx0XHRcdFx0Ly8gaWYgb25seSBvbmUgYm94IGludGVyc2VjdHMgdGhlbiB3ZSBoYXZlIHRvIHN3YXAgdG8gdGhlIG90aGVyIGJ2aCB0byBjb250aW51ZVxuXHRcdFx0XHRjb25zdCBuZXdCb3ggPSBfYm94UG9vbC5nZXRQcmltaXRpdmUoKTtcblx0XHRcdFx0bmV3Qm94LmNvcHkoIF9yaWdodEJveDIgKS5hcHBseU1hdHJpeDQoIG1hdHJpeDJ0bzEgKTtcblxuXHRcdFx0XHRjb25zdCBjbDEgPSBMRUZUX05PREUoIG5vZGUxSW5kZXgzMiApO1xuXHRcdFx0XHRjb25zdCBjcjEgPSBSSUdIVF9OT0RFKCBub2RlMUluZGV4MzIsIHVpbnQzMkFycmF5MSApO1xuXHRcdFx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBjbDEgKSwgZmxvYXQzMkFycmF5MSwgX2xlZnRCb3gxICk7XG5cdFx0XHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGNyMSApLCBmbG9hdDMyQXJyYXkxLCBfcmlnaHRCb3gxICk7XG5cblx0XHRcdFx0Ly8gcHJlY29tcHV0ZSB0aGUgaW50ZXJzZWN0aW9ucyBvdGhlcndpc2UgdGhlIGdsb2JhbCBib3hlcyB3aWxsIGJlIG1vZGlmaWVkIGR1cmluZyB0cmF2ZXJzYWxcblx0XHRcdFx0Y29uc3QgaW50ZXJzZWN0Q2wxID0gbmV3Qm94LmludGVyc2VjdHNCb3goIF9sZWZ0Qm94MSApO1xuXHRcdFx0XHRjb25zdCBpbnRlcnNlY3RDcjEgPSBuZXdCb3guaW50ZXJzZWN0c0JveCggX3JpZ2h0Qm94MSApO1xuXHRcdFx0XHRyZXN1bHQgPSAoXG5cdFx0XHRcdFx0aW50ZXJzZWN0Q2wxICYmIF90cmF2ZXJzZShcblx0XHRcdFx0XHRcdGNyMiwgY2wxLCBtYXRyaXgxdG8yLCBtYXRyaXgydG8xLCBpbnRlcnNlY3RzUmFuZ2VzRnVuYyxcblx0XHRcdFx0XHRcdG5vZGUySW5kZXhCeXRlT2Zmc2V0LCBub2RlMUluZGV4Qnl0ZU9mZnNldCwgZGVwdGgyLCBkZXB0aDEgKyAxLFxuXHRcdFx0XHRcdFx0bmV3Qm94LCAhIHJldmVyc2VkLFxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSB8fCAoXG5cdFx0XHRcdFx0aW50ZXJzZWN0Q3IxICYmIF90cmF2ZXJzZShcblx0XHRcdFx0XHRcdGNyMiwgY3IxLCBtYXRyaXgxdG8yLCBtYXRyaXgydG8xLCBpbnRlcnNlY3RzUmFuZ2VzRnVuYyxcblx0XHRcdFx0XHRcdG5vZGUySW5kZXhCeXRlT2Zmc2V0LCBub2RlMUluZGV4Qnl0ZU9mZnNldCwgZGVwdGgyLCBkZXB0aDEgKyAxLFxuXHRcdFx0XHRcdFx0bmV3Qm94LCAhIHJldmVyc2VkLFxuXHRcdFx0XHRcdClcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRfYm94UG9vbC5yZWxlYXNlUHJpbWl0aXZlKCBuZXdCb3ggKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xuXG59XG5cbiJdLCJuYW1lcyI6WyJCb3gzIiwiTWF0cml4NCIsIkJ1ZmZlclN0YWNrIiwiQk9VTkRJTkdfREFUQV9JTkRFWCIsIkNPVU5UIiwiSVNfTEVBRiIsIkxFRlRfTk9ERSIsIk9GRlNFVCIsIlJJR0hUX05PREUiLCJhcnJheVRvQm94IiwiUHJpbWl0aXZlUG9vbCIsIl9idWZmZXJTdGFjazEiLCJjb25zdHJ1Y3RvciIsIl9idWZmZXJTdGFjazIiLCJfYm94UG9vbCIsIl9sZWZ0Qm94MSIsIl9yaWdodEJveDEiLCJfbGVmdEJveDIiLCJfcmlnaHRCb3gyIiwiX2FjdGl2ZSIsImJ2aGNhc3QiLCJidmgiLCJvdGhlckJ2aCIsIm1hdHJpeFRvTG9jYWwiLCJpbnRlcnNlY3RzUmFuZ2VzIiwiRXJyb3IiLCJyb290cyIsIl9yb290cyIsIm90aGVyUm9vdHMiLCJyZXN1bHQiLCJvZmZzZXQxIiwib2Zmc2V0MiIsImludk1hdCIsImNvcHkiLCJpbnZlcnQiLCJpIiwiaWwiLCJsZW5ndGgiLCJzZXRCdWZmZXIiLCJsb2NhbEJveCIsImdldFByaW1pdGl2ZSIsImZsb2F0MzJBcnJheSIsImFwcGx5TWF0cml4NCIsImoiLCJqbCIsIl90cmF2ZXJzZSIsImNsZWFyQnVmZmVyIiwicmVsZWFzZVByaW1pdGl2ZSIsIm5vZGUxSW5kZXgzMiIsIm5vZGUySW5kZXgzMiIsIm1hdHJpeDJ0bzEiLCJtYXRyaXgxdG8yIiwiaW50ZXJzZWN0c1Jhbmdlc0Z1bmMiLCJub2RlMUluZGV4Qnl0ZU9mZnNldCIsIm5vZGUySW5kZXhCeXRlT2Zmc2V0IiwiZGVwdGgxIiwiZGVwdGgyIiwiY3VyckJveCIsInJldmVyc2VkIiwiYnVmZmVyU3RhY2sxIiwiYnVmZmVyU3RhY2syIiwiZmxvYXQzMkFycmF5MSIsInVpbnQzMkFycmF5MSIsInVpbnQzMkFycmF5IiwidWludDE2QXJyYXkxIiwidWludDE2QXJyYXkiLCJmbG9hdDMyQXJyYXkyIiwidWludDMyQXJyYXkyIiwidWludDE2QXJyYXkyIiwibm9kZTFJbmRleDE2Iiwibm9kZTJJbmRleDE2IiwiaXNMZWFmMSIsImlzTGVhZjIiLCJuZXdCb3giLCJjbDEiLCJjcjEiLCJpbnRlcnNlY3RDbDEiLCJpbnRlcnNlY3RzQm94IiwiaW50ZXJzZWN0Q3IxIiwiY2wyIiwiY3IyIiwibGVmdEludGVyc2VjdHMiLCJyaWdodEludGVyc2VjdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/bvhcast.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry.generated.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry.generated.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closestPointToGeometry: () => (/* binding */ closestPointToGeometry)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../math/OrientedBox.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/OrientedBox.js\");\n/* harmony import */ var _utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/TriangleUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\");\n/* harmony import */ var _build_geometryUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../build/geometryUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/geometryUtils.js\");\n/* harmony import */ var _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/ExtendedTrianglePool.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtendedTrianglePool.js\");\n\n\n\n\n\n/*********************************************************************/ /* This file is generated from \"closestPointToGeometry.template.js\". */ /*********************************************************************/ const tempMatrix = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\nconst obb = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_1__.OrientedBox();\nconst obb2 = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_1__.OrientedBox();\nconst temp1 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst temp2 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst temp3 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst temp4 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction closestPointToGeometry(bvh, otherGeometry, geometryToBvh, target1 = {}, target2 = {}, minThreshold = 0, maxThreshold = Infinity) {\n    if (!otherGeometry.boundingBox) {\n        otherGeometry.computeBoundingBox();\n    }\n    obb.set(otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh);\n    obb.needsUpdate = true;\n    const geometry = bvh.geometry;\n    const pos = geometry.attributes.position;\n    const index = geometry.index;\n    const otherPos = otherGeometry.attributes.position;\n    const otherIndex = otherGeometry.index;\n    const triangle = _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.getPrimitive();\n    const triangle2 = _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.getPrimitive();\n    let tempTarget1 = temp1;\n    let tempTargetDest1 = temp2;\n    let tempTarget2 = null;\n    let tempTargetDest2 = null;\n    if (target2) {\n        tempTarget2 = temp3;\n        tempTargetDest2 = temp4;\n    }\n    let closestDistance = Infinity;\n    let closestDistanceTriIndex = null;\n    let closestDistanceOtherTriIndex = null;\n    tempMatrix.copy(geometryToBvh).invert();\n    obb2.matrix.copy(tempMatrix);\n    bvh.shapecast({\n        boundsTraverseOrder: (box)=>{\n            return obb.distanceToBox(box);\n        },\n        intersectsBounds: (box, isLeaf, score)=>{\n            if (score < closestDistance && score < maxThreshold) {\n                // if we know the triangles of this bounds will be intersected next then\n                // save the bounds to use during triangle checks.\n                if (isLeaf) {\n                    obb2.min.copy(box.min);\n                    obb2.max.copy(box.max);\n                    obb2.needsUpdate = true;\n                }\n                return true;\n            }\n            return false;\n        },\n        intersectsRange: (offset, count)=>{\n            if (otherGeometry.boundsTree) {\n                // if the other geometry has a bvh then use the accelerated path where we use shapecast to find\n                // the closest bounds in the other geometry to check.\n                const otherBvh = otherGeometry.boundsTree;\n                return otherBvh.shapecast({\n                    boundsTraverseOrder: (box)=>{\n                        return obb2.distanceToBox(box);\n                    },\n                    intersectsBounds: (box, isLeaf, score)=>{\n                        return score < closestDistance && score < maxThreshold;\n                    },\n                    intersectsRange: (otherOffset, otherCount)=>{\n                        for(let i2 = otherOffset, l2 = otherOffset + otherCount; i2 < l2; i2++){\n                            (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle2, 3 * i2, otherIndex, otherPos);\n                            triangle2.a.applyMatrix4(geometryToBvh);\n                            triangle2.b.applyMatrix4(geometryToBvh);\n                            triangle2.c.applyMatrix4(geometryToBvh);\n                            triangle2.needsUpdate = true;\n                            for(let i = offset, l = offset + count; i < l; i++){\n                                (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle, 3 * i, index, pos);\n                                triangle.needsUpdate = true;\n                                const dist = triangle.distanceToTriangle(triangle2, tempTarget1, tempTarget2);\n                                if (dist < closestDistance) {\n                                    tempTargetDest1.copy(tempTarget1);\n                                    if (tempTargetDest2) {\n                                        tempTargetDest2.copy(tempTarget2);\n                                    }\n                                    closestDistance = dist;\n                                    closestDistanceTriIndex = i;\n                                    closestDistanceOtherTriIndex = i2;\n                                }\n                                // stop traversal if we find a point that's under the given threshold\n                                if (dist < minThreshold) {\n                                    return true;\n                                }\n                            }\n                        }\n                    }\n                });\n            } else {\n                // If no bounds tree then we'll just check every triangle.\n                const triCount = (0,_build_geometryUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTriCount)(otherGeometry);\n                for(let i2 = 0, l2 = triCount; i2 < l2; i2++){\n                    (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle2, 3 * i2, otherIndex, otherPos);\n                    triangle2.a.applyMatrix4(geometryToBvh);\n                    triangle2.b.applyMatrix4(geometryToBvh);\n                    triangle2.c.applyMatrix4(geometryToBvh);\n                    triangle2.needsUpdate = true;\n                    for(let i = offset, l = offset + count; i < l; i++){\n                        (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle, 3 * i, index, pos);\n                        triangle.needsUpdate = true;\n                        const dist = triangle.distanceToTriangle(triangle2, tempTarget1, tempTarget2);\n                        if (dist < closestDistance) {\n                            tempTargetDest1.copy(tempTarget1);\n                            if (tempTargetDest2) {\n                                tempTargetDest2.copy(tempTarget2);\n                            }\n                            closestDistance = dist;\n                            closestDistanceTriIndex = i;\n                            closestDistanceOtherTriIndex = i2;\n                        }\n                        // stop traversal if we find a point that's under the given threshold\n                        if (dist < minThreshold) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n    });\n    _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.releasePrimitive(triangle);\n    _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.releasePrimitive(triangle2);\n    if (closestDistance === Infinity) {\n        return null;\n    }\n    if (!target1.point) {\n        target1.point = tempTargetDest1.clone();\n    } else {\n        target1.point.copy(tempTargetDest1);\n    }\n    target1.distance = closestDistance, target1.faceIndex = closestDistanceTriIndex;\n    if (target2) {\n        if (!target2.point) target2.point = tempTargetDest2.clone();\n        else target2.point.copy(tempTargetDest2);\n        target2.point.applyMatrix4(tempMatrix);\n        tempTargetDest1.applyMatrix4(tempMatrix);\n        target2.distance = tempTargetDest1.sub(target2.point).length();\n        target2.faceIndex = closestDistanceOtherTriIndex;\n    }\n    return target1;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9jbG9zZXN0UG9pbnRUb0dlb21ldHJ5LmdlbmVyYXRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUM7QUFDZTtBQUNPO0FBQ1A7QUFDbUI7QUFFM0UscUVBQXFFLEdBQ3JFLHFFQUFxRSxHQUNyRSxxRUFBcUUsR0FFckUsTUFBTU0sYUFBYSxhQUFhLEdBQUcsSUFBSU4sMENBQU9BO0FBQzlDLE1BQU1PLE1BQU0sYUFBYSxHQUFHLElBQUlMLDZEQUFXQTtBQUMzQyxNQUFNTSxPQUFPLGFBQWEsR0FBRyxJQUFJTiw2REFBV0E7QUFDNUMsTUFBTU8sUUFBUSxhQUFhLEdBQUcsSUFBSVIsMENBQU9BO0FBQ3pDLE1BQU1TLFFBQVEsYUFBYSxHQUFHLElBQUlULDBDQUFPQTtBQUN6QyxNQUFNVSxRQUFRLGFBQWEsR0FBRyxJQUFJViwwQ0FBT0E7QUFDekMsTUFBTVcsUUFBUSxhQUFhLEdBQUcsSUFBSVgsMENBQU9BO0FBRXpDLFNBQVNZLHVCQUNSQyxHQUFHLEVBQ0hDLGFBQWEsRUFDYkMsYUFBYSxFQUNiQyxVQUFVLENBQUUsQ0FBQyxFQUNiQyxVQUFVLENBQUUsQ0FBQyxFQUNiQyxlQUFlLENBQUMsRUFDaEJDLGVBQWVDLFFBQVE7SUFHdkIsSUFBSyxDQUFFTixjQUFjTyxXQUFXLEVBQUc7UUFFbENQLGNBQWNRLGtCQUFrQjtJQUVqQztJQUVBaEIsSUFBSWlCLEdBQUcsQ0FBRVQsY0FBY08sV0FBVyxDQUFDRyxHQUFHLEVBQUVWLGNBQWNPLFdBQVcsQ0FBQ0ksR0FBRyxFQUFFVjtJQUN2RVQsSUFBSW9CLFdBQVcsR0FBRztJQUVsQixNQUFNQyxXQUFXZCxJQUFJYyxRQUFRO0lBQzdCLE1BQU1DLE1BQU1ELFNBQVNFLFVBQVUsQ0FBQ0MsUUFBUTtJQUN4QyxNQUFNQyxRQUFRSixTQUFTSSxLQUFLO0lBQzVCLE1BQU1DLFdBQVdsQixjQUFjZSxVQUFVLENBQUNDLFFBQVE7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RCxLQUFLLENBQUM3QixJQUFJLENBQUVOO0lBRXJCO0lBRUF0QixRQUFRMkQsUUFBUSxHQUFHbEMsaUJBQ25CekIsUUFBUTRELFNBQVMsR0FBR2xDO0lBRXBCLElBQUt6QixTQUFVO1FBRWQsSUFBSyxDQUFFQSxRQUFRd0QsS0FBSyxFQUFHeEQsUUFBUXdELEtBQUssR0FBR2pDLGdCQUFnQmtDLEtBQUs7YUFDdkR6RCxRQUFRd0QsS0FBSyxDQUFDN0IsSUFBSSxDQUFFSjtRQUN6QnZCLFFBQVF3RCxLQUFLLENBQUNULFlBQVksQ0FBRTNEO1FBQzVCaUMsZ0JBQWdCMEIsWUFBWSxDQUFFM0Q7UUFDOUJZLFFBQVEwRCxRQUFRLEdBQUdyQyxnQkFBZ0J1QyxHQUFHLENBQUU1RCxRQUFRd0QsS0FBSyxFQUFHSyxNQUFNO1FBQzlEN0QsUUFBUTJELFNBQVMsR0FBR2pDO0lBRXJCO0lBRUEsT0FBTzNCO0FBRVI7QUFFa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9jbG9zZXN0UG9pbnRUb0dlb21ldHJ5LmdlbmVyYXRlZC5qcz82MzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hdHJpeDQsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPcmllbnRlZEJveCB9IGZyb20gJy4uLy4uL21hdGgvT3JpZW50ZWRCb3guanMnO1xuaW1wb3J0IHsgc2V0VHJpYW5nbGUgfSBmcm9tICcuLi8uLi91dGlscy9UcmlhbmdsZVV0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBnZXRUcmlDb3VudCB9IGZyb20gJy4uL2J1aWxkL2dlb21ldHJ5VXRpbHMuanMnO1xuaW1wb3J0IHsgRXh0ZW5kZWRUcmlhbmdsZVBvb2wgfSBmcm9tICcuLi8uLi91dGlscy9FeHRlbmRlZFRyaWFuZ2xlUG9vbC5qcyc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGZyb20gXCJjbG9zZXN0UG9pbnRUb0dlb21ldHJ5LnRlbXBsYXRlLmpzXCIuICovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5jb25zdCB0ZW1wTWF0cml4ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXRyaXg0KCk7XG5jb25zdCBvYmIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE9yaWVudGVkQm94KCk7XG5jb25zdCBvYmIyID0gLyogQF9fUFVSRV9fICovIG5ldyBPcmllbnRlZEJveCgpO1xuY29uc3QgdGVtcDEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IHRlbXAyID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCB0ZW1wMyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgdGVtcDQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcblxuZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9HZW9tZXRyeShcblx0YnZoLFxuXHRvdGhlckdlb21ldHJ5LFxuXHRnZW9tZXRyeVRvQnZoLFxuXHR0YXJnZXQxID0geyB9LFxuXHR0YXJnZXQyID0geyB9LFxuXHRtaW5UaHJlc2hvbGQgPSAwLFxuXHRtYXhUaHJlc2hvbGQgPSBJbmZpbml0eSxcbikge1xuXG5cdGlmICggISBvdGhlckdlb21ldHJ5LmJvdW5kaW5nQm94ICkge1xuXG5cdFx0b3RoZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcblxuXHR9XG5cblx0b2JiLnNldCggb3RoZXJHZW9tZXRyeS5ib3VuZGluZ0JveC5taW4sIG90aGVyR2VvbWV0cnkuYm91bmRpbmdCb3gubWF4LCBnZW9tZXRyeVRvQnZoICk7XG5cdG9iYi5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0Y29uc3QgZ2VvbWV0cnkgPSBidmguZ2VvbWV0cnk7XG5cdGNvbnN0IHBvcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cdGNvbnN0IGluZGV4ID0gZ2VvbWV0cnkuaW5kZXg7XG5cdGNvbnN0IG90aGVyUG9zID0gb3RoZXJHZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXHRjb25zdCBvdGhlckluZGV4ID0gb3RoZXJHZW9tZXRyeS5pbmRleDtcblx0Y29uc3QgdHJpYW5nbGUgPSBFeHRlbmRlZFRyaWFuZ2xlUG9vbC5nZXRQcmltaXRpdmUoKTtcblx0Y29uc3QgdHJpYW5nbGUyID0gRXh0ZW5kZWRUcmlhbmdsZVBvb2wuZ2V0UHJpbWl0aXZlKCk7XG5cblx0bGV0IHRlbXBUYXJnZXQxID0gdGVtcDE7XG5cdGxldCB0ZW1wVGFyZ2V0RGVzdDEgPSB0ZW1wMjtcblx0bGV0IHRlbXBUYXJnZXQyID0gbnVsbDtcblx0bGV0IHRlbXBUYXJnZXREZXN0MiA9IG51bGw7XG5cblx0aWYgKCB0YXJnZXQyICkge1xuXG5cdFx0dGVtcFRhcmdldDIgPSB0ZW1wMztcblx0XHR0ZW1wVGFyZ2V0RGVzdDIgPSB0ZW1wNDtcblxuXHR9XG5cblx0bGV0IGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuXHRsZXQgY2xvc2VzdERpc3RhbmNlVHJpSW5kZXggPSBudWxsO1xuXHRsZXQgY2xvc2VzdERpc3RhbmNlT3RoZXJUcmlJbmRleCA9IG51bGw7XG5cdHRlbXBNYXRyaXguY29weSggZ2VvbWV0cnlUb0J2aCApLmludmVydCgpO1xuXHRvYmIyLm1hdHJpeC5jb3B5KCB0ZW1wTWF0cml4ICk7XG5cdGJ2aC5zaGFwZWNhc3QoXG5cdFx0e1xuXG5cdFx0XHRib3VuZHNUcmF2ZXJzZU9yZGVyOiBib3ggPT4ge1xuXG5cdFx0XHRcdHJldHVybiBvYmIuZGlzdGFuY2VUb0JveCggYm94ICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdGludGVyc2VjdHNCb3VuZHM6ICggYm94LCBpc0xlYWYsIHNjb3JlICkgPT4ge1xuXG5cdFx0XHRcdGlmICggc2NvcmUgPCBjbG9zZXN0RGlzdGFuY2UgJiYgc2NvcmUgPCBtYXhUaHJlc2hvbGQgKSB7XG5cblx0XHRcdFx0XHQvLyBpZiB3ZSBrbm93IHRoZSB0cmlhbmdsZXMgb2YgdGhpcyBib3VuZHMgd2lsbCBiZSBpbnRlcnNlY3RlZCBuZXh0IHRoZW5cblx0XHRcdFx0XHQvLyBzYXZlIHRoZSBib3VuZHMgdG8gdXNlIGR1cmluZyB0cmlhbmdsZSBjaGVja3MuXG5cdFx0XHRcdFx0aWYgKCBpc0xlYWYgKSB7XG5cblx0XHRcdFx0XHRcdG9iYjIubWluLmNvcHkoIGJveC5taW4gKTtcblx0XHRcdFx0XHRcdG9iYjIubWF4LmNvcHkoIGJveC5tYXggKTtcblx0XHRcdFx0XHRcdG9iYjIubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdFx0fSxcblxuXHRcdFx0aW50ZXJzZWN0c1JhbmdlOiAoIG9mZnNldCwgY291bnQgKSA9PiB7XG5cblx0XHRcdFx0aWYgKCBvdGhlckdlb21ldHJ5LmJvdW5kc1RyZWUgKSB7XG5cblx0XHRcdFx0XHQvLyBpZiB0aGUgb3RoZXIgZ2VvbWV0cnkgaGFzIGEgYnZoIHRoZW4gdXNlIHRoZSBhY2NlbGVyYXRlZCBwYXRoIHdoZXJlIHdlIHVzZSBzaGFwZWNhc3QgdG8gZmluZFxuXHRcdFx0XHRcdC8vIHRoZSBjbG9zZXN0IGJvdW5kcyBpbiB0aGUgb3RoZXIgZ2VvbWV0cnkgdG8gY2hlY2suXG5cdFx0XHRcdFx0Y29uc3Qgb3RoZXJCdmggPSBvdGhlckdlb21ldHJ5LmJvdW5kc1RyZWU7XG5cdFx0XHRcdFx0cmV0dXJuIG90aGVyQnZoLnNoYXBlY2FzdCgge1xuXHRcdFx0XHRcdFx0Ym91bmRzVHJhdmVyc2VPcmRlcjogYm94ID0+IHtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gb2JiMi5kaXN0YW5jZVRvQm94KCBib3ggKTtcblxuXHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0aW50ZXJzZWN0c0JvdW5kczogKCBib3gsIGlzTGVhZiwgc2NvcmUgKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNjb3JlIDwgY2xvc2VzdERpc3RhbmNlICYmIHNjb3JlIDwgbWF4VGhyZXNob2xkO1xuXG5cdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRpbnRlcnNlY3RzUmFuZ2U6ICggb3RoZXJPZmZzZXQsIG90aGVyQ291bnQgKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0Zm9yICggbGV0IGkyID0gb3RoZXJPZmZzZXQsIGwyID0gb3RoZXJPZmZzZXQgKyBvdGhlckNvdW50OyBpMiA8IGwyOyBpMiArKyApIHtcblxuXG5cdFx0XHRcdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlMiwgMyAqIGkyLCBvdGhlckluZGV4LCBvdGhlclBvcyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmIuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmMuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0XHRcdGZvciAoIGxldCBpID0gb2Zmc2V0LCBsID0gb2Zmc2V0ICsgY291bnQ7IGkgPCBsOyBpICsrICkge1xuXG5cblx0XHRcdFx0XHRcdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZSwgMyAqIGksIGluZGV4LCBwb3MgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBkaXN0ID0gdHJpYW5nbGUuZGlzdGFuY2VUb1RyaWFuZ2xlKCB0cmlhbmdsZTIsIHRlbXBUYXJnZXQxLCB0ZW1wVGFyZ2V0MiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRlbXBUYXJnZXREZXN0MS5jb3B5KCB0ZW1wVGFyZ2V0MSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdGVtcFRhcmdldERlc3QyICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcFRhcmdldERlc3QyLmNvcHkoIHRlbXBUYXJnZXQyICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZSA9IGRpc3Q7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4ID0gaTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlT3RoZXJUcmlJbmRleCA9IGkyO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIHN0b3AgdHJhdmVyc2FsIGlmIHdlIGZpbmQgYSBwb2ludCB0aGF0J3MgdW5kZXIgdGhlIGdpdmVuIHRocmVzaG9sZFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgbWluVGhyZXNob2xkICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gSWYgbm8gYm91bmRzIHRyZWUgdGhlbiB3ZSdsbCBqdXN0IGNoZWNrIGV2ZXJ5IHRyaWFuZ2xlLlxuXHRcdFx0XHRcdGNvbnN0IHRyaUNvdW50ID0gZ2V0VHJpQ291bnQoIG90aGVyR2VvbWV0cnkgKTtcblx0XHRcdFx0XHRmb3IgKCBsZXQgaTIgPSAwLCBsMiA9IHRyaUNvdW50OyBpMiA8IGwyOyBpMiArKyApIHtcblxuXHRcdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlMiwgMyAqIGkyLCBvdGhlckluZGV4LCBvdGhlclBvcyApO1xuXHRcdFx0XHRcdFx0dHJpYW5nbGUyLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHR0cmlhbmdsZTIuYi5hcHBseU1hdHJpeDQoIGdlb21ldHJ5VG9CdmggKTtcblx0XHRcdFx0XHRcdHRyaWFuZ2xlMi5jLmFwcGx5TWF0cml4NCggZ2VvbWV0cnlUb0J2aCApO1xuXHRcdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0Zm9yICggbGV0IGkgPSBvZmZzZXQsIGwgPSBvZmZzZXQgKyBjb3VudDsgaSA8IGw7IGkgKysgKSB7XG5cblxuXHRcdFx0XHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUsIDMgKiBpLCBpbmRleCwgcG9zICk7XG5cblx0XHRcdFx0XHRcdFx0dHJpYW5nbGUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGRpc3QgPSB0cmlhbmdsZS5kaXN0YW5jZVRvVHJpYW5nbGUoIHRyaWFuZ2xlMiwgdGVtcFRhcmdldDEsIHRlbXBUYXJnZXQyICk7XG5cdFx0XHRcdFx0XHRcdGlmICggZGlzdCA8IGNsb3Nlc3REaXN0YW5jZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdHRlbXBUYXJnZXREZXN0MS5jb3B5KCB0ZW1wVGFyZ2V0MSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0ZW1wVGFyZ2V0RGVzdDIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHRlbXBUYXJnZXREZXN0Mi5jb3B5KCB0ZW1wVGFyZ2V0MiApO1xuXG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlID0gZGlzdDtcblx0XHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VUcmlJbmRleCA9IGk7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlT3RoZXJUcmlJbmRleCA9IGkyO1xuXG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyBzdG9wIHRyYXZlcnNhbCBpZiB3ZSBmaW5kIGEgcG9pbnQgdGhhdCdzIHVuZGVyIHRoZSBnaXZlbiB0aHJlc2hvbGRcblx0XHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgbWluVGhyZXNob2xkICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9LFxuXG5cdFx0fVxuXG5cdCk7XG5cblx0RXh0ZW5kZWRUcmlhbmdsZVBvb2wucmVsZWFzZVByaW1pdGl2ZSggdHJpYW5nbGUgKTtcblx0RXh0ZW5kZWRUcmlhbmdsZVBvb2wucmVsZWFzZVByaW1pdGl2ZSggdHJpYW5nbGUyICk7XG5cblx0aWYgKCBjbG9zZXN0RGlzdGFuY2UgPT09IEluZmluaXR5ICkge1xuXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0fVxuXG5cdGlmICggISB0YXJnZXQxLnBvaW50ICkge1xuXG5cdFx0dGFyZ2V0MS5wb2ludCA9IHRlbXBUYXJnZXREZXN0MS5jbG9uZSgpO1xuXG5cdH0gZWxzZSB7XG5cblx0XHR0YXJnZXQxLnBvaW50LmNvcHkoIHRlbXBUYXJnZXREZXN0MSApO1xuXG5cdH1cblxuXHR0YXJnZXQxLmRpc3RhbmNlID0gY2xvc2VzdERpc3RhbmNlLFxuXHR0YXJnZXQxLmZhY2VJbmRleCA9IGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4O1xuXG5cdGlmICggdGFyZ2V0MiApIHtcblxuXHRcdGlmICggISB0YXJnZXQyLnBvaW50ICkgdGFyZ2V0Mi5wb2ludCA9IHRlbXBUYXJnZXREZXN0Mi5jbG9uZSgpO1xuXHRcdGVsc2UgdGFyZ2V0Mi5wb2ludC5jb3B5KCB0ZW1wVGFyZ2V0RGVzdDIgKTtcblx0XHR0YXJnZXQyLnBvaW50LmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeCApO1xuXHRcdHRlbXBUYXJnZXREZXN0MS5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXggKTtcblx0XHR0YXJnZXQyLmRpc3RhbmNlID0gdGVtcFRhcmdldERlc3QxLnN1YiggdGFyZ2V0Mi5wb2ludCApLmxlbmd0aCgpO1xuXHRcdHRhcmdldDIuZmFjZUluZGV4ID0gY2xvc2VzdERpc3RhbmNlT3RoZXJUcmlJbmRleDtcblxuXHR9XG5cblx0cmV0dXJuIHRhcmdldDE7XG5cbn1cblxuZXhwb3J0IHsgY2xvc2VzdFBvaW50VG9HZW9tZXRyeSB9O1xuIl0sIm5hbWVzIjpbIk1hdHJpeDQiLCJWZWN0b3IzIiwiT3JpZW50ZWRCb3giLCJzZXRUcmlhbmdsZSIsImdldFRyaUNvdW50IiwiRXh0ZW5kZWRUcmlhbmdsZVBvb2wiLCJ0ZW1wTWF0cml4Iiwib2JiIiwib2JiMiIsInRlbXAxIiwidGVtcDIiLCJ0ZW1wMyIsInRlbXA0IiwiY2xvc2VzdFBvaW50VG9HZW9tZXRyeSIsImJ2aCIsIm90aGVyR2VvbWV0cnkiLCJnZW9tZXRyeVRvQnZoIiwidGFyZ2V0MSIsInRhcmdldDIiLCJtaW5UaHJlc2hvbGQiLCJtYXhUaHJlc2hvbGQiLCJJbmZpbml0eSIsImJvdW5kaW5nQm94IiwiY29tcHV0ZUJvdW5kaW5nQm94Iiwic2V0IiwibWluIiwibWF4IiwibmVlZHNVcGRhdGUiLCJnZW9tZXRyeSIsInBvcyIsImF0dHJpYnV0ZXMiLCJwb3NpdGlvbiIsImluZGV4Iiwib3RoZXJQb3MiLCJvdGhlckluZGV4IiwidHJpYW5nbGUiLCJnZXRQcmltaXRpdmUiLCJ0cmlhbmdsZTIiLCJ0ZW1wVGFyZ2V0MSIsInRlbXBUYXJnZXREZXN0MSIsInRlbXBUYXJnZXQyIiwidGVtcFRhcmdldERlc3QyIiwiY2xvc2VzdERpc3RhbmNlIiwiY2xvc2VzdERpc3RhbmNlVHJpSW5kZXgiLCJjbG9zZXN0RGlzdGFuY2VPdGhlclRyaUluZGV4IiwiY29weSIsImludmVydCIsIm1hdHJpeCIsInNoYXBlY2FzdCIsImJvdW5kc1RyYXZlcnNlT3JkZXIiLCJib3giLCJkaXN0YW5jZVRvQm94IiwiaW50ZXJzZWN0c0JvdW5kcyIsImlzTGVhZiIsInNjb3JlIiwiaW50ZXJzZWN0c1JhbmdlIiwib2Zmc2V0IiwiY291bnQiLCJib3VuZHNUcmVlIiwib3RoZXJCdmgiLCJvdGhlck9mZnNldCIsIm90aGVyQ291bnQiLCJpMiIsImwyIiwiYSIsImFwcGx5TWF0cml4NCIsImIiLCJjIiwiaSIsImwiLCJkaXN0IiwiZGlzdGFuY2VUb1RyaWFuZ2xlIiwidHJpQ291bnQiLCJyZWxlYXNlUHJpbWl0aXZlIiwicG9pbnQiLCJjbG9uZSIsImRpc3RhbmNlIiwiZmFjZUluZGV4Iiwic3ViIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry_indirect.generated.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry_indirect.generated.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closestPointToGeometry_indirect: () => (/* binding */ closestPointToGeometry_indirect)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../math/OrientedBox.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/OrientedBox.js\");\n/* harmony import */ var _utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/TriangleUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\");\n/* harmony import */ var _build_geometryUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../build/geometryUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/build/geometryUtils.js\");\n/* harmony import */ var _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/ExtendedTrianglePool.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtendedTrianglePool.js\");\n\n\n\n\n\n/*********************************************************************/ /* This file is generated from \"closestPointToGeometry.template.js\". */ /*********************************************************************/ const tempMatrix = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\nconst obb = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_1__.OrientedBox();\nconst obb2 = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_1__.OrientedBox();\nconst temp1 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst temp2 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst temp3 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst temp4 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction closestPointToGeometry_indirect(bvh, otherGeometry, geometryToBvh, target1 = {}, target2 = {}, minThreshold = 0, maxThreshold = Infinity) {\n    if (!otherGeometry.boundingBox) {\n        otherGeometry.computeBoundingBox();\n    }\n    obb.set(otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh);\n    obb.needsUpdate = true;\n    const geometry = bvh.geometry;\n    const pos = geometry.attributes.position;\n    const index = geometry.index;\n    const otherPos = otherGeometry.attributes.position;\n    const otherIndex = otherGeometry.index;\n    const triangle = _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.getPrimitive();\n    const triangle2 = _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.getPrimitive();\n    let tempTarget1 = temp1;\n    let tempTargetDest1 = temp2;\n    let tempTarget2 = null;\n    let tempTargetDest2 = null;\n    if (target2) {\n        tempTarget2 = temp3;\n        tempTargetDest2 = temp4;\n    }\n    let closestDistance = Infinity;\n    let closestDistanceTriIndex = null;\n    let closestDistanceOtherTriIndex = null;\n    tempMatrix.copy(geometryToBvh).invert();\n    obb2.matrix.copy(tempMatrix);\n    bvh.shapecast({\n        boundsTraverseOrder: (box)=>{\n            return obb.distanceToBox(box);\n        },\n        intersectsBounds: (box, isLeaf, score)=>{\n            if (score < closestDistance && score < maxThreshold) {\n                // if we know the triangles of this bounds will be intersected next then\n                // save the bounds to use during triangle checks.\n                if (isLeaf) {\n                    obb2.min.copy(box.min);\n                    obb2.max.copy(box.max);\n                    obb2.needsUpdate = true;\n                }\n                return true;\n            }\n            return false;\n        },\n        intersectsRange: (offset, count)=>{\n            if (otherGeometry.boundsTree) {\n                // if the other geometry has a bvh then use the accelerated path where we use shapecast to find\n                // the closest bounds in the other geometry to check.\n                const otherBvh = otherGeometry.boundsTree;\n                return otherBvh.shapecast({\n                    boundsTraverseOrder: (box)=>{\n                        return obb2.distanceToBox(box);\n                    },\n                    intersectsBounds: (box, isLeaf, score)=>{\n                        return score < closestDistance && score < maxThreshold;\n                    },\n                    intersectsRange: (otherOffset, otherCount)=>{\n                        for(let i2 = otherOffset, l2 = otherOffset + otherCount; i2 < l2; i2++){\n                            const ti2 = otherBvh.resolveTriangleIndex(i2);\n                            (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle2, 3 * ti2, otherIndex, otherPos);\n                            triangle2.a.applyMatrix4(geometryToBvh);\n                            triangle2.b.applyMatrix4(geometryToBvh);\n                            triangle2.c.applyMatrix4(geometryToBvh);\n                            triangle2.needsUpdate = true;\n                            for(let i = offset, l = offset + count; i < l; i++){\n                                const ti = bvh.resolveTriangleIndex(i);\n                                (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle, 3 * ti, index, pos);\n                                triangle.needsUpdate = true;\n                                const dist = triangle.distanceToTriangle(triangle2, tempTarget1, tempTarget2);\n                                if (dist < closestDistance) {\n                                    tempTargetDest1.copy(tempTarget1);\n                                    if (tempTargetDest2) {\n                                        tempTargetDest2.copy(tempTarget2);\n                                    }\n                                    closestDistance = dist;\n                                    closestDistanceTriIndex = i;\n                                    closestDistanceOtherTriIndex = i2;\n                                }\n                                // stop traversal if we find a point that's under the given threshold\n                                if (dist < minThreshold) {\n                                    return true;\n                                }\n                            }\n                        }\n                    }\n                });\n            } else {\n                // If no bounds tree then we'll just check every triangle.\n                const triCount = (0,_build_geometryUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTriCount)(otherGeometry);\n                for(let i2 = 0, l2 = triCount; i2 < l2; i2++){\n                    (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle2, 3 * i2, otherIndex, otherPos);\n                    triangle2.a.applyMatrix4(geometryToBvh);\n                    triangle2.b.applyMatrix4(geometryToBvh);\n                    triangle2.c.applyMatrix4(geometryToBvh);\n                    triangle2.needsUpdate = true;\n                    for(let i = offset, l = offset + count; i < l; i++){\n                        const ti = bvh.resolveTriangleIndex(i);\n                        (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_3__.setTriangle)(triangle, 3 * ti, index, pos);\n                        triangle.needsUpdate = true;\n                        const dist = triangle.distanceToTriangle(triangle2, tempTarget1, tempTarget2);\n                        if (dist < closestDistance) {\n                            tempTargetDest1.copy(tempTarget1);\n                            if (tempTargetDest2) {\n                                tempTargetDest2.copy(tempTarget2);\n                            }\n                            closestDistance = dist;\n                            closestDistanceTriIndex = i;\n                            closestDistanceOtherTriIndex = i2;\n                        }\n                        // stop traversal if we find a point that's under the given threshold\n                        if (dist < minThreshold) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n    });\n    _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.releasePrimitive(triangle);\n    _utils_ExtendedTrianglePool_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTrianglePool.releasePrimitive(triangle2);\n    if (closestDistance === Infinity) {\n        return null;\n    }\n    if (!target1.point) {\n        target1.point = tempTargetDest1.clone();\n    } else {\n        target1.point.copy(tempTargetDest1);\n    }\n    target1.distance = closestDistance, target1.faceIndex = closestDistanceTriIndex;\n    if (target2) {\n        if (!target2.point) target2.point = tempTargetDest2.clone();\n        else target2.point.copy(tempTargetDest2);\n        target2.point.applyMatrix4(tempMatrix);\n        tempTargetDest1.applyMatrix4(tempMatrix);\n        target2.distance = tempTargetDest1.sub(target2.point).length();\n        target2.faceIndex = closestDistanceOtherTriIndex;\n    }\n    return target1;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9jbG9zZXN0UG9pbnRUb0dlb21ldHJ5X2luZGlyZWN0LmdlbmVyYXRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUM7QUFDZTtBQUNPO0FBQ1A7QUFDbUI7QUFFM0UscUVBQXFFLEdBQ3JFLHFFQUFxRSxHQUNyRSxxRUFBcUUsR0FFckUsTUFBTU0sYUFBYSxhQUFhLEdBQUcsSUFBSU4sMENBQU9BO0FBQzlDLE1BQU1PLE1BQU0sYUFBYSxHQUFHLElBQUlMLDZEQUFXQTtBQUMzQyxNQUFNTSxPQUFPLGFBQWEsR0FBRyxJQUFJTiw2REFBV0E7QUFDNUMsTUFBTU8sUUFBUSxhQUFhLEdBQUcsSUFBSVIsMENBQU9BO0FBQ3pDLE1BQU1TLFFBQVEsYUFBYSxHQUFHLElBQUlULDBDQUFPQTtBQUN6QyxNQUFNVSxRQUFRLGFBQWEsR0FBRyxJQUFJViwwQ0FBT0E7QUFDekMsTUFBTVcsUUFBUSxhQUFhLEdBQUcsSUFBSVgsMENBQU9BO0FBRXpDLFNBQVNZLGdDQUNSQyxHQUFHLEVBQ0hDLGFBQWEsRUFDYkMsYUFBYSxFQUNiQyxVQUFVLENBQUUsQ0FBQyxFQUNiQyxVQUFVLENBQUUsQ0FBQyxFQUNiQyxlQUFlLENBQUMsRUFDaEJDLGVBQWVDLFFBQVE7SUFHdkIsSUFBSyxDQUFFTixjQUFjTyxXQUFXLEVBQUc7UUFFbENQLGNBQWNRLGtCQUFrQjtJQUVqQztJQUVBaEIsSUFBSWlCLEdBQUcsQ0FBRVQsY0FBY08sV0FBVyxDQUFDRyxHQUFHLEVBQUVWLGNBQWNPLFdBQVcsQ0FBQ0ksR0FBRyxFQUFFVjtJQUN2RVQsSUFBSW9CLFdBQVcsR0FBRztJQUVsQixNQUFNQyxXQUFXZCxJQUFJYyxRQUFRO0lBQzdCLE1BQU1DLE1BQU1ELFNBQVNFLFVBQVUsQ0FBQ0MsUUFBUTtJQUN4QyxNQUFNQyxRQUFRSixTQUFTSSxLQUFLO0lBQzVCLE1BQU1DLFdBQVdsQixjQUFjZSxVQUFVLENB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b0JBQW9CckIsVUFBVztRQUVuQyxPQUFPO0lBRVI7SUFFQSxJQUFLLENBQUVKLFFBQVE0RCxLQUFLLEVBQUc7UUFFdEI1RCxRQUFRNEQsS0FBSyxHQUFHdEMsZ0JBQWdCdUMsS0FBSztJQUV0QyxPQUFPO1FBRU43RCxRQUFRNEQsS0FBSyxDQUFDaEMsSUFBSSxDQUFFTjtJQUVyQjtJQUVBdEIsUUFBUThELFFBQVEsR0FBR3JDLGlCQUNuQnpCLFFBQVErRCxTQUFTLEdBQUdyQztJQUVwQixJQUFLekIsU0FBVTtRQUVkLElBQUssQ0FBRUEsUUFBUTJELEtBQUssRUFBRzNELFFBQVEyRCxLQUFLLEdBQUdwQyxnQkFBZ0JxQyxLQUFLO2FBQ3ZENUQsUUFBUTJELEtBQUssQ0FBQ2hDLElBQUksQ0FBRUo7UUFDekJ2QixRQUFRMkQsS0FBSyxDQUFDVixZQUFZLENBQUU3RDtRQUM1QmlDLGdCQUFnQjRCLFlBQVksQ0FBRTdEO1FBQzlCWSxRQUFRNkQsUUFBUSxHQUFHeEMsZ0JBQWdCMEMsR0FBRyxDQUFFL0QsUUFBUTJELEtBQUssRUFBR0ssTUFBTTtRQUM5RGhFLFFBQVE4RCxTQUFTLEdBQUdwQztJQUVyQjtJQUVBLE9BQU8zQjtBQUVSO0FBRTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2Nhc3QvY2xvc2VzdFBvaW50VG9HZW9tZXRyeV9pbmRpcmVjdC5nZW5lcmF0ZWQuanM/OTdjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXRyaXg0LCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JpZW50ZWRCb3ggfSBmcm9tICcuLi8uLi9tYXRoL09yaWVudGVkQm94LmpzJztcbmltcG9ydCB7IHNldFRyaWFuZ2xlIH0gZnJvbSAnLi4vLi4vdXRpbHMvVHJpYW5nbGVVdGlsaXRpZXMuanMnO1xuaW1wb3J0IHsgZ2V0VHJpQ291bnQgfSBmcm9tICcuLi9idWlsZC9nZW9tZXRyeVV0aWxzLmpzJztcbmltcG9ydCB7IEV4dGVuZGVkVHJpYW5nbGVQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvRXh0ZW5kZWRUcmlhbmdsZVBvb2wuanMnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIFwiY2xvc2VzdFBvaW50VG9HZW9tZXRyeS50ZW1wbGF0ZS5qc1wiLiAqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3QgdGVtcE1hdHJpeCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWF0cml4NCgpO1xuY29uc3Qgb2JiID0gLyogQF9fUFVSRV9fICovIG5ldyBPcmllbnRlZEJveCgpO1xuY29uc3Qgb2JiMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgT3JpZW50ZWRCb3goKTtcbmNvbnN0IHRlbXAxID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCB0ZW1wMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgdGVtcDMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IHRlbXA0ID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5cbmZ1bmN0aW9uIGNsb3Nlc3RQb2ludFRvR2VvbWV0cnlfaW5kaXJlY3QoXG5cdGJ2aCxcblx0b3RoZXJHZW9tZXRyeSxcblx0Z2VvbWV0cnlUb0J2aCxcblx0dGFyZ2V0MSA9IHsgfSxcblx0dGFyZ2V0MiA9IHsgfSxcblx0bWluVGhyZXNob2xkID0gMCxcblx0bWF4VGhyZXNob2xkID0gSW5maW5pdHksXG4pIHtcblxuXHRpZiAoICEgb3RoZXJHZW9tZXRyeS5ib3VuZGluZ0JveCApIHtcblxuXHRcdG90aGVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7XG5cblx0fVxuXG5cdG9iYi5zZXQoIG90aGVyR2VvbWV0cnkuYm91bmRpbmdCb3gubWluLCBvdGhlckdlb21ldHJ5LmJvdW5kaW5nQm94Lm1heCwgZ2VvbWV0cnlUb0J2aCApO1xuXHRvYmIubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdGNvbnN0IGdlb21ldHJ5ID0gYnZoLmdlb21ldHJ5O1xuXHRjb25zdCBwb3MgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXHRjb25zdCBpbmRleCA9IGdlb21ldHJ5LmluZGV4O1xuXHRjb25zdCBvdGhlclBvcyA9IG90aGVyR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblx0Y29uc3Qgb3RoZXJJbmRleCA9IG90aGVyR2VvbWV0cnkuaW5kZXg7XG5cdGNvbnN0IHRyaWFuZ2xlID0gRXh0ZW5kZWRUcmlhbmdsZVBvb2wuZ2V0UHJpbWl0aXZlKCk7XG5cdGNvbnN0IHRyaWFuZ2xlMiA9IEV4dGVuZGVkVHJpYW5nbGVQb29sLmdldFByaW1pdGl2ZSgpO1xuXG5cdGxldCB0ZW1wVGFyZ2V0MSA9IHRlbXAxO1xuXHRsZXQgdGVtcFRhcmdldERlc3QxID0gdGVtcDI7XG5cdGxldCB0ZW1wVGFyZ2V0MiA9IG51bGw7XG5cdGxldCB0ZW1wVGFyZ2V0RGVzdDIgPSBudWxsO1xuXG5cdGlmICggdGFyZ2V0MiApIHtcblxuXHRcdHRlbXBUYXJnZXQyID0gdGVtcDM7XG5cdFx0dGVtcFRhcmdldERlc3QyID0gdGVtcDQ7XG5cblx0fVxuXG5cdGxldCBjbG9zZXN0RGlzdGFuY2UgPSBJbmZpbml0eTtcblx0bGV0IGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4ID0gbnVsbDtcblx0bGV0IGNsb3Nlc3REaXN0YW5jZU90aGVyVHJpSW5kZXggPSBudWxsO1xuXHR0ZW1wTWF0cml4LmNvcHkoIGdlb21ldHJ5VG9CdmggKS5pbnZlcnQoKTtcblx0b2JiMi5tYXRyaXguY29weSggdGVtcE1hdHJpeCApO1xuXHRidmguc2hhcGVjYXN0KFxuXHRcdHtcblxuXHRcdFx0Ym91bmRzVHJhdmVyc2VPcmRlcjogYm94ID0+IHtcblxuXHRcdFx0XHRyZXR1cm4gb2JiLmRpc3RhbmNlVG9Cb3goIGJveCApO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRpbnRlcnNlY3RzQm91bmRzOiAoIGJveCwgaXNMZWFmLCBzY29yZSApID0+IHtcblxuXHRcdFx0XHRpZiAoIHNjb3JlIDwgY2xvc2VzdERpc3RhbmNlICYmIHNjb3JlIDwgbWF4VGhyZXNob2xkICkge1xuXG5cdFx0XHRcdFx0Ly8gaWYgd2Uga25vdyB0aGUgdHJpYW5nbGVzIG9mIHRoaXMgYm91bmRzIHdpbGwgYmUgaW50ZXJzZWN0ZWQgbmV4dCB0aGVuXG5cdFx0XHRcdFx0Ly8gc2F2ZSB0aGUgYm91bmRzIHRvIHVzZSBkdXJpbmcgdHJpYW5nbGUgY2hlY2tzLlxuXHRcdFx0XHRcdGlmICggaXNMZWFmICkge1xuXG5cdFx0XHRcdFx0XHRvYmIyLm1pbi5jb3B5KCBib3gubWluICk7XG5cdFx0XHRcdFx0XHRvYmIyLm1heC5jb3B5KCBib3gubWF4ICk7XG5cdFx0XHRcdFx0XHRvYmIyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdH0sXG5cblx0XHRcdGludGVyc2VjdHNSYW5nZTogKCBvZmZzZXQsIGNvdW50ICkgPT4ge1xuXG5cdFx0XHRcdGlmICggb3RoZXJHZW9tZXRyeS5ib3VuZHNUcmVlICkge1xuXG5cdFx0XHRcdFx0Ly8gaWYgdGhlIG90aGVyIGdlb21ldHJ5IGhhcyBhIGJ2aCB0aGVuIHVzZSB0aGUgYWNjZWxlcmF0ZWQgcGF0aCB3aGVyZSB3ZSB1c2Ugc2hhcGVjYXN0IHRvIGZpbmRcblx0XHRcdFx0XHQvLyB0aGUgY2xvc2VzdCBib3VuZHMgaW4gdGhlIG90aGVyIGdlb21ldHJ5IHRvIGNoZWNrLlxuXHRcdFx0XHRcdGNvbnN0IG90aGVyQnZoID0gb3RoZXJHZW9tZXRyeS5ib3VuZHNUcmVlO1xuXHRcdFx0XHRcdHJldHVybiBvdGhlckJ2aC5zaGFwZWNhc3QoIHtcblx0XHRcdFx0XHRcdGJvdW5kc1RyYXZlcnNlT3JkZXI6IGJveCA9PiB7XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIG9iYjIuZGlzdGFuY2VUb0JveCggYm94ICk7XG5cblx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdGludGVyc2VjdHNCb3VuZHM6ICggYm94LCBpc0xlYWYsIHNjb3JlICkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiBzY29yZSA8IGNsb3Nlc3REaXN0YW5jZSAmJiBzY29yZSA8IG1heFRocmVzaG9sZDtcblxuXHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0aW50ZXJzZWN0c1JhbmdlOiAoIG90aGVyT2Zmc2V0LCBvdGhlckNvdW50ICkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdGZvciAoIGxldCBpMiA9IG90aGVyT2Zmc2V0LCBsMiA9IG90aGVyT2Zmc2V0ICsgb3RoZXJDb3VudDsgaTIgPCBsMjsgaTIgKysgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCB0aTIgPSBvdGhlckJ2aC5yZXNvbHZlVHJpYW5nbGVJbmRleCggaTIgKTtcblx0XHRcdFx0XHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUyLCAzICogdGkyLCBvdGhlckluZGV4LCBvdGhlclBvcyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmIuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmMuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0XHRcdGZvciAoIGxldCBpID0gb2Zmc2V0LCBsID0gb2Zmc2V0ICsgY291bnQ7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB0aSA9IGJ2aC5yZXNvbHZlVHJpYW5nbGVJbmRleCggaSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlLCAzICogdGksIGluZGV4LCBwb3MgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBkaXN0ID0gdHJpYW5nbGUuZGlzdGFuY2VUb1RyaWFuZ2xlKCB0cmlhbmdsZTIsIHRlbXBUYXJnZXQxLCB0ZW1wVGFyZ2V0MiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRlbXBUYXJnZXREZXN0MS5jb3B5KCB0ZW1wVGFyZ2V0MSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdGVtcFRhcmdldERlc3QyICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcFRhcmdldERlc3QyLmNvcHkoIHRlbXBUYXJnZXQyICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZSA9IGRpc3Q7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4ID0gaTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlT3RoZXJUcmlJbmRleCA9IGkyO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIHN0b3AgdHJhdmVyc2FsIGlmIHdlIGZpbmQgYSBwb2ludCB0aGF0J3MgdW5kZXIgdGhlIGdpdmVuIHRocmVzaG9sZFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgbWluVGhyZXNob2xkICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gSWYgbm8gYm91bmRzIHRyZWUgdGhlbiB3ZSdsbCBqdXN0IGNoZWNrIGV2ZXJ5IHRyaWFuZ2xlLlxuXHRcdFx0XHRcdGNvbnN0IHRyaUNvdW50ID0gZ2V0VHJpQ291bnQoIG90aGVyR2VvbWV0cnkgKTtcblx0XHRcdFx0XHRmb3IgKCBsZXQgaTIgPSAwLCBsMiA9IHRyaUNvdW50OyBpMiA8IGwyOyBpMiArKyApIHtcblxuXHRcdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlMiwgMyAqIGkyLCBvdGhlckluZGV4LCBvdGhlclBvcyApO1xuXHRcdFx0XHRcdFx0dHJpYW5nbGUyLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0XHR0cmlhbmdsZTIuYi5hcHBseU1hdHJpeDQoIGdlb21ldHJ5VG9CdmggKTtcblx0XHRcdFx0XHRcdHRyaWFuZ2xlMi5jLmFwcGx5TWF0cml4NCggZ2VvbWV0cnlUb0J2aCApO1xuXHRcdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0Zm9yICggbGV0IGkgPSBvZmZzZXQsIGwgPSBvZmZzZXQgKyBjb3VudDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgdGkgPSBidmgucmVzb2x2ZVRyaWFuZ2xlSW5kZXgoIGkgKTtcblx0XHRcdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlLCAzICogdGksIGluZGV4LCBwb3MgKTtcblxuXHRcdFx0XHRcdFx0XHR0cmlhbmdsZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgZGlzdCA9IHRyaWFuZ2xlLmRpc3RhbmNlVG9UcmlhbmdsZSggdHJpYW5nbGUyLCB0ZW1wVGFyZ2V0MSwgdGVtcFRhcmdldDIgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0dGVtcFRhcmdldERlc3QxLmNvcHkoIHRlbXBUYXJnZXQxICk7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIHRlbXBUYXJnZXREZXN0MiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0dGVtcFRhcmdldERlc3QyLmNvcHkoIHRlbXBUYXJnZXQyICk7XG5cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2UgPSBkaXN0O1xuXHRcdFx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4ID0gaTtcblx0XHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VPdGhlclRyaUluZGV4ID0gaTI7XG5cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHN0b3AgdHJhdmVyc2FsIGlmIHdlIGZpbmQgYSBwb2ludCB0aGF0J3MgdW5kZXIgdGhlIGdpdmVuIHRocmVzaG9sZFxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpc3QgPCBtaW5UaHJlc2hvbGQgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH0sXG5cblx0XHR9XG5cblx0KTtcblxuXHRFeHRlbmRlZFRyaWFuZ2xlUG9vbC5yZWxlYXNlUHJpbWl0aXZlKCB0cmlhbmdsZSApO1xuXHRFeHRlbmRlZFRyaWFuZ2xlUG9vbC5yZWxlYXNlUHJpbWl0aXZlKCB0cmlhbmdsZTIgKTtcblxuXHRpZiAoIGNsb3Nlc3REaXN0YW5jZSA9PT0gSW5maW5pdHkgKSB7XG5cblx0XHRyZXR1cm4gbnVsbDtcblxuXHR9XG5cblx0aWYgKCAhIHRhcmdldDEucG9pbnQgKSB7XG5cblx0XHR0YXJnZXQxLnBvaW50ID0gdGVtcFRhcmdldERlc3QxLmNsb25lKCk7XG5cblx0fSBlbHNlIHtcblxuXHRcdHRhcmdldDEucG9pbnQuY29weSggdGVtcFRhcmdldERlc3QxICk7XG5cblx0fVxuXG5cdHRhcmdldDEuZGlzdGFuY2UgPSBjbG9zZXN0RGlzdGFuY2UsXG5cdHRhcmdldDEuZmFjZUluZGV4ID0gY2xvc2VzdERpc3RhbmNlVHJpSW5kZXg7XG5cblx0aWYgKCB0YXJnZXQyICkge1xuXG5cdFx0aWYgKCAhIHRhcmdldDIucG9pbnQgKSB0YXJnZXQyLnBvaW50ID0gdGVtcFRhcmdldERlc3QyLmNsb25lKCk7XG5cdFx0ZWxzZSB0YXJnZXQyLnBvaW50LmNvcHkoIHRlbXBUYXJnZXREZXN0MiApO1xuXHRcdHRhcmdldDIucG9pbnQuYXBwbHlNYXRyaXg0KCB0ZW1wTWF0cml4ICk7XG5cdFx0dGVtcFRhcmdldERlc3QxLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeCApO1xuXHRcdHRhcmdldDIuZGlzdGFuY2UgPSB0ZW1wVGFyZ2V0RGVzdDEuc3ViKCB0YXJnZXQyLnBvaW50ICkubGVuZ3RoKCk7XG5cdFx0dGFyZ2V0Mi5mYWNlSW5kZXggPSBjbG9zZXN0RGlzdGFuY2VPdGhlclRyaUluZGV4O1xuXG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0MTtcblxufVxuXG5leHBvcnQgeyBjbG9zZXN0UG9pbnRUb0dlb21ldHJ5X2luZGlyZWN0IH07XG4iXSwibmFtZXMiOlsiTWF0cml4NCIsIlZlY3RvcjMiLCJPcmllbnRlZEJveCIsInNldFRyaWFuZ2xlIiwiZ2V0VHJpQ291bnQiLCJFeHRlbmRlZFRyaWFuZ2xlUG9vbCIsInRlbXBNYXRyaXgiLCJvYmIiLCJvYmIyIiwidGVtcDEiLCJ0ZW1wMiIsInRlbXAzIiwidGVtcDQiLCJjbG9zZXN0UG9pbnRUb0dlb21ldHJ5X2luZGlyZWN0IiwiYnZoIiwib3RoZXJHZW9tZXRyeSIsImdlb21ldHJ5VG9CdmgiLCJ0YXJnZXQxIiwidGFyZ2V0MiIsIm1pblRocmVzaG9sZCIsIm1heFRocmVzaG9sZCIsIkluZmluaXR5IiwiYm91bmRpbmdCb3giLCJjb21wdXRlQm91bmRpbmdCb3giLCJzZXQiLCJtaW4iLCJtYXgiLCJuZWVkc1VwZGF0ZSIsImdlb21ldHJ5IiwicG9zIiwiYXR0cmlidXRlcyIsInBvc2l0aW9uIiwiaW5kZXgiLCJvdGhlclBvcyIsIm90aGVySW5kZXgiLCJ0cmlhbmdsZSIsImdldFByaW1pdGl2ZSIsInRyaWFuZ2xlMiIsInRlbXBUYXJnZXQxIiwidGVtcFRhcmdldERlc3QxIiwidGVtcFRhcmdldDIiLCJ0ZW1wVGFyZ2V0RGVzdDIiLCJjbG9zZXN0RGlzdGFuY2UiLCJjbG9zZXN0RGlzdGFuY2VUcmlJbmRleCIsImNsb3Nlc3REaXN0YW5jZU90aGVyVHJpSW5kZXgiLCJjb3B5IiwiaW52ZXJ0IiwibWF0cml4Iiwic2hhcGVjYXN0IiwiYm91bmRzVHJhdmVyc2VPcmRlciIsImJveCIsImRpc3RhbmNlVG9Cb3giLCJpbnRlcnNlY3RzQm91bmRzIiwiaXNMZWFmIiwic2NvcmUiLCJpbnRlcnNlY3RzUmFuZ2UiLCJvZmZzZXQiLCJjb3VudCIsImJvdW5kc1RyZWUiLCJvdGhlckJ2aCIsIm90aGVyT2Zmc2V0Iiwib3RoZXJDb3VudCIsImkyIiwibDIiLCJ0aTIiLCJyZXNvbHZlVHJpYW5nbGVJbmRleCIsImEiLCJhcHBseU1hdHJpeDQiLCJiIiwiYyIsImkiLCJsIiwidGkiLCJkaXN0IiwiZGlzdGFuY2VUb1RyaWFuZ2xlIiwidHJpQ291bnQiLCJyZWxlYXNlUHJpbWl0aXZlIiwicG9pbnQiLCJjbG9uZSIsImRpc3RhbmNlIiwiZmFjZUluZGV4Iiwic3ViIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToGeometry_indirect.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToPoint.js":
/*!**************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/closestPointToPoint.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closestPointToPoint: () => (/* binding */ closestPointToPoint)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nconst temp = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst temp1 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction closestPointToPoint(bvh, point, target = {}, minThreshold = 0, maxThreshold = Infinity) {\n    // early out if under minThreshold\n    // skip checking if over maxThreshold\n    // set minThreshold = maxThreshold to quickly check if a point is within a threshold\n    // returns Infinity if no value found\n    const minThresholdSq = minThreshold * minThreshold;\n    const maxThresholdSq = maxThreshold * maxThreshold;\n    let closestDistanceSq = Infinity;\n    let closestDistanceTriIndex = null;\n    bvh.shapecast({\n        boundsTraverseOrder: (box)=>{\n            temp.copy(point).clamp(box.min, box.max);\n            return temp.distanceToSquared(point);\n        },\n        intersectsBounds: (box, isLeaf, score)=>{\n            return score < closestDistanceSq && score < maxThresholdSq;\n        },\n        intersectsTriangle: (tri, triIndex)=>{\n            tri.closestPointToPoint(point, temp);\n            const distSq = point.distanceToSquared(temp);\n            if (distSq < closestDistanceSq) {\n                temp1.copy(temp);\n                closestDistanceSq = distSq;\n                closestDistanceTriIndex = triIndex;\n            }\n            if (distSq < minThresholdSq) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    });\n    if (closestDistanceSq === Infinity) return null;\n    const closestDistance = Math.sqrt(closestDistanceSq);\n    if (!target.point) target.point = temp1.clone();\n    else target.point.copy(temp1);\n    target.distance = closestDistance, target.faceIndex = closestDistanceTriIndex;\n    return target;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9jbG9zZXN0UG9pbnRUb1BvaW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLE9BQU8sYUFBYSxHQUFHLElBQUlELDBDQUFPQTtBQUN4QyxNQUFNRSxRQUFRLGFBQWEsR0FBRyxJQUFJRiwwQ0FBT0E7QUFFbEMsU0FBU0csb0JBQ2ZDLEdBQUcsRUFDSEMsS0FBSyxFQUNMQyxTQUFTLENBQUUsQ0FBQyxFQUNaQyxlQUFlLENBQUMsRUFDaEJDLGVBQWVDLFFBQVE7SUFHdkIsa0NBQWtDO0lBQ2xDLHFDQUFxQztJQUNyQyxvRkFBb0Y7SUFDcEYscUNBQXFDO0lBQ3JDLE1BQU1DLGlCQUFpQkgsZUFBZUE7SUFDdEMsTUFBTUksaUJBQWlCSCxlQUFlQTtJQUN0QyxJQUFJSSxvQkFBb0JIO0lBQ3hCLElBQUlJLDBCQUEwQjtJQUM5QlQsSUFBSVUsU0FBUyxDQUVaO1FBRUNDLHFCQUFxQkMsQ0FBQUE7WUFFcEJmLEtBQUtnQixJQUFJLENBQUVaLE9BQVFhLEtBQUssQ0FBRUYsSUFBSUcsR0FBRyxFQUFFSCxJQUFJSSxHQUFHO1lBQzFDLE9BQU9uQixLQUFLb0IsaUJBQWlCLENBQUVoQjtRQUVoQztRQUVBaUIsa0JBQWtCLENBQUVOLEtBQUtPLFFBQVFDO1lBRWhDLE9BQU9BLFFBQVFaLHFCQUFxQlksUUFBUWI7UUFFN0M7UUFFQWMsb0JBQW9CLENBQUVDLEtBQUtDO1lBRTFCRCxJQUFJdkIsbUJBQW1CLENBQUVFLE9BQU9KO1lBQ2hDLE1BQU0yQixTQUFTdkIsTUFBTWdCLGlCQUFpQixDQUFFcEI7WUFDeEMsSUFBSzJCLFNBQVNoQixtQkFBb0I7Z0JBRWpDVixNQUFNZSxJQUFJLENBQUVoQjtnQkFDWlcsb0JBQW9CZ0I7Z0JBQ3BCZiwwQkFBMEJjO1lBRTNCO1lBRUEsSUFBS0MsU0FBU2xCLGdCQUFpQjtnQkFFOUIsT0FBTztZQUVSLE9BQU87Z0JBRU4sT0FBTztZQUVSO1FBRUQ7SUFFRDtJQUlELElBQUtFLHNCQUFzQkgsVUFBVyxPQUFPO0lBRTdDLE1BQU1vQixrQkFBa0JDLEtBQUtDLElBQUksQ0FBRW5CO0lBRW5DLElBQUssQ0FBRU4sT0FBT0QsS0FBSyxFQUFHQyxPQUFPRCxLQUFLLEdBQUdILE1BQU04QixLQUFLO1NBQzNDMUIsT0FBT0QsS0FBSyxDQUFDWSxJQUFJLENBQUVmO0lBQ3hCSSxPQUFPMkIsUUFBUSxHQUFHSixpQkFDbEJ2QixPQUFPNEIsU0FBUyxHQUFHckI7SUFFbkIsT0FBT1A7QUFFUiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9jYXN0L2Nsb3Nlc3RQb2ludFRvUG9pbnQuanM/ZWE4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAndGhyZWUnO1xuXG5jb25zdCB0ZW1wID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCB0ZW1wMSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9Qb2ludChcblx0YnZoLFxuXHRwb2ludCxcblx0dGFyZ2V0ID0geyB9LFxuXHRtaW5UaHJlc2hvbGQgPSAwLFxuXHRtYXhUaHJlc2hvbGQgPSBJbmZpbml0eSxcbikge1xuXG5cdC8vIGVhcmx5IG91dCBpZiB1bmRlciBtaW5UaHJlc2hvbGRcblx0Ly8gc2tpcCBjaGVja2luZyBpZiBvdmVyIG1heFRocmVzaG9sZFxuXHQvLyBzZXQgbWluVGhyZXNob2xkID0gbWF4VGhyZXNob2xkIHRvIHF1aWNrbHkgY2hlY2sgaWYgYSBwb2ludCBpcyB3aXRoaW4gYSB0aHJlc2hvbGRcblx0Ly8gcmV0dXJucyBJbmZpbml0eSBpZiBubyB2YWx1ZSBmb3VuZFxuXHRjb25zdCBtaW5UaHJlc2hvbGRTcSA9IG1pblRocmVzaG9sZCAqIG1pblRocmVzaG9sZDtcblx0Y29uc3QgbWF4VGhyZXNob2xkU3EgPSBtYXhUaHJlc2hvbGQgKiBtYXhUaHJlc2hvbGQ7XG5cdGxldCBjbG9zZXN0RGlzdGFuY2VTcSA9IEluZmluaXR5O1xuXHRsZXQgY2xvc2VzdERpc3RhbmNlVHJpSW5kZXggPSBudWxsO1xuXHRidmguc2hhcGVjYXN0KFxuXG5cdFx0e1xuXG5cdFx0XHRib3VuZHNUcmF2ZXJzZU9yZGVyOiBib3ggPT4ge1xuXG5cdFx0XHRcdHRlbXAuY29weSggcG9pbnQgKS5jbGFtcCggYm94Lm1pbiwgYm94Lm1heCApO1xuXHRcdFx0XHRyZXR1cm4gdGVtcC5kaXN0YW5jZVRvU3F1YXJlZCggcG9pbnQgKTtcblxuXHRcdFx0fSxcblxuXHRcdFx0aW50ZXJzZWN0c0JvdW5kczogKCBib3gsIGlzTGVhZiwgc2NvcmUgKSA9PiB7XG5cblx0XHRcdFx0cmV0dXJuIHNjb3JlIDwgY2xvc2VzdERpc3RhbmNlU3EgJiYgc2NvcmUgPCBtYXhUaHJlc2hvbGRTcTtcblxuXHRcdFx0fSxcblxuXHRcdFx0aW50ZXJzZWN0c1RyaWFuZ2xlOiAoIHRyaSwgdHJpSW5kZXggKSA9PiB7XG5cblx0XHRcdFx0dHJpLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHBvaW50LCB0ZW1wICk7XG5cdFx0XHRcdGNvbnN0IGRpc3RTcSA9IHBvaW50LmRpc3RhbmNlVG9TcXVhcmVkKCB0ZW1wICk7XG5cdFx0XHRcdGlmICggZGlzdFNxIDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XG5cblx0XHRcdFx0XHR0ZW1wMS5jb3B5KCB0ZW1wICk7XG5cdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlU3EgPSBkaXN0U3E7XG5cdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlVHJpSW5kZXggPSB0cmlJbmRleDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBkaXN0U3EgPCBtaW5UaHJlc2hvbGRTcSApIHtcblxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9LFxuXG5cdFx0fVxuXG5cdCk7XG5cblx0aWYgKCBjbG9zZXN0RGlzdGFuY2VTcSA9PT0gSW5maW5pdHkgKSByZXR1cm4gbnVsbDtcblxuXHRjb25zdCBjbG9zZXN0RGlzdGFuY2UgPSBNYXRoLnNxcnQoIGNsb3Nlc3REaXN0YW5jZVNxICk7XG5cblx0aWYgKCAhIHRhcmdldC5wb2ludCApIHRhcmdldC5wb2ludCA9IHRlbXAxLmNsb25lKCk7XG5cdGVsc2UgdGFyZ2V0LnBvaW50LmNvcHkoIHRlbXAxICk7XG5cdHRhcmdldC5kaXN0YW5jZSA9IGNsb3Nlc3REaXN0YW5jZSxcblx0dGFyZ2V0LmZhY2VJbmRleCA9IGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4O1xuXG5cdHJldHVybiB0YXJnZXQ7XG5cbn1cbiJdLCJuYW1lcyI6WyJWZWN0b3IzIiwidGVtcCIsInRlbXAxIiwiY2xvc2VzdFBvaW50VG9Qb2ludCIsImJ2aCIsInBvaW50IiwidGFyZ2V0IiwibWluVGhyZXNob2xkIiwibWF4VGhyZXNob2xkIiwiSW5maW5pdHkiLCJtaW5UaHJlc2hvbGRTcSIsIm1heFRocmVzaG9sZFNxIiwiY2xvc2VzdERpc3RhbmNlU3EiLCJjbG9zZXN0RGlzdGFuY2VUcmlJbmRleCIsInNoYXBlY2FzdCIsImJvdW5kc1RyYXZlcnNlT3JkZXIiLCJib3giLCJjb3B5IiwiY2xhbXAiLCJtaW4iLCJtYXgiLCJkaXN0YW5jZVRvU3F1YXJlZCIsImludGVyc2VjdHNCb3VuZHMiLCJpc0xlYWYiLCJzY29yZSIsImludGVyc2VjdHNUcmlhbmdsZSIsInRyaSIsInRyaUluZGV4IiwiZGlzdFNxIiwiY2xvc2VzdERpc3RhbmNlIiwiTWF0aCIsInNxcnQiLCJjbG9uZSIsImRpc3RhbmNlIiwiZmFjZUluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/closestPointToPoint.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry.generated.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry.generated.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intersectsGeometry: () => (/* binding */ intersectsGeometry)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../math/OrientedBox.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/OrientedBox.js\");\n/* harmony import */ var _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../math/ExtendedTriangle.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js\");\n/* harmony import */ var _utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/TriangleUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\");\n/* harmony import */ var _utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/ArrayBoxUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n\n\n\n\n\n\n\n/*****************************************************************/ /* This file is generated from \"intersectsGeometry.template.js\". */ /*****************************************************************/ /* eslint-disable indent */ const boundingBox = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Box3();\nconst triangle = /* @__PURE__ */ new _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__.ExtendedTriangle();\nconst triangle2 = /* @__PURE__ */ new _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__.ExtendedTriangle();\nconst invertedMat = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\nconst obb = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_2__.OrientedBox();\nconst obb2 = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_2__.OrientedBox();\nfunction intersectsGeometry(bvh, root, otherGeometry, geometryToBvh) {\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__.BufferStack.setBuffer(bvh._roots[root]);\n    const result = _intersectsGeometry(0, bvh, otherGeometry, geometryToBvh);\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__.BufferStack.clearBuffer();\n    return result;\n}\nfunction _intersectsGeometry(nodeIndex32, bvh, otherGeometry, geometryToBvh, cachedObb = null) {\n    const { float32Array, uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__.BufferStack;\n    let nodeIndex16 = nodeIndex32 * 2;\n    if (cachedObb === null) {\n        if (!otherGeometry.boundingBox) {\n            otherGeometry.computeBoundingBox();\n        }\n        obb.set(otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh);\n        cachedObb = obb;\n    }\n    const isLeaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.IS_LEAF)(nodeIndex16, uint16Array);\n    if (isLeaf) {\n        const thisGeometry = bvh.geometry;\n        const thisIndex = thisGeometry.index;\n        const thisPos = thisGeometry.attributes.position;\n        const index = otherGeometry.index;\n        const pos = otherGeometry.attributes.position;\n        const offset = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.OFFSET)(nodeIndex32, uint32Array);\n        const count = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.COUNT)(nodeIndex16, uint16Array);\n        // get the inverse of the geometry matrix so we can transform our triangles into the\n        // geometry space we're trying to test. We assume there are fewer triangles being checked\n        // here.\n        invertedMat.copy(geometryToBvh).invert();\n        if (otherGeometry.boundsTree) {\n            // if there's a bounds tree\n            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(nodeIndex32), float32Array, obb2);\n            obb2.matrix.copy(invertedMat);\n            obb2.needsUpdate = true;\n            // TODO: use a triangle iteration function here\n            const res = otherGeometry.boundsTree.shapecast({\n                intersectsBounds: (box)=>obb2.intersectsBox(box),\n                intersectsTriangle: (tri)=>{\n                    tri.a.applyMatrix4(geometryToBvh);\n                    tri.b.applyMatrix4(geometryToBvh);\n                    tri.c.applyMatrix4(geometryToBvh);\n                    tri.needsUpdate = true;\n                    for(let i = offset * 3, l = (count + offset) * 3; i < l; i += 3){\n                        // this triangle needs to be transformed into the current BVH coordinate frame\n                        (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__.setTriangle)(triangle2, i, thisIndex, thisPos);\n                        triangle2.needsUpdate = true;\n                        if (tri.intersectsTriangle(triangle2)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                }\n            });\n            return res;\n        } else {\n            // if we're just dealing with raw geometry\n            for(let i = offset * 3, l = (count + offset) * 3; i < l; i += 3){\n                // this triangle needs to be transformed into the current BVH coordinate frame\n                (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__.setTriangle)(triangle, i, thisIndex, thisPos);\n                triangle.a.applyMatrix4(invertedMat);\n                triangle.b.applyMatrix4(invertedMat);\n                triangle.c.applyMatrix4(invertedMat);\n                triangle.needsUpdate = true;\n                for(let i2 = 0, l2 = index.count; i2 < l2; i2 += 3){\n                    (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__.setTriangle)(triangle2, i2, index, pos);\n                    triangle2.needsUpdate = true;\n                    if (triangle.intersectsTriangle(triangle2)) {\n                        return true;\n                    }\n                }\n            }\n        }\n    } else {\n        const left = nodeIndex32 + 8;\n        const right = uint32Array[nodeIndex32 + 6];\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(left), float32Array, boundingBox);\n        const leftIntersection = cachedObb.intersectsBox(boundingBox) && _intersectsGeometry(left, bvh, otherGeometry, geometryToBvh, cachedObb);\n        if (leftIntersection) return true;\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(right), float32Array, boundingBox);\n        const rightIntersection = cachedObb.intersectsBox(boundingBox) && _intersectsGeometry(right, bvh, otherGeometry, geometryToBvh, cachedObb);\n        if (rightIntersection) return true;\n        return false;\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9pbnRlcnNlY3RzR2VvbWV0cnkuZ2VuZXJhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ2tCO0FBQ1U7QUFDSDtBQUNEO0FBQzRCO0FBQ3BDO0FBRXRELGlFQUFpRSxHQUNqRSxpRUFBaUUsR0FDakUsaUVBQWlFLEdBQ2pFLHlCQUF5QixHQUV6QixNQUFNVyxjQUFjLGFBQWEsR0FBRyxJQUFJWCx1Q0FBSUE7QUFDNUMsTUFBTVksV0FBVyxhQUFhLEdBQUcsSUFBSVQsdUVBQWdCQTtBQUNyRCxNQUFNVSxZQUFZLGFBQWEsR0FBRyxJQUFJVix1RUFBZ0JBO0FBQ3RELE1BQU1XLGNBQWMsYUFBYSxHQUFHLElBQUliLDBDQUFPQTtBQUUvQyxNQUFNYyxNQUFNLGFBQWEsR0FBRyxJQUFJYiw2REFBV0E7QUFDM0MsTUFBTWMsT0FBTyxhQUFhLEdBQUcsSUFBSWQsNkRBQVdBO0FBRTVDLFNBQVNlLG1CQUFvQkMsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLGFBQWEsRUFBRUMsYUFBYTtJQUVuRVgsOERBQVdBLENBQUNZLFNBQVMsQ0FBRUosSUFBSUssTUFBTSxDQUFFSixLQUFNO0lBQ3pDLE1BQU1LLFNBQVNDLG9CQUFxQixHQUFHUCxLQUFLRSxlQUFlQztJQUMzRFgsOERBQVdBLENBQUNnQixXQUFXO0lBRXZCLE9BQU9GO0FBRVI7QUFFQSxTQUFTQyxvQkFBcUJFLFdBQVcsRUFBRVQsR0FBRyxFQUFFRSxhQUFhLEVBQUVDLGFBQWEsRUFBRU8sWUFBWSxJQUFJO0lBRTdGLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxXQUFXLEVBQUVDLFdBQVcsRUFBRSxHQUFHckIsOERBQVdBO0lBQzlELElBQUlzQixjQUFjTCxjQUFjO0lBRWhDLElBQUtDLGNBQWMsTUFBTztRQUV6QixJQUFLLENBQUVSLGNBQWNULFdBQVcsRUFBRztZQUVsQ1MsY0FBY2Esa0JBQWtCO1FBRWpDO1FB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QUFtQkEsQ0FBRTJELE9BQVF2QyxjQUFjbEI7UUFDdkQsTUFBTTJELG1CQUNMMUMsVUFBVTZCLGFBQWEsQ0FBRTlDLGdCQUN6QmMsb0JBQXFCMkMsTUFBTWxELEtBQUtFLGVBQWVDLGVBQWVPO1FBRS9ELElBQUswQyxrQkFBbUIsT0FBTztRQUUvQmpFLHVFQUFVQSxDQUFFSSw4RUFBbUJBLENBQUU0RCxRQUFTeEMsY0FBY2xCO1FBQ3hELE1BQU00RCxvQkFDTDNDLFVBQVU2QixhQUFhLENBQUU5QyxnQkFDekJjLG9CQUFxQjRDLE9BQU9uRCxLQUFLRSxlQUFlQyxlQUFlTztRQUVoRSxJQUFLMkMsbUJBQW9CLE9BQU87UUFFaEMsT0FBTztJQUVSO0FBRUQ7QUFFOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9pbnRlcnNlY3RzR2VvbWV0cnkuZ2VuZXJhdGVkLmpzPzFkOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm94MywgTWF0cml4NCB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IE9yaWVudGVkQm94IH0gZnJvbSAnLi4vLi4vbWF0aC9PcmllbnRlZEJveC5qcyc7XG5pbXBvcnQgeyBFeHRlbmRlZFRyaWFuZ2xlIH0gZnJvbSAnLi4vLi4vbWF0aC9FeHRlbmRlZFRyaWFuZ2xlLmpzJztcbmltcG9ydCB7IHNldFRyaWFuZ2xlIH0gZnJvbSAnLi4vLi4vdXRpbHMvVHJpYW5nbGVVdGlsaXRpZXMuanMnO1xuaW1wb3J0IHsgYXJyYXlUb0JveCB9IGZyb20gJy4uLy4uL3V0aWxzL0FycmF5Qm94VXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IElTX0xFQUYsIE9GRlNFVCwgQ09VTlQsIEJPVU5ESU5HX0RBVEFfSU5ERVggfSBmcm9tICcuLi91dGlscy9ub2RlQnVmZmVyVXRpbHMuanMnO1xuaW1wb3J0IHsgQnVmZmVyU3RhY2sgfSBmcm9tICcuLi91dGlscy9CdWZmZXJTdGFjay5qcyc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBcImludGVyc2VjdHNHZW9tZXRyeS50ZW1wbGF0ZS5qc1wiLiAqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5cbmNvbnN0IGJvdW5kaW5nQm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBCb3gzKCk7XG5jb25zdCB0cmlhbmdsZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgRXh0ZW5kZWRUcmlhbmdsZSgpO1xuY29uc3QgdHJpYW5nbGUyID0gLyogQF9fUFVSRV9fICovIG5ldyBFeHRlbmRlZFRyaWFuZ2xlKCk7XG5jb25zdCBpbnZlcnRlZE1hdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWF0cml4NCgpO1xuXG5jb25zdCBvYmIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE9yaWVudGVkQm94KCk7XG5jb25zdCBvYmIyID0gLyogQF9fUFVSRV9fICovIG5ldyBPcmllbnRlZEJveCgpO1xuXG5mdW5jdGlvbiBpbnRlcnNlY3RzR2VvbWV0cnkoIGJ2aCwgcm9vdCwgb3RoZXJHZW9tZXRyeSwgZ2VvbWV0cnlUb0J2aCApIHtcblxuXHRCdWZmZXJTdGFjay5zZXRCdWZmZXIoIGJ2aC5fcm9vdHNbIHJvb3QgXSApO1xuXHRjb25zdCByZXN1bHQgPSBfaW50ZXJzZWN0c0dlb21ldHJ5KCAwLCBidmgsIG90aGVyR2VvbWV0cnksIGdlb21ldHJ5VG9CdmggKTtcblx0QnVmZmVyU3RhY2suY2xlYXJCdWZmZXIoKTtcblxuXHRyZXR1cm4gcmVzdWx0O1xuXG59XG5cbmZ1bmN0aW9uIF9pbnRlcnNlY3RzR2VvbWV0cnkoIG5vZGVJbmRleDMyLCBidmgsIG90aGVyR2VvbWV0cnksIGdlb21ldHJ5VG9CdmgsIGNhY2hlZE9iYiA9IG51bGwgKSB7XG5cblx0Y29uc3QgeyBmbG9hdDMyQXJyYXksIHVpbnQxNkFycmF5LCB1aW50MzJBcnJheSB9ID0gQnVmZmVyU3RhY2s7XG5cdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMjtcblxuXHRpZiAoIGNhY2hlZE9iYiA9PT0gbnVsbCApIHtcblxuXHRcdGlmICggISBvdGhlckdlb21ldHJ5LmJvdW5kaW5nQm94ICkge1xuXG5cdFx0XHRvdGhlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpO1xuXG5cdFx0fVxuXG5cdFx0b2JiLnNldCggb3RoZXJHZW9tZXRyeS5ib3VuZGluZ0JveC5taW4sIG90aGVyR2VvbWV0cnkuYm91bmRpbmdCb3gubWF4LCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0Y2FjaGVkT2JiID0gb2JiO1xuXG5cdH1cblxuXHRjb25zdCBpc0xlYWYgPSBJU19MRUFGKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcblx0aWYgKCBpc0xlYWYgKSB7XG5cblx0XHRjb25zdCB0aGlzR2VvbWV0cnkgPSBidmguZ2VvbWV0cnk7XG5cdFx0Y29uc3QgdGhpc0luZGV4ID0gdGhpc0dlb21ldHJ5LmluZGV4O1xuXHRcdGNvbnN0IHRoaXNQb3MgPSB0aGlzR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblxuXHRcdGNvbnN0IGluZGV4ID0gb3RoZXJHZW9tZXRyeS5pbmRleDtcblx0XHRjb25zdCBwb3MgPSBvdGhlckdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cblx0XHRjb25zdCBvZmZzZXQgPSBPRkZTRVQoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xuXHRcdGNvbnN0IGNvdW50ID0gQ09VTlQoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xuXG5cdFx0Ly8gZ2V0IHRoZSBpbnZlcnNlIG9mIHRoZSBnZW9tZXRyeSBtYXRyaXggc28gd2UgY2FuIHRyYW5zZm9ybSBvdXIgdHJpYW5nbGVzIGludG8gdGhlXG5cdFx0Ly8gZ2VvbWV0cnkgc3BhY2Ugd2UncmUgdHJ5aW5nIHRvIHRlc3QuIFdlIGFzc3VtZSB0aGVyZSBhcmUgZmV3ZXIgdHJpYW5nbGVzIGJlaW5nIGNoZWNrZWRcblx0XHQvLyBoZXJlLlxuXHRcdGludmVydGVkTWF0LmNvcHkoIGdlb21ldHJ5VG9CdmggKS5pbnZlcnQoKTtcblxuXHRcdGlmICggb3RoZXJHZW9tZXRyeS5ib3VuZHNUcmVlICkge1xuXG5cdFx0XHQvLyBpZiB0aGVyZSdzIGEgYm91bmRzIHRyZWVcblx0XHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIG5vZGVJbmRleDMyICksIGZsb2F0MzJBcnJheSwgb2JiMiApO1xuXHRcdFx0b2JiMi5tYXRyaXguY29weSggaW52ZXJ0ZWRNYXQgKTtcblx0XHRcdG9iYjIubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHQvLyBUT0RPOiB1c2UgYSB0cmlhbmdsZSBpdGVyYXRpb24gZnVuY3Rpb24gaGVyZVxuXHRcdFx0Y29uc3QgcmVzID0gb3RoZXJHZW9tZXRyeS5ib3VuZHNUcmVlLnNoYXBlY2FzdCgge1xuXG5cdFx0XHRcdGludGVyc2VjdHNCb3VuZHM6IGJveCA9PiBvYmIyLmludGVyc2VjdHNCb3goIGJveCApLFxuXG5cdFx0XHRcdGludGVyc2VjdHNUcmlhbmdsZTogdHJpID0+IHtcblxuXHRcdFx0XHRcdHRyaS5hLmFwcGx5TWF0cml4NCggZ2VvbWV0cnlUb0J2aCApO1xuXHRcdFx0XHRcdHRyaS5iLmFwcGx5TWF0cml4NCggZ2VvbWV0cnlUb0J2aCApO1xuXHRcdFx0XHRcdHRyaS5jLmFwcGx5TWF0cml4NCggZ2VvbWV0cnlUb0J2aCApO1xuXHRcdFx0XHRcdHRyaS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblxuXHRcdFx0XHRcdGZvciAoIGxldCBpID0gb2Zmc2V0ICogMywgbCA9ICggY291bnQgKyBvZmZzZXQgKSAqIDM7IGkgPCBsOyBpICs9IDMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIHRoaXMgdHJpYW5nbGUgbmVlZHMgdG8gYmUgdHJhbnNmb3JtZWQgaW50byB0aGUgY3VycmVudCBCVkggY29vcmRpbmF0ZSBmcmFtZVxuXHRcdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlMiwgaSwgdGhpc0luZGV4LCB0aGlzUG9zICk7XG5cdFx0XHRcdFx0XHR0cmlhbmdsZTIubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0aWYgKCB0cmkuaW50ZXJzZWN0c1RyaWFuZ2xlKCB0cmlhbmdsZTIgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdHJldHVybiByZXM7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBpZiB3ZSdyZSBqdXN0IGRlYWxpbmcgd2l0aCByYXcgZ2VvbWV0cnlcblxuXHRcdFx0Zm9yICggbGV0IGkgPSBvZmZzZXQgKiAzLCBsID0gKCBjb3VudCArIG9mZnNldCApICogMzsgaSA8IGw7IGkgKz0gMyApIHtcblxuXHRcdFx0XHQvLyB0aGlzIHRyaWFuZ2xlIG5lZWRzIHRvIGJlIHRyYW5zZm9ybWVkIGludG8gdGhlIGN1cnJlbnQgQlZIIGNvb3JkaW5hdGUgZnJhbWVcblx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlLCBpLCB0aGlzSW5kZXgsIHRoaXNQb3MgKTtcblxuXG5cdFx0XHRcdHRyaWFuZ2xlLmEuYXBwbHlNYXRyaXg0KCBpbnZlcnRlZE1hdCApO1xuXHRcdFx0XHR0cmlhbmdsZS5iLmFwcGx5TWF0cml4NCggaW52ZXJ0ZWRNYXQgKTtcblx0XHRcdFx0dHJpYW5nbGUuYy5hcHBseU1hdHJpeDQoIGludmVydGVkTWF0ICk7XG5cdFx0XHRcdHRyaWFuZ2xlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaTIgPSAwLCBsMiA9IGluZGV4LmNvdW50OyBpMiA8IGwyOyBpMiArPSAzICkge1xuXG5cdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlMiwgaTIsIGluZGV4LCBwb3MgKTtcblx0XHRcdFx0XHR0cmlhbmdsZTIubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0aWYgKCB0cmlhbmdsZS5pbnRlcnNlY3RzVHJpYW5nbGUoIHRyaWFuZ2xlMiApICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblxuXHRcdFx0fVxuXG5cblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdGNvbnN0IGxlZnQgPSBub2RlSW5kZXgzMiArIDg7XG5cdFx0Y29uc3QgcmlnaHQgPSB1aW50MzJBcnJheVsgbm9kZUluZGV4MzIgKyA2IF07XG5cblx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBsZWZ0ICksIGZsb2F0MzJBcnJheSwgYm91bmRpbmdCb3ggKTtcblx0XHRjb25zdCBsZWZ0SW50ZXJzZWN0aW9uID1cblx0XHRcdGNhY2hlZE9iYi5pbnRlcnNlY3RzQm94KCBib3VuZGluZ0JveCApICYmXG5cdFx0XHRfaW50ZXJzZWN0c0dlb21ldHJ5KCBsZWZ0LCBidmgsIG90aGVyR2VvbWV0cnksIGdlb21ldHJ5VG9CdmgsIGNhY2hlZE9iYiApO1xuXG5cdFx0aWYgKCBsZWZ0SW50ZXJzZWN0aW9uICkgcmV0dXJuIHRydWU7XG5cblx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCByaWdodCApLCBmbG9hdDMyQXJyYXksIGJvdW5kaW5nQm94ICk7XG5cdFx0Y29uc3QgcmlnaHRJbnRlcnNlY3Rpb24gPVxuXHRcdFx0Y2FjaGVkT2JiLmludGVyc2VjdHNCb3goIGJvdW5kaW5nQm94ICkgJiZcblx0XHRcdF9pbnRlcnNlY3RzR2VvbWV0cnkoIHJpZ2h0LCBidmgsIG90aGVyR2VvbWV0cnksIGdlb21ldHJ5VG9CdmgsIGNhY2hlZE9iYiApO1xuXG5cdFx0aWYgKCByaWdodEludGVyc2VjdGlvbiApIHJldHVybiB0cnVlO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBpbnRlcnNlY3RzR2VvbWV0cnkgfTtcbiJdLCJuYW1lcyI6WyJCb3gzIiwiTWF0cml4NCIsIk9yaWVudGVkQm94IiwiRXh0ZW5kZWRUcmlhbmdsZSIsInNldFRyaWFuZ2xlIiwiYXJyYXlUb0JveCIsIklTX0xFQUYiLCJPRkZTRVQiLCJDT1VOVCIsIkJPVU5ESU5HX0RBVEFfSU5ERVgiLCJCdWZmZXJTdGFjayIsImJvdW5kaW5nQm94IiwidHJpYW5nbGUiLCJ0cmlhbmdsZTIiLCJpbnZlcnRlZE1hdCIsIm9iYiIsIm9iYjIiLCJpbnRlcnNlY3RzR2VvbWV0cnkiLCJidmgiLCJyb290Iiwib3RoZXJHZW9tZXRyeSIsImdlb21ldHJ5VG9CdmgiLCJzZXRCdWZmZXIiLCJfcm9vdHMiLCJyZXN1bHQiLCJfaW50ZXJzZWN0c0dlb21ldHJ5IiwiY2xlYXJCdWZmZXIiLCJub2RlSW5kZXgzMiIsImNhY2hlZE9iYiIsImZsb2F0MzJBcnJheSIsInVpbnQxNkFycmF5IiwidWludDMyQXJyYXkiLCJub2RlSW5kZXgxNiIsImNvbXB1dGVCb3VuZGluZ0JveCIsInNldCIsIm1pbiIsIm1heCIsImlzTGVhZiIsInRoaXNHZW9tZXRyeSIsImdlb21ldHJ5IiwidGhpc0luZGV4IiwiaW5kZXgiLCJ0aGlzUG9zIiwiYXR0cmlidXRlcyIsInBvc2l0aW9uIiwicG9zIiwib2Zmc2V0IiwiY291bnQiLCJjb3B5IiwiaW52ZXJ0IiwiYm91bmRzVHJlZSIsIm1hdHJpeCIsIm5lZWRzVXBkYXRlIiwicmVzIiwic2hhcGVjYXN0IiwiaW50ZXJzZWN0c0JvdW5kcyIsImJveCIsImludGVyc2VjdHNCb3giLCJpbnRlcnNlY3RzVHJpYW5nbGUiLCJ0cmkiLCJhIiwiYXBwbHlNYXRyaXg0IiwiYiIsImMiLCJpIiwibCIsImkyIiwibDIiLCJsZWZ0IiwicmlnaHQiLCJsZWZ0SW50ZXJzZWN0aW9uIiwicmlnaHRJbnRlcnNlY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry_indirect.generated.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry_indirect.generated.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intersectsGeometry_indirect: () => (/* binding */ intersectsGeometry_indirect)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../math/OrientedBox.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/OrientedBox.js\");\n/* harmony import */ var _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../math/ExtendedTriangle.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js\");\n/* harmony import */ var _utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/TriangleUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\");\n/* harmony import */ var _utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/ArrayBoxUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n\n\n\n\n\n\n\n/*****************************************************************/ /* This file is generated from \"intersectsGeometry.template.js\". */ /*****************************************************************/ /* eslint-disable indent */ const boundingBox = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Box3();\nconst triangle = /* @__PURE__ */ new _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__.ExtendedTriangle();\nconst triangle2 = /* @__PURE__ */ new _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__.ExtendedTriangle();\nconst invertedMat = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\nconst obb = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_2__.OrientedBox();\nconst obb2 = /* @__PURE__ */ new _math_OrientedBox_js__WEBPACK_IMPORTED_MODULE_2__.OrientedBox();\nfunction intersectsGeometry_indirect(bvh, root, otherGeometry, geometryToBvh) {\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__.BufferStack.setBuffer(bvh._roots[root]);\n    const result = _intersectsGeometry(0, bvh, otherGeometry, geometryToBvh);\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__.BufferStack.clearBuffer();\n    return result;\n}\nfunction _intersectsGeometry(nodeIndex32, bvh, otherGeometry, geometryToBvh, cachedObb = null) {\n    const { float32Array, uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_3__.BufferStack;\n    let nodeIndex16 = nodeIndex32 * 2;\n    if (cachedObb === null) {\n        if (!otherGeometry.boundingBox) {\n            otherGeometry.computeBoundingBox();\n        }\n        obb.set(otherGeometry.boundingBox.min, otherGeometry.boundingBox.max, geometryToBvh);\n        cachedObb = obb;\n    }\n    const isLeaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.IS_LEAF)(nodeIndex16, uint16Array);\n    if (isLeaf) {\n        const thisGeometry = bvh.geometry;\n        const thisIndex = thisGeometry.index;\n        const thisPos = thisGeometry.attributes.position;\n        const index = otherGeometry.index;\n        const pos = otherGeometry.attributes.position;\n        const offset = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.OFFSET)(nodeIndex32, uint32Array);\n        const count = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.COUNT)(nodeIndex16, uint16Array);\n        // get the inverse of the geometry matrix so we can transform our triangles into the\n        // geometry space we're trying to test. We assume there are fewer triangles being checked\n        // here.\n        invertedMat.copy(geometryToBvh).invert();\n        if (otherGeometry.boundsTree) {\n            // if there's a bounds tree\n            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(nodeIndex32), float32Array, obb2);\n            obb2.matrix.copy(invertedMat);\n            obb2.needsUpdate = true;\n            // TODO: use a triangle iteration function here\n            const res = otherGeometry.boundsTree.shapecast({\n                intersectsBounds: (box)=>obb2.intersectsBox(box),\n                intersectsTriangle: (tri)=>{\n                    tri.a.applyMatrix4(geometryToBvh);\n                    tri.b.applyMatrix4(geometryToBvh);\n                    tri.c.applyMatrix4(geometryToBvh);\n                    tri.needsUpdate = true;\n                    for(let i = offset, l = count + offset; i < l; i++){\n                        // this triangle needs to be transformed into the current BVH coordinate frame\n                        (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__.setTriangle)(triangle2, 3 * bvh.resolveTriangleIndex(i), thisIndex, thisPos);\n                        triangle2.needsUpdate = true;\n                        if (tri.intersectsTriangle(triangle2)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                }\n            });\n            return res;\n        } else {\n            // if we're just dealing with raw geometry\n            for(let i = offset, l = count + offset; i < l; i++){\n                // this triangle needs to be transformed into the current BVH coordinate frame\n                const ti = bvh.resolveTriangleIndex(i);\n                (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__.setTriangle)(triangle, 3 * ti, thisIndex, thisPos);\n                triangle.a.applyMatrix4(invertedMat);\n                triangle.b.applyMatrix4(invertedMat);\n                triangle.c.applyMatrix4(invertedMat);\n                triangle.needsUpdate = true;\n                for(let i2 = 0, l2 = index.count; i2 < l2; i2 += 3){\n                    (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_6__.setTriangle)(triangle2, i2, index, pos);\n                    triangle2.needsUpdate = true;\n                    if (triangle.intersectsTriangle(triangle2)) {\n                        return true;\n                    }\n                }\n            }\n        }\n    } else {\n        const left = nodeIndex32 + 8;\n        const right = uint32Array[nodeIndex32 + 6];\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(left), float32Array, boundingBox);\n        const leftIntersection = cachedObb.intersectsBox(boundingBox) && _intersectsGeometry(left, bvh, otherGeometry, geometryToBvh, cachedObb);\n        if (leftIntersection) return true;\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_5__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_4__.BOUNDING_DATA_INDEX)(right), float32Array, boundingBox);\n        const rightIntersection = cachedObb.intersectsBox(boundingBox) && _intersectsGeometry(right, bvh, otherGeometry, geometryToBvh, cachedObb);\n        if (rightIntersection) return true;\n        return false;\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9pbnRlcnNlY3RzR2VvbWV0cnlfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ2tCO0FBQ1U7QUFDSDtBQUNEO0FBQzRCO0FBQ3BDO0FBRXRELGlFQUFpRSxHQUNqRSxpRUFBaUUsR0FDakUsaUVBQWlFLEdBQ2pFLHlCQUF5QixHQUV6QixNQUFNVyxjQUFjLGFBQWEsR0FBRyxJQUFJWCx1Q0FBSUE7QUFDNUMsTUFBTVksV0FBVyxhQUFhLEdBQUcsSUFBSVQsdUVBQWdCQTtBQUNyRCxNQUFNVSxZQUFZLGFBQWEsR0FBRyxJQUFJVix1RUFBZ0JBO0FBQ3RELE1BQU1XLGNBQWMsYUFBYSxHQUFHLElBQUliLDBDQUFPQTtBQUUvQyxNQUFNYyxNQUFNLGFBQWEsR0FBRyxJQUFJYiw2REFBV0E7QUFDM0MsTUFBTWMsT0FBTyxhQUFhLEdBQUcsSUFBSWQsNkRBQVdBO0FBRTVDLFNBQVNlLDRCQUE2QkMsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLGFBQWEsRUFBRUMsYUFBYTtJQUU1RVgsOERBQVdBLENBQUNZLFNBQVMsQ0FBRUosSUFBSUssTUFBTSxDQUFFSixLQUFNO0lBQ3pDLE1BQU1LLFNBQVNDLG9CQUFxQixHQUFHUCxLQUFLRSxlQUFlQztJQUMzRFgsOERBQVdBLENBQUNnQixXQUFXO0lBRXZCLE9BQU9GO0FBRVI7QUFFQSxTQUFTQyxvQkFBcUJFLFdBQVcsRUFBRVQsR0FBRyxFQUFFRSxhQUFhLEVBQUVDLGFBQWEsRUFBRU8sWUFBWSxJQUFJO0lBRTdGLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxXQUFXLEVBQUVDLFdBQVcsRUFBRSxHQUFHckIsOERBQVdBO0lBQzlELElBQUlzQixjQUFjTCxjQUFjO0lBRWhDLElBQUtDLGNBQWMsTUFBTztRQUV6QixJQUFLLENBQUVSLGNBQWNULFdBQVcsRUFBRztZQUVsQ1MsY0FBY2Esa0JBQWtC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LEVBQUc7UUFFNUN0Qix1RUFBVUEsQ0FBRUksOEVBQW1CQSxDQUFFNkQsT0FBUXpDLGNBQWNsQjtRQUN2RCxNQUFNNkQsbUJBQ0w1QyxVQUFVNkIsYUFBYSxDQUFFOUMsZ0JBQ3pCYyxvQkFBcUI2QyxNQUFNcEQsS0FBS0UsZUFBZUMsZUFBZU87UUFFL0QsSUFBSzRDLGtCQUFtQixPQUFPO1FBRS9CbkUsdUVBQVVBLENBQUVJLDhFQUFtQkEsQ0FBRThELFFBQVMxQyxjQUFjbEI7UUFDeEQsTUFBTThELG9CQUNMN0MsVUFBVTZCLGFBQWEsQ0FBRTlDLGdCQUN6QmMsb0JBQXFCOEMsT0FBT3JELEtBQUtFLGVBQWVDLGVBQWVPO1FBRWhFLElBQUs2QyxtQkFBb0IsT0FBTztRQUVoQyxPQUFPO0lBRVI7QUFFRDtBQUV1QyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9jYXN0L2ludGVyc2VjdHNHZW9tZXRyeV9pbmRpcmVjdC5nZW5lcmF0ZWQuanM/YTMwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3gzLCBNYXRyaXg0IH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JpZW50ZWRCb3ggfSBmcm9tICcuLi8uLi9tYXRoL09yaWVudGVkQm94LmpzJztcbmltcG9ydCB7IEV4dGVuZGVkVHJpYW5nbGUgfSBmcm9tICcuLi8uLi9tYXRoL0V4dGVuZGVkVHJpYW5nbGUuanMnO1xuaW1wb3J0IHsgc2V0VHJpYW5nbGUgfSBmcm9tICcuLi8uLi91dGlscy9UcmlhbmdsZVV0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBhcnJheVRvQm94IH0gZnJvbSAnLi4vLi4vdXRpbHMvQXJyYXlCb3hVdGlsaXRpZXMuanMnO1xuaW1wb3J0IHsgSVNfTEVBRiwgT0ZGU0VULCBDT1VOVCwgQk9VTkRJTkdfREFUQV9JTkRFWCB9IGZyb20gJy4uL3V0aWxzL25vZGVCdWZmZXJVdGlscy5qcyc7XG5pbXBvcnQgeyBCdWZmZXJTdGFjayB9IGZyb20gJy4uL3V0aWxzL0J1ZmZlclN0YWNrLmpzJztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIFwiaW50ZXJzZWN0c0dlb21ldHJ5LnRlbXBsYXRlLmpzXCIuICovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cblxuY29uc3QgYm91bmRpbmdCb3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IEJveDMoKTtcbmNvbnN0IHRyaWFuZ2xlID0gLyogQF9fUFVSRV9fICovIG5ldyBFeHRlbmRlZFRyaWFuZ2xlKCk7XG5jb25zdCB0cmlhbmdsZTIgPSAvKiBAX19QVVJFX18gKi8gbmV3IEV4dGVuZGVkVHJpYW5nbGUoKTtcbmNvbnN0IGludmVydGVkTWF0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXRyaXg0KCk7XG5cbmNvbnN0IG9iYiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgT3JpZW50ZWRCb3goKTtcbmNvbnN0IG9iYjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE9yaWVudGVkQm94KCk7XG5cbmZ1bmN0aW9uIGludGVyc2VjdHNHZW9tZXRyeV9pbmRpcmVjdCggYnZoLCByb290LCBvdGhlckdlb21ldHJ5LCBnZW9tZXRyeVRvQnZoICkge1xuXG5cdEJ1ZmZlclN0YWNrLnNldEJ1ZmZlciggYnZoLl9yb290c1sgcm9vdCBdICk7XG5cdGNvbnN0IHJlc3VsdCA9IF9pbnRlcnNlY3RzR2VvbWV0cnkoIDAsIGJ2aCwgb3RoZXJHZW9tZXRyeSwgZ2VvbWV0cnlUb0J2aCApO1xuXHRCdWZmZXJTdGFjay5jbGVhckJ1ZmZlcigpO1xuXG5cdHJldHVybiByZXN1bHQ7XG5cbn1cblxuZnVuY3Rpb24gX2ludGVyc2VjdHNHZW9tZXRyeSggbm9kZUluZGV4MzIsIGJ2aCwgb3RoZXJHZW9tZXRyeSwgZ2VvbWV0cnlUb0J2aCwgY2FjaGVkT2JiID0gbnVsbCApIHtcblxuXHRjb25zdCB7IGZsb2F0MzJBcnJheSwgdWludDE2QXJyYXksIHVpbnQzMkFycmF5IH0gPSBCdWZmZXJTdGFjaztcblx0bGV0IG5vZGVJbmRleDE2ID0gbm9kZUluZGV4MzIgKiAyO1xuXG5cdGlmICggY2FjaGVkT2JiID09PSBudWxsICkge1xuXG5cdFx0aWYgKCAhIG90aGVyR2VvbWV0cnkuYm91bmRpbmdCb3ggKSB7XG5cblx0XHRcdG90aGVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7XG5cblx0XHR9XG5cblx0XHRvYmIuc2V0KCBvdGhlckdlb21ldHJ5LmJvdW5kaW5nQm94Lm1pbiwgb3RoZXJHZW9tZXRyeS5ib3VuZGluZ0JveC5tYXgsIGdlb21ldHJ5VG9CdmggKTtcblx0XHRjYWNoZWRPYmIgPSBvYmI7XG5cblx0fVxuXG5cdGNvbnN0IGlzTGVhZiA9IElTX0xFQUYoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xuXHRpZiAoIGlzTGVhZiApIHtcblxuXHRcdGNvbnN0IHRoaXNHZW9tZXRyeSA9IGJ2aC5nZW9tZXRyeTtcblx0XHRjb25zdCB0aGlzSW5kZXggPSB0aGlzR2VvbWV0cnkuaW5kZXg7XG5cdFx0Y29uc3QgdGhpc1BvcyA9IHRoaXNHZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXG5cdFx0Y29uc3QgaW5kZXggPSBvdGhlckdlb21ldHJ5LmluZGV4O1xuXHRcdGNvbnN0IHBvcyA9IG90aGVyR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblxuXHRcdGNvbnN0IG9mZnNldCA9IE9GRlNFVCggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XG5cdFx0Y29uc3QgY291bnQgPSBDT1VOVCggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XG5cblx0XHQvLyBnZXQgdGhlIGludmVyc2Ugb2YgdGhlIGdlb21ldHJ5IG1hdHJpeCBzbyB3ZSBjYW4gdHJhbnNmb3JtIG91ciB0cmlhbmdsZXMgaW50byB0aGVcblx0XHQvLyBnZW9tZXRyeSBzcGFjZSB3ZSdyZSB0cnlpbmcgdG8gdGVzdC4gV2UgYXNzdW1lIHRoZXJlIGFyZSBmZXdlciB0cmlhbmdsZXMgYmVpbmcgY2hlY2tlZFxuXHRcdC8vIGhlcmUuXG5cdFx0aW52ZXJ0ZWRNYXQuY29weSggZ2VvbWV0cnlUb0J2aCApLmludmVydCgpO1xuXG5cdFx0aWYgKCBvdGhlckdlb21ldHJ5LmJvdW5kc1RyZWUgKSB7XG5cblx0XHRcdC8vIGlmIHRoZXJlJ3MgYSBib3VuZHMgdHJlZVxuXHRcdFx0YXJyYXlUb0JveCggQk9VTkRJTkdfREFUQV9JTkRFWCggbm9kZUluZGV4MzIgKSwgZmxvYXQzMkFycmF5LCBvYmIyICk7XG5cdFx0XHRvYmIyLm1hdHJpeC5jb3B5KCBpbnZlcnRlZE1hdCApO1xuXHRcdFx0b2JiMi5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0XHRcdC8vIFRPRE86IHVzZSBhIHRyaWFuZ2xlIGl0ZXJhdGlvbiBmdW5jdGlvbiBoZXJlXG5cdFx0XHRjb25zdCByZXMgPSBvdGhlckdlb21ldHJ5LmJvdW5kc1RyZWUuc2hhcGVjYXN0KCB7XG5cblx0XHRcdFx0aW50ZXJzZWN0c0JvdW5kczogYm94ID0+IG9iYjIuaW50ZXJzZWN0c0JveCggYm94ICksXG5cblx0XHRcdFx0aW50ZXJzZWN0c1RyaWFuZ2xlOiB0cmkgPT4ge1xuXG5cdFx0XHRcdFx0dHJpLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0dHJpLmIuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0dHJpLmMuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XG5cdFx0XHRcdFx0dHJpLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdGZvciAoIGxldCBpID0gb2Zmc2V0LCBsID0gY291bnQgKyBvZmZzZXQ7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRcdFx0XHQvLyB0aGlzIHRyaWFuZ2xlIG5lZWRzIHRvIGJlIHRyYW5zZm9ybWVkIGludG8gdGhlIGN1cnJlbnQgQlZIIGNvb3JkaW5hdGUgZnJhbWVcblx0XHRcdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZTIsIDMgKiBidmgucmVzb2x2ZVRyaWFuZ2xlSW5kZXgoIGkgKSwgdGhpc0luZGV4LCB0aGlzUG9zICk7XG5cdFx0XHRcdFx0XHR0cmlhbmdsZTIubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0aWYgKCB0cmkuaW50ZXJzZWN0c1RyaWFuZ2xlKCB0cmlhbmdsZTIgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdHJldHVybiByZXM7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBpZiB3ZSdyZSBqdXN0IGRlYWxpbmcgd2l0aCByYXcgZ2VvbWV0cnlcblx0XHRcdGZvciAoIGxldCBpID0gb2Zmc2V0LCBsID0gY291bnQgKyBvZmZzZXQ7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRcdC8vIHRoaXMgdHJpYW5nbGUgbmVlZHMgdG8gYmUgdHJhbnNmb3JtZWQgaW50byB0aGUgY3VycmVudCBCVkggY29vcmRpbmF0ZSBmcmFtZVxuXHRcdFx0XHRjb25zdCB0aSA9IGJ2aC5yZXNvbHZlVHJpYW5nbGVJbmRleCggaSApO1xuXHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUsIDMgKiB0aSwgdGhpc0luZGV4LCB0aGlzUG9zICk7XG5cblxuXHRcdFx0XHR0cmlhbmdsZS5hLmFwcGx5TWF0cml4NCggaW52ZXJ0ZWRNYXQgKTtcblx0XHRcdFx0dHJpYW5nbGUuYi5hcHBseU1hdHJpeDQoIGludmVydGVkTWF0ICk7XG5cdFx0XHRcdHRyaWFuZ2xlLmMuYXBwbHlNYXRyaXg0KCBpbnZlcnRlZE1hdCApO1xuXHRcdFx0XHR0cmlhbmdsZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0XHRcdFx0Zm9yICggbGV0IGkyID0gMCwgbDIgPSBpbmRleC5jb3VudDsgaTIgPCBsMjsgaTIgKz0gMyApIHtcblxuXHRcdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZTIsIGkyLCBpbmRleCwgcG9zICk7XG5cdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdGlmICggdHJpYW5nbGUuaW50ZXJzZWN0c1RyaWFuZ2xlKCB0cmlhbmdsZTIgKSApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblxuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Y29uc3QgbGVmdCA9IG5vZGVJbmRleDMyICsgODtcblx0XHRjb25zdCByaWdodCA9IHVpbnQzMkFycmF5WyBub2RlSW5kZXgzMiArIDYgXTtcblxuXHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGxlZnQgKSwgZmxvYXQzMkFycmF5LCBib3VuZGluZ0JveCApO1xuXHRcdGNvbnN0IGxlZnRJbnRlcnNlY3Rpb24gPVxuXHRcdFx0Y2FjaGVkT2JiLmludGVyc2VjdHNCb3goIGJvdW5kaW5nQm94ICkgJiZcblx0XHRcdF9pbnRlcnNlY3RzR2VvbWV0cnkoIGxlZnQsIGJ2aCwgb3RoZXJHZW9tZXRyeSwgZ2VvbWV0cnlUb0J2aCwgY2FjaGVkT2JiICk7XG5cblx0XHRpZiAoIGxlZnRJbnRlcnNlY3Rpb24gKSByZXR1cm4gdHJ1ZTtcblxuXHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIHJpZ2h0ICksIGZsb2F0MzJBcnJheSwgYm91bmRpbmdCb3ggKTtcblx0XHRjb25zdCByaWdodEludGVyc2VjdGlvbiA9XG5cdFx0XHRjYWNoZWRPYmIuaW50ZXJzZWN0c0JveCggYm91bmRpbmdCb3ggKSAmJlxuXHRcdFx0X2ludGVyc2VjdHNHZW9tZXRyeSggcmlnaHQsIGJ2aCwgb3RoZXJHZW9tZXRyeSwgZ2VvbWV0cnlUb0J2aCwgY2FjaGVkT2JiICk7XG5cblx0XHRpZiAoIHJpZ2h0SW50ZXJzZWN0aW9uICkgcmV0dXJuIHRydWU7XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fVxuXG59XG5cbmV4cG9ydCB7IGludGVyc2VjdHNHZW9tZXRyeV9pbmRpcmVjdCB9O1xuIl0sIm5hbWVzIjpbIkJveDMiLCJNYXRyaXg0IiwiT3JpZW50ZWRCb3giLCJFeHRlbmRlZFRyaWFuZ2xlIiwic2V0VHJpYW5nbGUiLCJhcnJheVRvQm94IiwiSVNfTEVBRiIsIk9GRlNFVCIsIkNPVU5UIiwiQk9VTkRJTkdfREFUQV9JTkRFWCIsIkJ1ZmZlclN0YWNrIiwiYm91bmRpbmdCb3giLCJ0cmlhbmdsZSIsInRyaWFuZ2xlMiIsImludmVydGVkTWF0Iiwib2JiIiwib2JiMiIsImludGVyc2VjdHNHZW9tZXRyeV9pbmRpcmVjdCIsImJ2aCIsInJvb3QiLCJvdGhlckdlb21ldHJ5IiwiZ2VvbWV0cnlUb0J2aCIsInNldEJ1ZmZlciIsIl9yb290cyIsInJlc3VsdCIsIl9pbnRlcnNlY3RzR2VvbWV0cnkiLCJjbGVhckJ1ZmZlciIsIm5vZGVJbmRleDMyIiwiY2FjaGVkT2JiIiwiZmxvYXQzMkFycmF5IiwidWludDE2QXJyYXkiLCJ1aW50MzJBcnJheSIsIm5vZGVJbmRleDE2IiwiY29tcHV0ZUJvdW5kaW5nQm94Iiwic2V0IiwibWluIiwibWF4IiwiaXNMZWFmIiwidGhpc0dlb21ldHJ5IiwiZ2VvbWV0cnkiLCJ0aGlzSW5kZXgiLCJpbmRleCIsInRoaXNQb3MiLCJhdHRyaWJ1dGVzIiwicG9zaXRpb24iLCJwb3MiLCJvZmZzZXQiLCJjb3VudCIsImNvcHkiLCJpbnZlcnQiLCJib3VuZHNUcmVlIiwibWF0cml4IiwibmVlZHNVcGRhdGUiLCJyZXMiLCJzaGFwZWNhc3QiLCJpbnRlcnNlY3RzQm91bmRzIiwiYm94IiwiaW50ZXJzZWN0c0JveCIsImludGVyc2VjdHNUcmlhbmdsZSIsInRyaSIsImEiLCJhcHBseU1hdHJpeDQiLCJiIiwiYyIsImkiLCJsIiwicmVzb2x2ZVRyaWFuZ2xlSW5kZXgiLCJ0aSIsImkyIiwibDIiLCJsZWZ0IiwicmlnaHQiLCJsZWZ0SW50ZXJzZWN0aW9uIiwicmlnaHRJbnRlcnNlY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/intersectsGeometry_indirect.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycast.generated.js":
/*!************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/raycast.generated.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   raycast: () => (/* binding */ raycast)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/intersectUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/intersectUtils.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n/* harmony import */ var _utils_iterationUtils_generated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/iterationUtils.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils.generated.js\");\n\n\n\n\n\n\n/******************************************************/ /* This file is generated from \"raycast.template.js\". */ /******************************************************/ const _boxIntersection = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction raycast(bvh, root, side, ray, intersects) {\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.setBuffer(bvh._roots[root]);\n    _raycast(0, bvh, side, ray, intersects);\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.clearBuffer();\n}\nfunction _raycast(nodeIndex32, bvh, side, ray, intersects) {\n    const { float32Array, uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack;\n    const nodeIndex16 = nodeIndex32 * 2;\n    const isLeaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.IS_LEAF)(nodeIndex16, uint16Array);\n    if (isLeaf) {\n        const offset = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.OFFSET)(nodeIndex32, uint32Array);\n        const count = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.COUNT)(nodeIndex16, uint16Array);\n        (0,_utils_iterationUtils_generated_js__WEBPACK_IMPORTED_MODULE_3__.intersectTris)(bvh, side, ray, offset, count, intersects);\n    } else {\n        const leftIndex = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.LEFT_NODE)(nodeIndex32);\n        if ((0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(leftIndex, float32Array, ray, _boxIntersection)) {\n            _raycast(leftIndex, bvh, side, ray, intersects);\n        }\n        const rightIndex = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.RIGHT_NODE)(nodeIndex32, uint32Array);\n        if ((0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(rightIndex, float32Array, ray, _boxIntersection)) {\n            _raycast(rightIndex, bvh, side, ray, intersects);\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9yYXljYXN0LmdlbmVyYXRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBZ0M7QUFDMEI7QUFDa0M7QUFDdEM7QUFDZTtBQUNkO0FBRXZELHNEQUFzRCxHQUN0RCxzREFBc0QsR0FDdEQsc0RBQXNELEdBRXRELE1BQU1TLG1CQUFtQixhQUFhLEdBQUcsSUFBSVQsMENBQU9BO0FBQ3BELFNBQVNVLFFBQVNDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsVUFBVTtJQUVqRFIsOERBQVdBLENBQUNTLFNBQVMsQ0FBRUwsSUFBSU0sTUFBTSxDQUFFTCxLQUFNO0lBQ3pDTSxTQUFVLEdBQUdQLEtBQUtFLE1BQU1DLEtBQUtDO0lBQzdCUiw4REFBV0EsQ0FBQ1ksV0FBVztBQUV4QjtBQUVBLFNBQVNELFNBQVVFLFdBQVcsRUFBRVQsR0FBRyxFQUFFRSxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsVUFBVTtJQUV6RCxNQUFNLEVBQUVNLFlBQVksRUFBRUMsV0FBVyxFQUFFQyxXQUFXLEVBQUUsR0FBR2hCLDhEQUFXQTtJQUM5RCxNQUFNaUIsY0FBY0osY0FBYztJQUNsQyxNQUFNSyxTQUFTdkIsa0VBQU9BLENBQUVzQixhQUFhRjtJQUNyQyxJQUFLRyxRQUFTO1FBRWIsTUFBTUMsU0FBU3ZCLGlFQUFNQSxDQUFFaUIsYUFBYUc7UUFDcEMsTUFBTUksUUFBUXZCLGdFQUFLQSxDQUFFb0IsYUFBYUY7UUFHbENkLGlGQUFhQSxDQUFFRyxLQUFLRSxNQUFNQyxLQUFLWSxRQUFRQyxPQUFPWjtJQUcvQyxPQUFPO1FBRU4sTUFBTWEsWUFBWXZCLG9FQUFTQSxDQUFFZTtRQUM3QixJQUFLbkIsc0VBQVlBLENBQUUyQixXQUFXUCxjQUFjUCxLQUFLTCxtQkFBcUI7WUFFckVTLFNBQVVVLFdBQVdqQixLQUFLRSxNQUFNQyxLQUFLQztRQUV0QztRQUVBLE1BQU1jLGFBQWF2QixxRUFBVUEsQ0FBRWMsYUFBYUc7UUFDNUMsSUFBS3RCLHNFQUFZQSxDQUFFNEIsWUFBWVIsY0FBY1AsS0FBS0wsbUJBQXFCO1lBRXRFUyxTQUFVVyxZQUFZbEIsS0FBS0UsTUFBTUMsS0FBS0M7UUFFdkM7SUFFRDtBQUVEO0FBRW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2Nhc3QvcmF5Y2FzdC5nZW5lcmF0ZWQuanM/MDhhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgaW50ZXJzZWN0UmF5IH0gZnJvbSAnLi4vdXRpbHMvaW50ZXJzZWN0VXRpbHMuanMnO1xuaW1wb3J0IHsgSVNfTEVBRiwgT0ZGU0VULCBDT1VOVCwgTEVGVF9OT0RFLCBSSUdIVF9OT0RFIH0gZnJvbSAnLi4vdXRpbHMvbm9kZUJ1ZmZlclV0aWxzLmpzJztcbmltcG9ydCB7IEJ1ZmZlclN0YWNrIH0gZnJvbSAnLi4vdXRpbHMvQnVmZmVyU3RhY2suanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0VHJpcyB9IGZyb20gJy4uL3V0aWxzL2l0ZXJhdGlvblV0aWxzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgJy4uL3V0aWxzL2l0ZXJhdGlvblV0aWxzX2luZGlyZWN0LmdlbmVyYXRlZC5qcyc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGZyb20gXCJyYXljYXN0LnRlbXBsYXRlLmpzXCIuICovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5jb25zdCBfYm94SW50ZXJzZWN0aW9uID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5mdW5jdGlvbiByYXljYXN0KCBidmgsIHJvb3QsIHNpZGUsIHJheSwgaW50ZXJzZWN0cyApIHtcblxuXHRCdWZmZXJTdGFjay5zZXRCdWZmZXIoIGJ2aC5fcm9vdHNbIHJvb3QgXSApO1xuXHRfcmF5Y2FzdCggMCwgYnZoLCBzaWRlLCByYXksIGludGVyc2VjdHMgKTtcblx0QnVmZmVyU3RhY2suY2xlYXJCdWZmZXIoKTtcblxufVxuXG5mdW5jdGlvbiBfcmF5Y2FzdCggbm9kZUluZGV4MzIsIGJ2aCwgc2lkZSwgcmF5LCBpbnRlcnNlY3RzICkge1xuXG5cdGNvbnN0IHsgZmxvYXQzMkFycmF5LCB1aW50MTZBcnJheSwgdWludDMyQXJyYXkgfSA9IEJ1ZmZlclN0YWNrO1xuXHRjb25zdCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMjtcblx0Y29uc3QgaXNMZWFmID0gSVNfTEVBRiggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XG5cdGlmICggaXNMZWFmICkge1xuXG5cdFx0Y29uc3Qgb2Zmc2V0ID0gT0ZGU0VUKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcblx0XHRjb25zdCBjb3VudCA9IENPVU5UKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcblxuXG5cdFx0aW50ZXJzZWN0VHJpcyggYnZoLCBzaWRlLCByYXksIG9mZnNldCwgY291bnQsIGludGVyc2VjdHMgKTtcblxuXG5cdH0gZWxzZSB7XG5cblx0XHRjb25zdCBsZWZ0SW5kZXggPSBMRUZUX05PREUoIG5vZGVJbmRleDMyICk7XG5cdFx0aWYgKCBpbnRlcnNlY3RSYXkoIGxlZnRJbmRleCwgZmxvYXQzMkFycmF5LCByYXksIF9ib3hJbnRlcnNlY3Rpb24gKSApIHtcblxuXHRcdFx0X3JheWNhc3QoIGxlZnRJbmRleCwgYnZoLCBzaWRlLCByYXksIGludGVyc2VjdHMgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHJpZ2h0SW5kZXggPSBSSUdIVF9OT0RFKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcblx0XHRpZiAoIGludGVyc2VjdFJheSggcmlnaHRJbmRleCwgZmxvYXQzMkFycmF5LCByYXksIF9ib3hJbnRlcnNlY3Rpb24gKSApIHtcblxuXHRcdFx0X3JheWNhc3QoIHJpZ2h0SW5kZXgsIGJ2aCwgc2lkZSwgcmF5LCBpbnRlcnNlY3RzICk7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbmV4cG9ydCB7IHJheWNhc3QgfTtcbiJdLCJuYW1lcyI6WyJWZWN0b3IzIiwiaW50ZXJzZWN0UmF5IiwiSVNfTEVBRiIsIk9GRlNFVCIsIkNPVU5UIiwiTEVGVF9OT0RFIiwiUklHSFRfTk9ERSIsIkJ1ZmZlclN0YWNrIiwiaW50ZXJzZWN0VHJpcyIsIl9ib3hJbnRlcnNlY3Rpb24iLCJyYXljYXN0IiwiYnZoIiwicm9vdCIsInNpZGUiLCJyYXkiLCJpbnRlcnNlY3RzIiwic2V0QnVmZmVyIiwiX3Jvb3RzIiwiX3JheWNhc3QiLCJjbGVhckJ1ZmZlciIsIm5vZGVJbmRleDMyIiwiZmxvYXQzMkFycmF5IiwidWludDE2QXJyYXkiLCJ1aW50MzJBcnJheSIsIm5vZGVJbmRleDE2IiwiaXNMZWFmIiwib2Zmc2V0IiwiY291bnQiLCJsZWZ0SW5kZXgiLCJyaWdodEluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycast.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycastFirst.generated.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/raycastFirst.generated.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   raycastFirst: () => (/* binding */ raycastFirst)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n/* harmony import */ var _utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/intersectUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/intersectUtils.js\");\n/* harmony import */ var _utils_iterationUtils_generated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/iterationUtils.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils.generated.js\");\n\n\n\n\n\n\n/***********************************************************/ /* This file is generated from \"raycastFirst.template.js\". */ /***********************************************************/ const _boxIntersection = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _xyzFields = [\n    \"x\",\n    \"y\",\n    \"z\"\n];\nfunction raycastFirst(bvh, root, side, ray) {\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.setBuffer(bvh._roots[root]);\n    const result = _raycastFirst(0, bvh, side, ray);\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.clearBuffer();\n    return result;\n}\nfunction _raycastFirst(nodeIndex32, bvh, side, ray) {\n    const { float32Array, uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack;\n    let nodeIndex16 = nodeIndex32 * 2;\n    const isLeaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.IS_LEAF)(nodeIndex16, uint16Array);\n    if (isLeaf) {\n        const offset = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.OFFSET)(nodeIndex32, uint32Array);\n        const count = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.COUNT)(nodeIndex16, uint16Array);\n        return (0,_utils_iterationUtils_generated_js__WEBPACK_IMPORTED_MODULE_3__.intersectClosestTri)(bvh, side, ray, offset, count);\n    } else {\n        // consider the position of the split plane with respect to the oncoming ray; whichever direction\n        // the ray is coming from, look for an intersection among that side of the tree first\n        const splitAxis = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.SPLIT_AXIS)(nodeIndex32, uint32Array);\n        const xyzAxis = _xyzFields[splitAxis];\n        const rayDir = ray.direction[xyzAxis];\n        const leftToRight = rayDir >= 0;\n        // c1 is the child to check first\n        let c1, c2;\n        if (leftToRight) {\n            c1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.LEFT_NODE)(nodeIndex32);\n            c2 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.RIGHT_NODE)(nodeIndex32, uint32Array);\n        } else {\n            c1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.RIGHT_NODE)(nodeIndex32, uint32Array);\n            c2 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.LEFT_NODE)(nodeIndex32);\n        }\n        const c1Intersection = (0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(c1, float32Array, ray, _boxIntersection);\n        const c1Result = c1Intersection ? _raycastFirst(c1, bvh, side, ray) : null;\n        // if we got an intersection in the first node and it's closer than the second node's bounding\n        // box, we don't need to consider the second node because it couldn't possibly be a better result\n        if (c1Result) {\n            // check if the point is within the second bounds\n            // \"point\" is in the local frame of the bvh\n            const point = c1Result.point[xyzAxis];\n            const isOutside = leftToRight ? point <= float32Array[c2 + splitAxis] : point >= float32Array[c2 + splitAxis + 3]; // max bounding data\n            if (isOutside) {\n                return c1Result;\n            }\n        }\n        // either there was no intersection in the first node, or there could still be a closer\n        // intersection in the second, so check the second node and then take the better of the two\n        const c2Intersection = (0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(c2, float32Array, ray, _boxIntersection);\n        const c2Result = c2Intersection ? _raycastFirst(c2, bvh, side, ray) : null;\n        if (c1Result && c2Result) {\n            return c1Result.distance <= c2Result.distance ? c1Result : c2Result;\n        } else {\n            return c1Result || c2Result || null;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9yYXljYXN0Rmlyc3QuZ2VuZXJhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnQztBQUN3RTtBQUNsRDtBQUNJO0FBQ2lCO0FBQ3BCO0FBRXZELDJEQUEyRCxHQUMzRCwyREFBMkQsR0FDM0QsMkRBQTJELEdBQzNELE1BQU1VLG1CQUFtQixhQUFhLEdBQUcsSUFBSVYsMENBQU9BO0FBQ3BELE1BQU1XLGFBQWE7SUFBRTtJQUFLO0lBQUs7Q0FBSztBQUNwQyxTQUFTQyxhQUFjQyxHQUFHLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxHQUFHO0lBRTFDVCw4REFBV0EsQ0FBQ1UsU0FBUyxDQUFFSixJQUFJSyxNQUFNLENBQUVKLEtBQU07SUFDekMsTUFBTUssU0FBU0MsY0FBZSxHQUFHUCxLQUFLRSxNQUFNQztJQUM1Q1QsOERBQVdBLENBQUNjLFdBQVc7SUFFdkIsT0FBT0Y7QUFFUjtBQUVBLFNBQVNDLGNBQWVFLFdBQVcsRUFBRVQsR0FBRyxFQUFFRSxJQUFJLEVBQUVDLEdBQUc7SUFFbEQsTUFBTSxFQUFFTyxZQUFZLEVBQUVDLFdBQVcsRUFBRUMsV0FBVyxFQUFFLEdBQUdsQiw4REFBV0E7SUFDOUQsSUFBSW1CLGNBQWNKLGNBQWM7SUFFaEMsTUFBTUssU0FBUzFCLGtFQUFPQSxDQUFFeUIsYUFBYUY7SUFDckMsSUFBS0csUUFBUztRQUViLE1BQU1DLFNBQVMxQixpRUFBTUEsQ0FBRW9CLGFBQWFHO1FBQ3BDLE1BQU1JLFFBQVExQixnRUFBS0EsQ0FBRXVCLGFBQWFGO1FBR2xDLE9BQU9mLHVGQUFtQkEsQ0FBRUksS0FBS0UsTUFBTUMsS0FBS1ksUUFBUUM7SUFHckQsT0FBTztRQUVOLGlHQUFpRztRQUNqRyxxRkFBcUY7UUFDckYsTUFBTUMsWUFBWTFCLHFFQUFVQSxDQUFFa0IsYUFBYUc7UUFDM0MsTUFBTU0sVUFBVXBCLFVBQVUsQ0FBRW1CLFVBQVc7UUFDdkMsTUFBTUUsU0FBU2hCLElBQUlpQixTQUFTLENBQUVGLFFBQVM7UUFDdkMsTUFBTUcsY0FBY0YsVUFBVTtRQUU5QixpQ0FBaUM7UUFDakMsSUFBSUcsSUFBSUM7UUFDUixJQUFLRixhQUFjO1lBRWxCQyxLQUFLOUIsb0VBQVNBLENBQUVpQjtZQUNoQmMsS0FBSzlCLHFFQUFVQSxDQUFFZ0IsYUFBYUc7UUFFL0IsT0FBTztZQUVOVSxLQUFLN0IscUVBQVVBLENBQUVnQixhQUFhRztZQUM5QlcsS0FBSy9CLG9FQUFTQSxDQUFFaUI7UUFFakI7UUFFQSxNQUFNZSxpQkFBaUI3QixzRUFBWUEsQ0FBRTJCLElBQUlaLGNBQWNQLEtBQUtOO1FBQzVELE1BQU00QixXQUFXRCxpQkFBaUJqQixjQUFlZSxJQUFJdEIsS0FBS0UsTUFBTUMsT0FBUTtRQUV4RSw4RkFBOEY7UUFDOUYsaUdBQWlHO1FBQ2pHLElBQUtzQixVQUFXO1lBRWYsaURBQWlEO1lBQ2pELDJDQUEyQztZQUMzQyxNQUFNQyxRQUFRRCxTQUFTQyxLQUFLLENBQUVSLFFBQVM7WUFDdkMsTUFBTVMsWUFBWU4sY0FDakJLLFNBQVNoQixZQUFZLENBQUVhLEtBQUtOLFVBQVcsR0FDdkNTLFNBQVNoQixZQUFZLENBQUVhLEtBQUtOLFlBQVksRUFBRyxFQUFFLG9CQUFvQjtZQUVsRSxJQUFLVSxXQUFZO2dCQUVoQixPQUFPRjtZQUVSO1FBRUQ7UUFFQSx1RkFBdUY7UUFDdkYsMkZBQTJGO1FBQzNGLE1BQU1HLGlCQUFpQmpDLHNFQUFZQSxDQUFFNEIsSUFBSWIsY0FBY1AsS0FBS047UUFDNUQsTUFBTWdDLFdBQVdELGlCQUFpQnJCLGNBQWVnQixJQUFJdkIsS0FBS0UsTUFBTUMsT0FBUTtRQUV4RSxJQUFLc0IsWUFBWUksVUFBVztZQUUzQixPQUFPSixTQUFTSyxRQUFRLElBQUlELFNBQVNDLFFBQVEsR0FBR0wsV0FBV0k7UUFFNUQsT0FBTztZQUVOLE9BQU9KLFlBQVlJLFlBQVk7UUFFaEM7SUFFRDtBQUVEO0FBRXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2Nhc3QvcmF5Y2FzdEZpcnN0LmdlbmVyYXRlZC5qcz9kNWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBJU19MRUFGLCBPRkZTRVQsIENPVU5ULCBTUExJVF9BWElTLCBMRUZUX05PREUsIFJJR0hUX05PREUgfSBmcm9tICcuLi91dGlscy9ub2RlQnVmZmVyVXRpbHMuanMnO1xuaW1wb3J0IHsgQnVmZmVyU3RhY2sgfSBmcm9tICcuLi91dGlscy9CdWZmZXJTdGFjay5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RSYXkgfSBmcm9tICcuLi91dGlscy9pbnRlcnNlY3RVdGlscy5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RDbG9zZXN0VHJpIH0gZnJvbSAnLi4vdXRpbHMvaXRlcmF0aW9uVXRpbHMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCAnLi4vdXRpbHMvaXRlcmF0aW9uVXRpbHNfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzJztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIFwicmF5Y2FzdEZpcnN0LnRlbXBsYXRlLmpzXCIuICovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5jb25zdCBfYm94SW50ZXJzZWN0aW9uID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfeHl6RmllbGRzID0gWyAneCcsICd5JywgJ3onIF07XG5mdW5jdGlvbiByYXljYXN0Rmlyc3QoIGJ2aCwgcm9vdCwgc2lkZSwgcmF5ICkge1xuXG5cdEJ1ZmZlclN0YWNrLnNldEJ1ZmZlciggYnZoLl9yb290c1sgcm9vdCBdICk7XG5cdGNvbnN0IHJlc3VsdCA9IF9yYXljYXN0Rmlyc3QoIDAsIGJ2aCwgc2lkZSwgcmF5ICk7XG5cdEJ1ZmZlclN0YWNrLmNsZWFyQnVmZmVyKCk7XG5cblx0cmV0dXJuIHJlc3VsdDtcblxufVxuXG5mdW5jdGlvbiBfcmF5Y2FzdEZpcnN0KCBub2RlSW5kZXgzMiwgYnZoLCBzaWRlLCByYXkgKSB7XG5cblx0Y29uc3QgeyBmbG9hdDMyQXJyYXksIHVpbnQxNkFycmF5LCB1aW50MzJBcnJheSB9ID0gQnVmZmVyU3RhY2s7XG5cdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMjtcblxuXHRjb25zdCBpc0xlYWYgPSBJU19MRUFGKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcblx0aWYgKCBpc0xlYWYgKSB7XG5cblx0XHRjb25zdCBvZmZzZXQgPSBPRkZTRVQoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xuXHRcdGNvbnN0IGNvdW50ID0gQ09VTlQoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xuXG5cblx0XHRyZXR1cm4gaW50ZXJzZWN0Q2xvc2VzdFRyaSggYnZoLCBzaWRlLCByYXksIG9mZnNldCwgY291bnQgKTtcblxuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBjb25zaWRlciB0aGUgcG9zaXRpb24gb2YgdGhlIHNwbGl0IHBsYW5lIHdpdGggcmVzcGVjdCB0byB0aGUgb25jb21pbmcgcmF5OyB3aGljaGV2ZXIgZGlyZWN0aW9uXG5cdFx0Ly8gdGhlIHJheSBpcyBjb21pbmcgZnJvbSwgbG9vayBmb3IgYW4gaW50ZXJzZWN0aW9uIGFtb25nIHRoYXQgc2lkZSBvZiB0aGUgdHJlZSBmaXJzdFxuXHRcdGNvbnN0IHNwbGl0QXhpcyA9IFNQTElUX0FYSVMoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xuXHRcdGNvbnN0IHh5ekF4aXMgPSBfeHl6RmllbGRzWyBzcGxpdEF4aXMgXTtcblx0XHRjb25zdCByYXlEaXIgPSByYXkuZGlyZWN0aW9uWyB4eXpBeGlzIF07XG5cdFx0Y29uc3QgbGVmdFRvUmlnaHQgPSByYXlEaXIgPj0gMDtcblxuXHRcdC8vIGMxIGlzIHRoZSBjaGlsZCB0byBjaGVjayBmaXJzdFxuXHRcdGxldCBjMSwgYzI7XG5cdFx0aWYgKCBsZWZ0VG9SaWdodCApIHtcblxuXHRcdFx0YzEgPSBMRUZUX05PREUoIG5vZGVJbmRleDMyICk7XG5cdFx0XHRjMiA9IFJJR0hUX05PREUoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0YzEgPSBSSUdIVF9OT0RFKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcblx0XHRcdGMyID0gTEVGVF9OT0RFKCBub2RlSW5kZXgzMiApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgYzFJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3RSYXkoIGMxLCBmbG9hdDMyQXJyYXksIHJheSwgX2JveEludGVyc2VjdGlvbiApO1xuXHRcdGNvbnN0IGMxUmVzdWx0ID0gYzFJbnRlcnNlY3Rpb24gPyBfcmF5Y2FzdEZpcnN0KCBjMSwgYnZoLCBzaWRlLCByYXkgKSA6IG51bGw7XG5cblx0XHQvLyBpZiB3ZSBnb3QgYW4gaW50ZXJzZWN0aW9uIGluIHRoZSBmaXJzdCBub2RlIGFuZCBpdCdzIGNsb3NlciB0aGFuIHRoZSBzZWNvbmQgbm9kZSdzIGJvdW5kaW5nXG5cdFx0Ly8gYm94LCB3ZSBkb24ndCBuZWVkIHRvIGNvbnNpZGVyIHRoZSBzZWNvbmQgbm9kZSBiZWNhdXNlIGl0IGNvdWxkbid0IHBvc3NpYmx5IGJlIGEgYmV0dGVyIHJlc3VsdFxuXHRcdGlmICggYzFSZXN1bHQgKSB7XG5cblx0XHRcdC8vIGNoZWNrIGlmIHRoZSBwb2ludCBpcyB3aXRoaW4gdGhlIHNlY29uZCBib3VuZHNcblx0XHRcdC8vIFwicG9pbnRcIiBpcyBpbiB0aGUgbG9jYWwgZnJhbWUgb2YgdGhlIGJ2aFxuXHRcdFx0Y29uc3QgcG9pbnQgPSBjMVJlc3VsdC5wb2ludFsgeHl6QXhpcyBdO1xuXHRcdFx0Y29uc3QgaXNPdXRzaWRlID0gbGVmdFRvUmlnaHQgP1xuXHRcdFx0XHRwb2ludCA8PSBmbG9hdDMyQXJyYXlbIGMyICsgc3BsaXRBeGlzIF0gOiAvLyBtaW4gYm91bmRpbmcgZGF0YVxuXHRcdFx0XHRwb2ludCA+PSBmbG9hdDMyQXJyYXlbIGMyICsgc3BsaXRBeGlzICsgMyBdOyAvLyBtYXggYm91bmRpbmcgZGF0YVxuXG5cdFx0XHRpZiAoIGlzT3V0c2lkZSApIHtcblxuXHRcdFx0XHRyZXR1cm4gYzFSZXN1bHQ7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIGVpdGhlciB0aGVyZSB3YXMgbm8gaW50ZXJzZWN0aW9uIGluIHRoZSBmaXJzdCBub2RlLCBvciB0aGVyZSBjb3VsZCBzdGlsbCBiZSBhIGNsb3NlclxuXHRcdC8vIGludGVyc2VjdGlvbiBpbiB0aGUgc2Vjb25kLCBzbyBjaGVjayB0aGUgc2Vjb25kIG5vZGUgYW5kIHRoZW4gdGFrZSB0aGUgYmV0dGVyIG9mIHRoZSB0d29cblx0XHRjb25zdCBjMkludGVyc2VjdGlvbiA9IGludGVyc2VjdFJheSggYzIsIGZsb2F0MzJBcnJheSwgcmF5LCBfYm94SW50ZXJzZWN0aW9uICk7XG5cdFx0Y29uc3QgYzJSZXN1bHQgPSBjMkludGVyc2VjdGlvbiA/IF9yYXljYXN0Rmlyc3QoIGMyLCBidmgsIHNpZGUsIHJheSApIDogbnVsbDtcblxuXHRcdGlmICggYzFSZXN1bHQgJiYgYzJSZXN1bHQgKSB7XG5cblx0XHRcdHJldHVybiBjMVJlc3VsdC5kaXN0YW5jZSA8PSBjMlJlc3VsdC5kaXN0YW5jZSA/IGMxUmVzdWx0IDogYzJSZXN1bHQ7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXR1cm4gYzFSZXN1bHQgfHwgYzJSZXN1bHQgfHwgbnVsbDtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuZXhwb3J0IHsgcmF5Y2FzdEZpcnN0IH07XG4iXSwibmFtZXMiOlsiVmVjdG9yMyIsIklTX0xFQUYiLCJPRkZTRVQiLCJDT1VOVCIsIlNQTElUX0FYSVMiLCJMRUZUX05PREUiLCJSSUdIVF9OT0RFIiwiQnVmZmVyU3RhY2siLCJpbnRlcnNlY3RSYXkiLCJpbnRlcnNlY3RDbG9zZXN0VHJpIiwiX2JveEludGVyc2VjdGlvbiIsIl94eXpGaWVsZHMiLCJyYXljYXN0Rmlyc3QiLCJidmgiLCJyb290Iiwic2lkZSIsInJheSIsInNldEJ1ZmZlciIsIl9yb290cyIsInJlc3VsdCIsIl9yYXljYXN0Rmlyc3QiLCJjbGVhckJ1ZmZlciIsIm5vZGVJbmRleDMyIiwiZmxvYXQzMkFycmF5IiwidWludDE2QXJyYXkiLCJ1aW50MzJBcnJheSIsIm5vZGVJbmRleDE2IiwiaXNMZWFmIiwib2Zmc2V0IiwiY291bnQiLCJzcGxpdEF4aXMiLCJ4eXpBeGlzIiwicmF5RGlyIiwiZGlyZWN0aW9uIiwibGVmdFRvUmlnaHQiLCJjMSIsImMyIiwiYzFJbnRlcnNlY3Rpb24iLCJjMVJlc3VsdCIsInBvaW50IiwiaXNPdXRzaWRlIiwiYzJJbnRlcnNlY3Rpb24iLCJjMlJlc3VsdCIsImRpc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycastFirst.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycastFirst_indirect.generated.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/raycastFirst_indirect.generated.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   raycastFirst_indirect: () => (/* binding */ raycastFirst_indirect)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n/* harmony import */ var _utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/intersectUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/intersectUtils.js\");\n/* harmony import */ var _utils_iterationUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/iterationUtils_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils_indirect.generated.js\");\n\n\n\n\n\n\n/***********************************************************/ /* This file is generated from \"raycastFirst.template.js\". */ /***********************************************************/ const _boxIntersection = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _xyzFields = [\n    \"x\",\n    \"y\",\n    \"z\"\n];\nfunction raycastFirst_indirect(bvh, root, side, ray) {\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.setBuffer(bvh._roots[root]);\n    const result = _raycastFirst(0, bvh, side, ray);\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.clearBuffer();\n    return result;\n}\nfunction _raycastFirst(nodeIndex32, bvh, side, ray) {\n    const { float32Array, uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack;\n    let nodeIndex16 = nodeIndex32 * 2;\n    const isLeaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.IS_LEAF)(nodeIndex16, uint16Array);\n    if (isLeaf) {\n        const offset = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.OFFSET)(nodeIndex32, uint32Array);\n        const count = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.COUNT)(nodeIndex16, uint16Array);\n        return (0,_utils_iterationUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_3__.intersectClosestTri_indirect)(bvh, side, ray, offset, count);\n    } else {\n        // consider the position of the split plane with respect to the oncoming ray; whichever direction\n        // the ray is coming from, look for an intersection among that side of the tree first\n        const splitAxis = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.SPLIT_AXIS)(nodeIndex32, uint32Array);\n        const xyzAxis = _xyzFields[splitAxis];\n        const rayDir = ray.direction[xyzAxis];\n        const leftToRight = rayDir >= 0;\n        // c1 is the child to check first\n        let c1, c2;\n        if (leftToRight) {\n            c1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.LEFT_NODE)(nodeIndex32);\n            c2 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.RIGHT_NODE)(nodeIndex32, uint32Array);\n        } else {\n            c1 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.RIGHT_NODE)(nodeIndex32, uint32Array);\n            c2 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.LEFT_NODE)(nodeIndex32);\n        }\n        const c1Intersection = (0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(c1, float32Array, ray, _boxIntersection);\n        const c1Result = c1Intersection ? _raycastFirst(c1, bvh, side, ray) : null;\n        // if we got an intersection in the first node and it's closer than the second node's bounding\n        // box, we don't need to consider the second node because it couldn't possibly be a better result\n        if (c1Result) {\n            // check if the point is within the second bounds\n            // \"point\" is in the local frame of the bvh\n            const point = c1Result.point[xyzAxis];\n            const isOutside = leftToRight ? point <= float32Array[c2 + splitAxis] : point >= float32Array[c2 + splitAxis + 3]; // max bounding data\n            if (isOutside) {\n                return c1Result;\n            }\n        }\n        // either there was no intersection in the first node, or there could still be a closer\n        // intersection in the second, so check the second node and then take the better of the two\n        const c2Intersection = (0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(c2, float32Array, ray, _boxIntersection);\n        const c2Result = c2Intersection ? _raycastFirst(c2, bvh, side, ray) : null;\n        if (c1Result && c2Result) {\n            return c1Result.distance <= c2Result.distance ? c1Result : c2Result;\n        } else {\n            return c1Result || c2Result || null;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9yYXljYXN0Rmlyc3RfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnQztBQUN3RTtBQUNsRDtBQUNJO0FBQ1o7QUFDK0M7QUFFN0YsMkRBQTJELEdBQzNELDJEQUEyRCxHQUMzRCwyREFBMkQsR0FDM0QsTUFBTVUsbUJBQW1CLGFBQWEsR0FBRyxJQUFJViwwQ0FBT0E7QUFDcEQsTUFBTVcsYUFBYTtJQUFFO0lBQUs7SUFBSztDQUFLO0FBQ3BDLFNBQVNDLHNCQUF1QkMsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsR0FBRztJQUVuRFQsOERBQVdBLENBQUNVLFNBQVMsQ0FBRUosSUFBSUssTUFBTSxDQUFFSixLQUFNO0lBQ3pDLE1BQU1LLFNBQVNDLGNBQWUsR0FBR1AsS0FBS0UsTUFBTUM7SUFDNUNULDhEQUFXQSxDQUFDYyxXQUFXO0lBRXZCLE9BQU9GO0FBRVI7QUFFQSxTQUFTQyxjQUFlRSxXQUFXLEVBQUVULEdBQUcsRUFBRUUsSUFBSSxFQUFFQyxHQUFHO0lBRWxELE1BQU0sRUFBRU8sWUFBWSxFQUFFQyxXQUFXLEVBQUVDLFdBQVcsRUFBRSxHQUFHbEIsOERBQVdBO0lBQzlELElBQUltQixjQUFjSixjQUFjO0lBRWhDLE1BQU1LLFNBQVMxQixrRUFBT0EsQ0FBRXlCLGFBQWFGO0lBQ3JDLElBQUtHLFFBQVM7UUFFYixNQUFNQyxTQUFTMUIsaUVBQU1BLENBQUVvQixhQUFhRztRQUNwQyxNQUFNSSxRQUFRMUIsZ0VBQUtBLENBQUV1QixhQUFhRjtRQUVsQyxPQUFPZix5R0FBNEJBLENBQUVJLEtBQUtFLE1BQU1DLEtBQUtZLFFBQVFDO0lBRzlELE9BQU87UUFFTixpR0FBaUc7UUFDakcscUZBQXFGO1FBQ3JGLE1BQU1DLFlBQVkxQixxRUFBVUEsQ0FBRWtCLGFBQWFHO1FBQzNDLE1BQU1NLFVBQVVwQixVQUFVLENBQUVtQixVQUFXO1FBQ3ZDLE1BQU1FLFNBQVNoQixJQUFJaUIsU0FBUyxDQUFFRixRQUFTO1FBQ3ZDLE1BQU1HLGNBQWNGLFVBQVU7UUFFOUIsaUNBQWlDO1FBQ2pDLElBQUlHLElBQUlDO1FBQ1IsSUFBS0YsYUFBYztZQUVsQkMsS0FBSzlCLG9FQUFTQSxDQUFFaUI7WUFDaEJjLEtBQUs5QixxRUFBVUEsQ0FBRWdCLGFBQWFHO1FBRS9CLE9BQU87WUFFTlUsS0FBSzdCLHFFQUFVQSxDQUFFZ0IsYUFBYUc7WUFDOUJXLEtBQUsvQixvRUFBU0EsQ0FBRWlCO1FBRWpCO1FBRUEsTUFBTWUsaUJBQWlCN0Isc0VBQVlBLENBQUUyQixJQUFJWixjQUFjUCxLQUFLTjtRQUM1RCxNQUFNNEIsV0FBV0QsaUJBQWlCakIsY0FBZWUsSUFBSXRCLEtBQUtFLE1BQU1DLE9BQVE7UUFFeEUsOEZBQThGO1FBQzlGLGlHQUFpRztRQUNqRyxJQUFLc0IsVUFBVztZQUVmLGlEQUFpRDtZQUNqRCwyQ0FBMkM7WUFDM0MsTUFBTUMsUUFBUUQsU0FBU0MsS0FBSyxDQUFFUixRQUFTO1lBQ3ZDLE1BQU1TLFlBQVlOLGNBQ2pCSyxTQUFTaEIsWUFBWSxDQUFFYSxLQUFLTixVQUFXLEdBQ3ZDUyxTQUFTaEIsWUFBWSxDQUFFYSxLQUFLTixZQUFZLEVBQUcsRUFBRSxvQkFBb0I7WUFFbEUsSUFBS1UsV0FBWTtnQkFFaEIsT0FBT0Y7WUFFUjtRQUVEO1FBRUEsdUZBQXVGO1FBQ3ZGLDJGQUEyRjtRQUMzRixNQUFNRyxpQkFBaUJqQyxzRUFBWUEsQ0FBRTRCLElBQUliLGNBQWNQLEtBQUtOO1FBQzVELE1BQU1nQyxXQUFXRCxpQkFBaUJyQixjQUFlZ0IsSUFBSXZCLEtBQUtFLE1BQU1DLE9BQVE7UUFFeEUsSUFBS3NCLFlBQVlJLFVBQVc7WUFFM0IsT0FBT0osU0FBU0ssUUFBUSxJQUFJRCxTQUFTQyxRQUFRLEdBQUdMLFdBQVdJO1FBRTVELE9BQU87WUFFTixPQUFPSixZQUFZSSxZQUFZO1FBRWhDO0lBRUQ7QUFFRDtBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9jYXN0L3JheWNhc3RGaXJzdF9pbmRpcmVjdC5nZW5lcmF0ZWQuanM/OWRmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgSVNfTEVBRiwgT0ZGU0VULCBDT1VOVCwgU1BMSVRfQVhJUywgTEVGVF9OT0RFLCBSSUdIVF9OT0RFIH0gZnJvbSAnLi4vdXRpbHMvbm9kZUJ1ZmZlclV0aWxzLmpzJztcbmltcG9ydCB7IEJ1ZmZlclN0YWNrIH0gZnJvbSAnLi4vdXRpbHMvQnVmZmVyU3RhY2suanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0UmF5IH0gZnJvbSAnLi4vdXRpbHMvaW50ZXJzZWN0VXRpbHMuanMnO1xuaW1wb3J0ICcuLi91dGlscy9pdGVyYXRpb25VdGlscy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0Q2xvc2VzdFRyaV9pbmRpcmVjdCB9IGZyb20gJy4uL3V0aWxzL2l0ZXJhdGlvblV0aWxzX2luZGlyZWN0LmdlbmVyYXRlZC5qcyc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBcInJheWNhc3RGaXJzdC50ZW1wbGF0ZS5qc1wiLiAqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuY29uc3QgX2JveEludGVyc2VjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3h5ekZpZWxkcyA9IFsgJ3gnLCAneScsICd6JyBdO1xuZnVuY3Rpb24gcmF5Y2FzdEZpcnN0X2luZGlyZWN0KCBidmgsIHJvb3QsIHNpZGUsIHJheSApIHtcblxuXHRCdWZmZXJTdGFjay5zZXRCdWZmZXIoIGJ2aC5fcm9vdHNbIHJvb3QgXSApO1xuXHRjb25zdCByZXN1bHQgPSBfcmF5Y2FzdEZpcnN0KCAwLCBidmgsIHNpZGUsIHJheSApO1xuXHRCdWZmZXJTdGFjay5jbGVhckJ1ZmZlcigpO1xuXG5cdHJldHVybiByZXN1bHQ7XG5cbn1cblxuZnVuY3Rpb24gX3JheWNhc3RGaXJzdCggbm9kZUluZGV4MzIsIGJ2aCwgc2lkZSwgcmF5ICkge1xuXG5cdGNvbnN0IHsgZmxvYXQzMkFycmF5LCB1aW50MTZBcnJheSwgdWludDMyQXJyYXkgfSA9IEJ1ZmZlclN0YWNrO1xuXHRsZXQgbm9kZUluZGV4MTYgPSBub2RlSW5kZXgzMiAqIDI7XG5cblx0Y29uc3QgaXNMZWFmID0gSVNfTEVBRiggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XG5cdGlmICggaXNMZWFmICkge1xuXG5cdFx0Y29uc3Qgb2Zmc2V0ID0gT0ZGU0VUKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcblx0XHRjb25zdCBjb3VudCA9IENPVU5UKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcblxuXHRcdHJldHVybiBpbnRlcnNlY3RDbG9zZXN0VHJpX2luZGlyZWN0KCBidmgsIHNpZGUsIHJheSwgb2Zmc2V0LCBjb3VudCApO1xuXG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIGNvbnNpZGVyIHRoZSBwb3NpdGlvbiBvZiB0aGUgc3BsaXQgcGxhbmUgd2l0aCByZXNwZWN0IHRvIHRoZSBvbmNvbWluZyByYXk7IHdoaWNoZXZlciBkaXJlY3Rpb25cblx0XHQvLyB0aGUgcmF5IGlzIGNvbWluZyBmcm9tLCBsb29rIGZvciBhbiBpbnRlcnNlY3Rpb24gYW1vbmcgdGhhdCBzaWRlIG9mIHRoZSB0cmVlIGZpcnN0XG5cdFx0Y29uc3Qgc3BsaXRBeGlzID0gU1BMSVRfQVhJUyggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XG5cdFx0Y29uc3QgeHl6QXhpcyA9IF94eXpGaWVsZHNbIHNwbGl0QXhpcyBdO1xuXHRcdGNvbnN0IHJheURpciA9IHJheS5kaXJlY3Rpb25bIHh5ekF4aXMgXTtcblx0XHRjb25zdCBsZWZ0VG9SaWdodCA9IHJheURpciA+PSAwO1xuXG5cdFx0Ly8gYzEgaXMgdGhlIGNoaWxkIHRvIGNoZWNrIGZpcnN0XG5cdFx0bGV0IGMxLCBjMjtcblx0XHRpZiAoIGxlZnRUb1JpZ2h0ICkge1xuXG5cdFx0XHRjMSA9IExFRlRfTk9ERSggbm9kZUluZGV4MzIgKTtcblx0XHRcdGMyID0gUklHSFRfTk9ERSggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjMSA9IFJJR0hUX05PREUoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xuXHRcdFx0YzIgPSBMRUZUX05PREUoIG5vZGVJbmRleDMyICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBjMUludGVyc2VjdGlvbiA9IGludGVyc2VjdFJheSggYzEsIGZsb2F0MzJBcnJheSwgcmF5LCBfYm94SW50ZXJzZWN0aW9uICk7XG5cdFx0Y29uc3QgYzFSZXN1bHQgPSBjMUludGVyc2VjdGlvbiA/IF9yYXljYXN0Rmlyc3QoIGMxLCBidmgsIHNpZGUsIHJheSApIDogbnVsbDtcblxuXHRcdC8vIGlmIHdlIGdvdCBhbiBpbnRlcnNlY3Rpb24gaW4gdGhlIGZpcnN0IG5vZGUgYW5kIGl0J3MgY2xvc2VyIHRoYW4gdGhlIHNlY29uZCBub2RlJ3MgYm91bmRpbmdcblx0XHQvLyBib3gsIHdlIGRvbid0IG5lZWQgdG8gY29uc2lkZXIgdGhlIHNlY29uZCBub2RlIGJlY2F1c2UgaXQgY291bGRuJ3QgcG9zc2libHkgYmUgYSBiZXR0ZXIgcmVzdWx0XG5cdFx0aWYgKCBjMVJlc3VsdCApIHtcblxuXHRcdFx0Ly8gY2hlY2sgaWYgdGhlIHBvaW50IGlzIHdpdGhpbiB0aGUgc2Vjb25kIGJvdW5kc1xuXHRcdFx0Ly8gXCJwb2ludFwiIGlzIGluIHRoZSBsb2NhbCBmcmFtZSBvZiB0aGUgYnZoXG5cdFx0XHRjb25zdCBwb2ludCA9IGMxUmVzdWx0LnBvaW50WyB4eXpBeGlzIF07XG5cdFx0XHRjb25zdCBpc091dHNpZGUgPSBsZWZ0VG9SaWdodCA/XG5cdFx0XHRcdHBvaW50IDw9IGZsb2F0MzJBcnJheVsgYzIgKyBzcGxpdEF4aXMgXSA6IC8vIG1pbiBib3VuZGluZyBkYXRhXG5cdFx0XHRcdHBvaW50ID49IGZsb2F0MzJBcnJheVsgYzIgKyBzcGxpdEF4aXMgKyAzIF07IC8vIG1heCBib3VuZGluZyBkYXRhXG5cblx0XHRcdGlmICggaXNPdXRzaWRlICkge1xuXG5cdFx0XHRcdHJldHVybiBjMVJlc3VsdDtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Ly8gZWl0aGVyIHRoZXJlIHdhcyBubyBpbnRlcnNlY3Rpb24gaW4gdGhlIGZpcnN0IG5vZGUsIG9yIHRoZXJlIGNvdWxkIHN0aWxsIGJlIGEgY2xvc2VyXG5cdFx0Ly8gaW50ZXJzZWN0aW9uIGluIHRoZSBzZWNvbmQsIHNvIGNoZWNrIHRoZSBzZWNvbmQgbm9kZSBhbmQgdGhlbiB0YWtlIHRoZSBiZXR0ZXIgb2YgdGhlIHR3b1xuXHRcdGNvbnN0IGMySW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0UmF5KCBjMiwgZmxvYXQzMkFycmF5LCByYXksIF9ib3hJbnRlcnNlY3Rpb24gKTtcblx0XHRjb25zdCBjMlJlc3VsdCA9IGMySW50ZXJzZWN0aW9uID8gX3JheWNhc3RGaXJzdCggYzIsIGJ2aCwgc2lkZSwgcmF5ICkgOiBudWxsO1xuXG5cdFx0aWYgKCBjMVJlc3VsdCAmJiBjMlJlc3VsdCApIHtcblxuXHRcdFx0cmV0dXJuIGMxUmVzdWx0LmRpc3RhbmNlIDw9IGMyUmVzdWx0LmRpc3RhbmNlID8gYzFSZXN1bHQgOiBjMlJlc3VsdDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBjMVJlc3VsdCB8fCBjMlJlc3VsdCB8fCBudWxsO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG5leHBvcnQgeyByYXljYXN0Rmlyc3RfaW5kaXJlY3QgfTtcbiJdLCJuYW1lcyI6WyJWZWN0b3IzIiwiSVNfTEVBRiIsIk9GRlNFVCIsIkNPVU5UIiwiU1BMSVRfQVhJUyIsIkxFRlRfTk9ERSIsIlJJR0hUX05PREUiLCJCdWZmZXJTdGFjayIsImludGVyc2VjdFJheSIsImludGVyc2VjdENsb3Nlc3RUcmlfaW5kaXJlY3QiLCJfYm94SW50ZXJzZWN0aW9uIiwiX3h5ekZpZWxkcyIsInJheWNhc3RGaXJzdF9pbmRpcmVjdCIsImJ2aCIsInJvb3QiLCJzaWRlIiwicmF5Iiwic2V0QnVmZmVyIiwiX3Jvb3RzIiwicmVzdWx0IiwiX3JheWNhc3RGaXJzdCIsImNsZWFyQnVmZmVyIiwibm9kZUluZGV4MzIiLCJmbG9hdDMyQXJyYXkiLCJ1aW50MTZBcnJheSIsInVpbnQzMkFycmF5Iiwibm9kZUluZGV4MTYiLCJpc0xlYWYiLCJvZmZzZXQiLCJjb3VudCIsInNwbGl0QXhpcyIsInh5ekF4aXMiLCJyYXlEaXIiLCJkaXJlY3Rpb24iLCJsZWZ0VG9SaWdodCIsImMxIiwiYzIiLCJjMUludGVyc2VjdGlvbiIsImMxUmVzdWx0IiwicG9pbnQiLCJpc091dHNpZGUiLCJjMkludGVyc2VjdGlvbiIsImMyUmVzdWx0IiwiZGlzdGFuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycastFirst_indirect.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycast_indirect.generated.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/raycast_indirect.generated.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   raycast_indirect: () => (/* binding */ raycast_indirect)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/intersectUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/intersectUtils.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n/* harmony import */ var _utils_iterationUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/iterationUtils_indirect.generated.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils_indirect.generated.js\");\n\n\n\n\n\n\n/******************************************************/ /* This file is generated from \"raycast.template.js\". */ /******************************************************/ const _boxIntersection = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction raycast_indirect(bvh, root, side, ray, intersects) {\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.setBuffer(bvh._roots[root]);\n    _raycast(0, bvh, side, ray, intersects);\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack.clearBuffer();\n}\nfunction _raycast(nodeIndex32, bvh, side, ray, intersects) {\n    const { float32Array, uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_1__.BufferStack;\n    const nodeIndex16 = nodeIndex32 * 2;\n    const isLeaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.IS_LEAF)(nodeIndex16, uint16Array);\n    if (isLeaf) {\n        const offset = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.OFFSET)(nodeIndex32, uint32Array);\n        const count = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.COUNT)(nodeIndex16, uint16Array);\n        (0,_utils_iterationUtils_indirect_generated_js__WEBPACK_IMPORTED_MODULE_3__.intersectTris_indirect)(bvh, side, ray, offset, count, intersects);\n    } else {\n        const leftIndex = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.LEFT_NODE)(nodeIndex32);\n        if ((0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(leftIndex, float32Array, ray, _boxIntersection)) {\n            _raycast(leftIndex, bvh, side, ray, intersects);\n        }\n        const rightIndex = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_2__.RIGHT_NODE)(nodeIndex32, uint32Array);\n        if ((0,_utils_intersectUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersectRay)(rightIndex, float32Array, ray, _boxIntersection)) {\n            _raycast(rightIndex, bvh, side, ray, intersects);\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9yYXljYXN0X2luZGlyZWN0LmdlbmVyYXRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBZ0M7QUFDMEI7QUFDa0M7QUFDdEM7QUFDUjtBQUN5QztBQUV2RixzREFBc0QsR0FDdEQsc0RBQXNELEdBQ3RELHNEQUFzRCxHQUV0RCxNQUFNUyxtQkFBbUIsYUFBYSxHQUFHLElBQUlULDBDQUFPQTtBQUNwRCxTQUFTVSxpQkFBa0JDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsVUFBVTtJQUUxRFIsOERBQVdBLENBQUNTLFNBQVMsQ0FBRUwsSUFBSU0sTUFBTSxDQUFFTCxLQUFNO0lBQ3pDTSxTQUFVLEdBQUdQLEtBQUtFLE1BQU1DLEtBQUtDO0lBQzdCUiw4REFBV0EsQ0FBQ1ksV0FBVztBQUV4QjtBQUVBLFNBQVNELFNBQVVFLFdBQVcsRUFBRVQsR0FBRyxFQUFFRSxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsVUFBVTtJQUV6RCxNQUFNLEVBQUVNLFlBQVksRUFBRUMsV0FBVyxFQUFFQyxXQUFXLEVBQUUsR0FBR2hCLDhEQUFXQTtJQUM5RCxNQUFNaUIsY0FBY0osY0FBYztJQUNsQyxNQUFNSyxTQUFTdkIsa0VBQU9BLENBQUVzQixhQUFhRjtJQUNyQyxJQUFLRyxRQUFTO1FBRWIsTUFBTUMsU0FBU3ZCLGlFQUFNQSxDQUFFaUIsYUFBYUc7UUFDcEMsTUFBTUksUUFBUXZCLGdFQUFLQSxDQUFFb0IsYUFBYUY7UUFFbENkLG1HQUFzQkEsQ0FBRUcsS0FBS0UsTUFBTUMsS0FBS1ksUUFBUUMsT0FBT1o7SUFHeEQsT0FBTztRQUVOLE1BQU1hLFlBQVl2QixvRUFBU0EsQ0FBRWU7UUFDN0IsSUFBS25CLHNFQUFZQSxDQUFFMkIsV0FBV1AsY0FBY1AsS0FBS0wsbUJBQXFCO1lBRXJFUyxTQUFVVSxXQUFXakIsS0FBS0UsTUFBTUMsS0FBS0M7UUFFdEM7UUFFQSxNQUFNYyxhQUFhdkIscUVBQVVBLENBQUVjLGFBQWFHO1FBQzVDLElBQUt0QixzRUFBWUEsQ0FBRTRCLFlBQVlSLGNBQWNQLEtBQUtMLG1CQUFxQjtZQUV0RVMsU0FBVVcsWUFBWWxCLEtBQUtFLE1BQU1DLEtBQUtDO1FBRXZDO0lBRUQ7QUFFRDtBQUU0QiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9jYXN0L3JheWNhc3RfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzP2MxYTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IGludGVyc2VjdFJheSB9IGZyb20gJy4uL3V0aWxzL2ludGVyc2VjdFV0aWxzLmpzJztcbmltcG9ydCB7IElTX0xFQUYsIE9GRlNFVCwgQ09VTlQsIExFRlRfTk9ERSwgUklHSFRfTk9ERSB9IGZyb20gJy4uL3V0aWxzL25vZGVCdWZmZXJVdGlscy5qcyc7XG5pbXBvcnQgeyBCdWZmZXJTdGFjayB9IGZyb20gJy4uL3V0aWxzL0J1ZmZlclN0YWNrLmpzJztcbmltcG9ydCAnLi4vdXRpbHMvaXRlcmF0aW9uVXRpbHMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGludGVyc2VjdFRyaXNfaW5kaXJlY3QgfSBmcm9tICcuLi91dGlscy9pdGVyYXRpb25VdGlsc19pbmRpcmVjdC5nZW5lcmF0ZWQuanMnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIFwicmF5Y2FzdC50ZW1wbGF0ZS5qc1wiLiAqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3QgX2JveEludGVyc2VjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuZnVuY3Rpb24gcmF5Y2FzdF9pbmRpcmVjdCggYnZoLCByb290LCBzaWRlLCByYXksIGludGVyc2VjdHMgKSB7XG5cblx0QnVmZmVyU3RhY2suc2V0QnVmZmVyKCBidmguX3Jvb3RzWyByb290IF0gKTtcblx0X3JheWNhc3QoIDAsIGJ2aCwgc2lkZSwgcmF5LCBpbnRlcnNlY3RzICk7XG5cdEJ1ZmZlclN0YWNrLmNsZWFyQnVmZmVyKCk7XG5cbn1cblxuZnVuY3Rpb24gX3JheWNhc3QoIG5vZGVJbmRleDMyLCBidmgsIHNpZGUsIHJheSwgaW50ZXJzZWN0cyApIHtcblxuXHRjb25zdCB7IGZsb2F0MzJBcnJheSwgdWludDE2QXJyYXksIHVpbnQzMkFycmF5IH0gPSBCdWZmZXJTdGFjaztcblx0Y29uc3Qgbm9kZUluZGV4MTYgPSBub2RlSW5kZXgzMiAqIDI7XG5cdGNvbnN0IGlzTGVhZiA9IElTX0xFQUYoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xuXHRpZiAoIGlzTGVhZiApIHtcblxuXHRcdGNvbnN0IG9mZnNldCA9IE9GRlNFVCggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XG5cdFx0Y29uc3QgY291bnQgPSBDT1VOVCggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XG5cblx0XHRpbnRlcnNlY3RUcmlzX2luZGlyZWN0KCBidmgsIHNpZGUsIHJheSwgb2Zmc2V0LCBjb3VudCwgaW50ZXJzZWN0cyApO1xuXG5cblx0fSBlbHNlIHtcblxuXHRcdGNvbnN0IGxlZnRJbmRleCA9IExFRlRfTk9ERSggbm9kZUluZGV4MzIgKTtcblx0XHRpZiAoIGludGVyc2VjdFJheSggbGVmdEluZGV4LCBmbG9hdDMyQXJyYXksIHJheSwgX2JveEludGVyc2VjdGlvbiApICkge1xuXG5cdFx0XHRfcmF5Y2FzdCggbGVmdEluZGV4LCBidmgsIHNpZGUsIHJheSwgaW50ZXJzZWN0cyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcmlnaHRJbmRleCA9IFJJR0hUX05PREUoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xuXHRcdGlmICggaW50ZXJzZWN0UmF5KCByaWdodEluZGV4LCBmbG9hdDMyQXJyYXksIHJheSwgX2JveEludGVyc2VjdGlvbiApICkge1xuXG5cdFx0XHRfcmF5Y2FzdCggcmlnaHRJbmRleCwgYnZoLCBzaWRlLCByYXksIGludGVyc2VjdHMgKTtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuZXhwb3J0IHsgcmF5Y2FzdF9pbmRpcmVjdCB9O1xuIl0sIm5hbWVzIjpbIlZlY3RvcjMiLCJpbnRlcnNlY3RSYXkiLCJJU19MRUFGIiwiT0ZGU0VUIiwiQ09VTlQiLCJMRUZUX05PREUiLCJSSUdIVF9OT0RFIiwiQnVmZmVyU3RhY2siLCJpbnRlcnNlY3RUcmlzX2luZGlyZWN0IiwiX2JveEludGVyc2VjdGlvbiIsInJheWNhc3RfaW5kaXJlY3QiLCJidmgiLCJyb290Iiwic2lkZSIsInJheSIsImludGVyc2VjdHMiLCJzZXRCdWZmZXIiLCJfcm9vdHMiLCJfcmF5Y2FzdCIsImNsZWFyQnVmZmVyIiwibm9kZUluZGV4MzIiLCJmbG9hdDMyQXJyYXkiLCJ1aW50MTZBcnJheSIsInVpbnQzMkFycmF5Iiwibm9kZUluZGV4MTYiLCJpc0xlYWYiLCJvZmZzZXQiLCJjb3VudCIsImxlZnRJbmRleCIsInJpZ2h0SW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/raycast_indirect.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/refit.generated.js":
/*!**********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/refit.generated.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   refit: () => (/* binding */ refit)\n/* harmony export */ });\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n\n/****************************************************/ /* This file is generated from \"refit.template.js\". */ /****************************************************/ function refit(bvh, nodeIndices = null) {\n    if (nodeIndices && Array.isArray(nodeIndices)) {\n        nodeIndices = new Set(nodeIndices);\n    }\n    const geometry = bvh.geometry;\n    const indexArr = geometry.index ? geometry.index.array : null;\n    const posAttr = geometry.attributes.position;\n    let buffer, uint32Array, uint16Array, float32Array;\n    let byteOffset = 0;\n    const roots = bvh._roots;\n    for(let i = 0, l = roots.length; i < l; i++){\n        buffer = roots[i];\n        uint32Array = new Uint32Array(buffer);\n        uint16Array = new Uint16Array(buffer);\n        float32Array = new Float32Array(buffer);\n        _traverse(0, byteOffset);\n        byteOffset += buffer.byteLength;\n    }\n    function _traverse(node32Index, byteOffset, force = false) {\n        const node16Index = node32Index * 2;\n        const isLeaf = uint16Array[node16Index + 15] === _Constants_js__WEBPACK_IMPORTED_MODULE_0__.IS_LEAFNODE_FLAG;\n        if (isLeaf) {\n            const offset = uint32Array[node32Index + 6];\n            const count = uint16Array[node16Index + 14];\n            let minx = Infinity;\n            let miny = Infinity;\n            let minz = Infinity;\n            let maxx = -Infinity;\n            let maxy = -Infinity;\n            let maxz = -Infinity;\n            for(let i = 3 * offset, l = 3 * (offset + count); i < l; i++){\n                let index = indexArr[i];\n                const x = posAttr.getX(index);\n                const y = posAttr.getY(index);\n                const z = posAttr.getZ(index);\n                if (x < minx) minx = x;\n                if (x > maxx) maxx = x;\n                if (y < miny) miny = y;\n                if (y > maxy) maxy = y;\n                if (z < minz) minz = z;\n                if (z > maxz) maxz = z;\n            }\n            if (float32Array[node32Index + 0] !== minx || float32Array[node32Index + 1] !== miny || float32Array[node32Index + 2] !== minz || float32Array[node32Index + 3] !== maxx || float32Array[node32Index + 4] !== maxy || float32Array[node32Index + 5] !== maxz) {\n                float32Array[node32Index + 0] = minx;\n                float32Array[node32Index + 1] = miny;\n                float32Array[node32Index + 2] = minz;\n                float32Array[node32Index + 3] = maxx;\n                float32Array[node32Index + 4] = maxy;\n                float32Array[node32Index + 5] = maxz;\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            const left = node32Index + 8;\n            const right = uint32Array[node32Index + 6];\n            // the identifying node indices provided by the shapecast function include offsets of all\n            // root buffers to guarantee they're unique between roots so offset left and right indices here.\n            const offsetLeft = left + byteOffset;\n            const offsetRight = right + byteOffset;\n            let forceChildren = force;\n            let includesLeft = false;\n            let includesRight = false;\n            if (nodeIndices) {\n                // if we see that neither the left or right child are included in the set that need to be updated\n                // then we assume that all children need to be updated.\n                if (!forceChildren) {\n                    includesLeft = nodeIndices.has(offsetLeft);\n                    includesRight = nodeIndices.has(offsetRight);\n                    forceChildren = !includesLeft && !includesRight;\n                }\n            } else {\n                includesLeft = true;\n                includesRight = true;\n            }\n            const traverseLeft = forceChildren || includesLeft;\n            const traverseRight = forceChildren || includesRight;\n            let leftChange = false;\n            if (traverseLeft) {\n                leftChange = _traverse(left, byteOffset, forceChildren);\n            }\n            let rightChange = false;\n            if (traverseRight) {\n                rightChange = _traverse(right, byteOffset, forceChildren);\n            }\n            const didChange = leftChange || rightChange;\n            if (didChange) {\n                for(let i = 0; i < 3; i++){\n                    const lefti = left + i;\n                    const righti = right + i;\n                    const minLeftValue = float32Array[lefti];\n                    const maxLeftValue = float32Array[lefti + 3];\n                    const minRightValue = float32Array[righti];\n                    const maxRightValue = float32Array[righti + 3];\n                    float32Array[node32Index + i] = minLeftValue < minRightValue ? minLeftValue : minRightValue;\n                    float32Array[node32Index + i + 3] = maxLeftValue > maxRightValue ? maxLeftValue : maxRightValue;\n                }\n            }\n            return didChange;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9yZWZpdC5nZW5lcmF0ZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUQ7QUFFbkQsb0RBQW9ELEdBQ3BELG9EQUFvRCxHQUNwRCxvREFBb0QsR0FFcEQsU0FBU0MsTUFBT0MsR0FBRyxFQUFFQyxjQUFjLElBQUk7SUFFdEMsSUFBS0EsZUFBZUMsTUFBTUMsT0FBTyxDQUFFRixjQUFnQjtRQUVsREEsY0FBYyxJQUFJRyxJQUFLSDtJQUV4QjtJQUVBLE1BQU1JLFdBQVdMLElBQUlLLFFBQVE7SUFDN0IsTUFBTUMsV0FBV0QsU0FBU0UsS0FBSyxHQUFHRixTQUFTRSxLQUFLLENBQUNDLEtBQUssR0FBRztJQUN6RCxNQUFNQyxVQUFVSixTQUFTSyxVQUFVLENBQUNDLFFBQVE7SUFFNUMsSUFBSUMsUUFBUUMsYUFBYUMsYUFBYUM7SUFDdEMsSUFBSUMsYUFBYTtJQUNqQixNQUFNQyxRQUFRakIsSUFBSWtCLE1BQU07SUFDeEIsSUFBTSxJQUFJQyxJQUFJLEdBQUdDLElBQUlILE1BQU1JLE1BQU0sRUFBRUYsSUFBSUMsR0FBR0QsSUFBTztRQUVoRFAsU0FBU0ssS0FBSyxDQUFFRSxFQUFHO1FBQ25CTixjQUFjLElBQUlTLFlBQWFWO1FBQy9CRSxjQUFjLElBQUlTLFlBQWFYO1FBQy9CRyxlQUFlLElBQUlTLGFBQWNaO1FBRWpDYSxVQUFXLEdBQUdUO1FBQ2RBLGNBQWNKLE9BQU9jLFVBQVU7SUFFaEM7SUFFQSxTQUFTRCxVQUFXRSxXQUFXLEVBQUVYLFVBQVUsRUFBRVksUUFBUSxLQUFLO1FBRXpELE1BQU1DLGNBQWNGLGNBQWM7UUFDbEMsTUFBTUcsU0FBU2hCLFdBQVcsQ0FBRWUsY0FBYyxHQUFJLEtBQUsvQiwyREFBZ0JBO1FBQ25FLElBQUtnQyxRQUFTO1lBRWIsTUFBTUMsU0FBU2xCLFdBQVcsQ0FBRWMsY0FBYyxFQUFHO1lBQzdDLE1BQU1LLFFBQVFsQixXQUFXLENBQUVl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QUFTYixRQUFRNUI7b0JBQ3ZCLE1BQU0wQyxlQUFlOUMsWUFBWSxDQUFFNEMsTUFBTztvQkFDMUMsTUFBTUcsZUFBZS9DLFlBQVksQ0FBRTRDLFFBQVEsRUFBRztvQkFDOUMsTUFBTUksZ0JBQWdCaEQsWUFBWSxDQUFFNkMsT0FBUTtvQkFDNUMsTUFBTUksZ0JBQWdCakQsWUFBWSxDQUFFNkMsU0FBUyxFQUFHO29CQUVoRDdDLFlBQVksQ0FBRVksY0FBY1IsRUFBRyxHQUFHMEMsZUFBZUUsZ0JBQWdCRixlQUFlRTtvQkFDaEZoRCxZQUFZLENBQUVZLGNBQWNSLElBQUksRUFBRyxHQUFHMkMsZUFBZUUsZ0JBQWdCRixlQUFlRTtnQkFFckY7WUFFRDtZQUVBLE9BQU9OO1FBRVI7SUFFRDtBQUVEO0FBRWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2Nhc3QvcmVmaXQuZ2VuZXJhdGVkLmpzPzcwMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVNfTEVBRk5PREVfRkxBRyB9IGZyb20gJy4uL0NvbnN0YW50cy5qcyc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIFwicmVmaXQudGVtcGxhdGUuanNcIi4gKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiByZWZpdCggYnZoLCBub2RlSW5kaWNlcyA9IG51bGwgKSB7XG5cblx0aWYgKCBub2RlSW5kaWNlcyAmJiBBcnJheS5pc0FycmF5KCBub2RlSW5kaWNlcyApICkge1xuXG5cdFx0bm9kZUluZGljZXMgPSBuZXcgU2V0KCBub2RlSW5kaWNlcyApO1xuXG5cdH1cblxuXHRjb25zdCBnZW9tZXRyeSA9IGJ2aC5nZW9tZXRyeTtcblx0Y29uc3QgaW5kZXhBcnIgPSBnZW9tZXRyeS5pbmRleCA/IGdlb21ldHJ5LmluZGV4LmFycmF5IDogbnVsbDtcblx0Y29uc3QgcG9zQXR0ciA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cblx0bGV0IGJ1ZmZlciwgdWludDMyQXJyYXksIHVpbnQxNkFycmF5LCBmbG9hdDMyQXJyYXk7XG5cdGxldCBieXRlT2Zmc2V0ID0gMDtcblx0Y29uc3Qgcm9vdHMgPSBidmguX3Jvb3RzO1xuXHRmb3IgKCBsZXQgaSA9IDAsIGwgPSByb290cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0YnVmZmVyID0gcm9vdHNbIGkgXTtcblx0XHR1aW50MzJBcnJheSA9IG5ldyBVaW50MzJBcnJheSggYnVmZmVyICk7XG5cdFx0dWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoIGJ1ZmZlciApO1xuXHRcdGZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoIGJ1ZmZlciApO1xuXG5cdFx0X3RyYXZlcnNlKCAwLCBieXRlT2Zmc2V0ICk7XG5cdFx0Ynl0ZU9mZnNldCArPSBidWZmZXIuYnl0ZUxlbmd0aDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gX3RyYXZlcnNlKCBub2RlMzJJbmRleCwgYnl0ZU9mZnNldCwgZm9yY2UgPSBmYWxzZSApIHtcblxuXHRcdGNvbnN0IG5vZGUxNkluZGV4ID0gbm9kZTMySW5kZXggKiAyO1xuXHRcdGNvbnN0IGlzTGVhZiA9IHVpbnQxNkFycmF5WyBub2RlMTZJbmRleCArIDE1IF0gPT09IElTX0xFQUZOT0RFX0ZMQUc7XG5cdFx0aWYgKCBpc0xlYWYgKSB7XG5cblx0XHRcdGNvbnN0IG9mZnNldCA9IHVpbnQzMkFycmF5WyBub2RlMzJJbmRleCArIDYgXTtcblx0XHRcdGNvbnN0IGNvdW50ID0gdWludDE2QXJyYXlbIG5vZGUxNkluZGV4ICsgMTQgXTtcblxuXHRcdFx0bGV0IG1pbnggPSBJbmZpbml0eTtcblx0XHRcdGxldCBtaW55ID0gSW5maW5pdHk7XG5cdFx0XHRsZXQgbWlueiA9IEluZmluaXR5O1xuXHRcdFx0bGV0IG1heHggPSAtIEluZmluaXR5O1xuXHRcdFx0bGV0IG1heHkgPSAtIEluZmluaXR5O1xuXHRcdFx0bGV0IG1heHogPSAtIEluZmluaXR5O1xuXG5cblx0XHRcdGZvciAoIGxldCBpID0gMyAqIG9mZnNldCwgbCA9IDMgKiAoIG9mZnNldCArIGNvdW50ICk7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRcdGxldCBpbmRleCA9IGluZGV4QXJyWyBpIF07XG5cdFx0XHRcdGNvbnN0IHggPSBwb3NBdHRyLmdldFgoIGluZGV4ICk7XG5cdFx0XHRcdGNvbnN0IHkgPSBwb3NBdHRyLmdldFkoIGluZGV4ICk7XG5cdFx0XHRcdGNvbnN0IHogPSBwb3NBdHRyLmdldFooIGluZGV4ICk7XG5cblx0XHRcdFx0aWYgKCB4IDwgbWlueCApIG1pbnggPSB4O1xuXHRcdFx0XHRpZiAoIHggPiBtYXh4ICkgbWF4eCA9IHg7XG5cblx0XHRcdFx0aWYgKCB5IDwgbWlueSApIG1pbnkgPSB5O1xuXHRcdFx0XHRpZiAoIHkgPiBtYXh5ICkgbWF4eSA9IHk7XG5cblx0XHRcdFx0aWYgKCB6IDwgbWlueiApIG1pbnogPSB6O1xuXHRcdFx0XHRpZiAoIHogPiBtYXh6ICkgbWF4eiA9IHo7XG5cblx0XHRcdH1cblxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyAwIF0gIT09IG1pbnggfHxcblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDEgXSAhPT0gbWlueSB8fFxuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgMiBdICE9PSBtaW56IHx8XG5cblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDMgXSAhPT0gbWF4eCB8fFxuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgNCBdICE9PSBtYXh5IHx8XG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyA1IF0gIT09IG1heHpcblx0XHRcdCkge1xuXG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyAwIF0gPSBtaW54O1xuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgMSBdID0gbWlueTtcblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDIgXSA9IG1pbno7XG5cblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDMgXSA9IG1heHg7XG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyA0IF0gPSBtYXh5O1xuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgNSBdID0gbWF4ejtcblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnN0IGxlZnQgPSBub2RlMzJJbmRleCArIDg7XG5cdFx0XHRjb25zdCByaWdodCA9IHVpbnQzMkFycmF5WyBub2RlMzJJbmRleCArIDYgXTtcblxuXHRcdFx0Ly8gdGhlIGlkZW50aWZ5aW5nIG5vZGUgaW5kaWNlcyBwcm92aWRlZCBieSB0aGUgc2hhcGVjYXN0IGZ1bmN0aW9uIGluY2x1ZGUgb2Zmc2V0cyBvZiBhbGxcblx0XHRcdC8vIHJvb3QgYnVmZmVycyB0byBndWFyYW50ZWUgdGhleSdyZSB1bmlxdWUgYmV0d2VlbiByb290cyBzbyBvZmZzZXQgbGVmdCBhbmQgcmlnaHQgaW5kaWNlcyBoZXJlLlxuXHRcdFx0Y29uc3Qgb2Zmc2V0TGVmdCA9IGxlZnQgKyBieXRlT2Zmc2V0O1xuXHRcdFx0Y29uc3Qgb2Zmc2V0UmlnaHQgPSByaWdodCArIGJ5dGVPZmZzZXQ7XG5cdFx0XHRsZXQgZm9yY2VDaGlsZHJlbiA9IGZvcmNlO1xuXHRcdFx0bGV0IGluY2x1ZGVzTGVmdCA9IGZhbHNlO1xuXHRcdFx0bGV0IGluY2x1ZGVzUmlnaHQgPSBmYWxzZTtcblxuXHRcdFx0aWYgKCBub2RlSW5kaWNlcyApIHtcblxuXHRcdFx0XHQvLyBpZiB3ZSBzZWUgdGhhdCBuZWl0aGVyIHRoZSBsZWZ0IG9yIHJpZ2h0IGNoaWxkIGFyZSBpbmNsdWRlZCBpbiB0aGUgc2V0IHRoYXQgbmVlZCB0byBiZSB1cGRhdGVkXG5cdFx0XHRcdC8vIHRoZW4gd2UgYXNzdW1lIHRoYXQgYWxsIGNoaWxkcmVuIG5lZWQgdG8gYmUgdXBkYXRlZC5cblx0XHRcdFx0aWYgKCAhIGZvcmNlQ2hpbGRyZW4gKSB7XG5cblx0XHRcdFx0XHRpbmNsdWRlc0xlZnQgPSBub2RlSW5kaWNlcy5oYXMoIG9mZnNldExlZnQgKTtcblx0XHRcdFx0XHRpbmNsdWRlc1JpZ2h0ID0gbm9kZUluZGljZXMuaGFzKCBvZmZzZXRSaWdodCApO1xuXHRcdFx0XHRcdGZvcmNlQ2hpbGRyZW4gPSAhIGluY2x1ZGVzTGVmdCAmJiAhIGluY2x1ZGVzUmlnaHQ7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGluY2x1ZGVzTGVmdCA9IHRydWU7XG5cdFx0XHRcdGluY2x1ZGVzUmlnaHQgPSB0cnVlO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRyYXZlcnNlTGVmdCA9IGZvcmNlQ2hpbGRyZW4gfHwgaW5jbHVkZXNMZWZ0O1xuXHRcdFx0Y29uc3QgdHJhdmVyc2VSaWdodCA9IGZvcmNlQ2hpbGRyZW4gfHwgaW5jbHVkZXNSaWdodDtcblxuXHRcdFx0bGV0IGxlZnRDaGFuZ2UgPSBmYWxzZTtcblx0XHRcdGlmICggdHJhdmVyc2VMZWZ0ICkge1xuXG5cdFx0XHRcdGxlZnRDaGFuZ2UgPSBfdHJhdmVyc2UoIGxlZnQsIGJ5dGVPZmZzZXQsIGZvcmNlQ2hpbGRyZW4gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRsZXQgcmlnaHRDaGFuZ2UgPSBmYWxzZTtcblx0XHRcdGlmICggdHJhdmVyc2VSaWdodCApIHtcblxuXHRcdFx0XHRyaWdodENoYW5nZSA9IF90cmF2ZXJzZSggcmlnaHQsIGJ5dGVPZmZzZXQsIGZvcmNlQ2hpbGRyZW4gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkaWRDaGFuZ2UgPSBsZWZ0Q2hhbmdlIHx8IHJpZ2h0Q2hhbmdlO1xuXHRcdFx0aWYgKCBkaWRDaGFuZ2UgKSB7XG5cblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGxlZnRpID0gbGVmdCArIGk7XG5cdFx0XHRcdFx0Y29uc3QgcmlnaHRpID0gcmlnaHQgKyBpO1xuXHRcdFx0XHRcdGNvbnN0IG1pbkxlZnRWYWx1ZSA9IGZsb2F0MzJBcnJheVsgbGVmdGkgXTtcblx0XHRcdFx0XHRjb25zdCBtYXhMZWZ0VmFsdWUgPSBmbG9hdDMyQXJyYXlbIGxlZnRpICsgMyBdO1xuXHRcdFx0XHRcdGNvbnN0IG1pblJpZ2h0VmFsdWUgPSBmbG9hdDMyQXJyYXlbIHJpZ2h0aSBdO1xuXHRcdFx0XHRcdGNvbnN0IG1heFJpZ2h0VmFsdWUgPSBmbG9hdDMyQXJyYXlbIHJpZ2h0aSArIDMgXTtcblxuXHRcdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyBpIF0gPSBtaW5MZWZ0VmFsdWUgPCBtaW5SaWdodFZhbHVlID8gbWluTGVmdFZhbHVlIDogbWluUmlnaHRWYWx1ZTtcblx0XHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgaSArIDMgXSA9IG1heExlZnRWYWx1ZSA+IG1heFJpZ2h0VmFsdWUgPyBtYXhMZWZ0VmFsdWUgOiBtYXhSaWdodFZhbHVlO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGlkQ2hhbmdlO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG5leHBvcnQgeyByZWZpdCB9O1xuIl0sIm5hbWVzIjpbIklTX0xFQUZOT0RFX0ZMQUciLCJyZWZpdCIsImJ2aCIsIm5vZGVJbmRpY2VzIiwiQXJyYXkiLCJpc0FycmF5IiwiU2V0IiwiZ2VvbWV0cnkiLCJpbmRleEFyciIsImluZGV4IiwiYXJyYXkiLCJwb3NBdHRyIiwiYXR0cmlidXRlcyIsInBvc2l0aW9uIiwiYnVmZmVyIiwidWludDMyQXJyYXkiLCJ1aW50MTZBcnJheSIsImZsb2F0MzJBcnJheSIsImJ5dGVPZmZzZXQiLCJyb290cyIsIl9yb290cyIsImkiLCJsIiwibGVuZ3RoIiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIkZsb2F0MzJBcnJheSIsIl90cmF2ZXJzZSIsImJ5dGVMZW5ndGgiLCJub2RlMzJJbmRleCIsImZvcmNlIiwibm9kZTE2SW5kZXgiLCJpc0xlYWYiLCJvZmZzZXQiLCJjb3VudCIsIm1pbngiLCJJbmZpbml0eSIsIm1pbnkiLCJtaW56IiwibWF4eCIsIm1heHkiLCJtYXh6IiwieCIsImdldFgiLCJ5IiwiZ2V0WSIsInoiLCJnZXRaIiwibGVmdCIsInJpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFJpZ2h0IiwiZm9yY2VDaGlsZHJlbiIsImluY2x1ZGVzTGVmdCIsImluY2x1ZGVzUmlnaHQiLCJoYXMiLCJ0cmF2ZXJzZUxlZnQiLCJ0cmF2ZXJzZVJpZ2h0IiwibGVmdENoYW5nZSIsInJpZ2h0Q2hhbmdlIiwiZGlkQ2hhbmdlIiwibGVmdGkiLCJyaWdodGkiLCJtaW5MZWZ0VmFsdWUiLCJtYXhMZWZ0VmFsdWUiLCJtaW5SaWdodFZhbHVlIiwibWF4UmlnaHRWYWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/refit.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/refit_indirect.generated.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/refit_indirect.generated.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   refit_indirect: () => (/* binding */ refit_indirect)\n/* harmony export */ });\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n\n/****************************************************/ /* This file is generated from \"refit.template.js\". */ /****************************************************/ function refit_indirect(bvh, nodeIndices = null) {\n    if (nodeIndices && Array.isArray(nodeIndices)) {\n        nodeIndices = new Set(nodeIndices);\n    }\n    const geometry = bvh.geometry;\n    const indexArr = geometry.index ? geometry.index.array : null;\n    const posAttr = geometry.attributes.position;\n    let buffer, uint32Array, uint16Array, float32Array;\n    let byteOffset = 0;\n    const roots = bvh._roots;\n    for(let i = 0, l = roots.length; i < l; i++){\n        buffer = roots[i];\n        uint32Array = new Uint32Array(buffer);\n        uint16Array = new Uint16Array(buffer);\n        float32Array = new Float32Array(buffer);\n        _traverse(0, byteOffset);\n        byteOffset += buffer.byteLength;\n    }\n    function _traverse(node32Index, byteOffset, force = false) {\n        const node16Index = node32Index * 2;\n        const isLeaf = uint16Array[node16Index + 15] === _Constants_js__WEBPACK_IMPORTED_MODULE_0__.IS_LEAFNODE_FLAG;\n        if (isLeaf) {\n            const offset = uint32Array[node32Index + 6];\n            const count = uint16Array[node16Index + 14];\n            let minx = Infinity;\n            let miny = Infinity;\n            let minz = Infinity;\n            let maxx = -Infinity;\n            let maxy = -Infinity;\n            let maxz = -Infinity;\n            for(let i = offset, l = offset + count; i < l; i++){\n                const t = 3 * bvh.resolveTriangleIndex(i);\n                for(let j = 0; j < 3; j++){\n                    let index = t + j;\n                    index = indexArr ? indexArr[index] : index;\n                    const x = posAttr.getX(index);\n                    const y = posAttr.getY(index);\n                    const z = posAttr.getZ(index);\n                    if (x < minx) minx = x;\n                    if (x > maxx) maxx = x;\n                    if (y < miny) miny = y;\n                    if (y > maxy) maxy = y;\n                    if (z < minz) minz = z;\n                    if (z > maxz) maxz = z;\n                }\n            }\n            if (float32Array[node32Index + 0] !== minx || float32Array[node32Index + 1] !== miny || float32Array[node32Index + 2] !== minz || float32Array[node32Index + 3] !== maxx || float32Array[node32Index + 4] !== maxy || float32Array[node32Index + 5] !== maxz) {\n                float32Array[node32Index + 0] = minx;\n                float32Array[node32Index + 1] = miny;\n                float32Array[node32Index + 2] = minz;\n                float32Array[node32Index + 3] = maxx;\n                float32Array[node32Index + 4] = maxy;\n                float32Array[node32Index + 5] = maxz;\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            const left = node32Index + 8;\n            const right = uint32Array[node32Index + 6];\n            // the identifying node indices provided by the shapecast function include offsets of all\n            // root buffers to guarantee they're unique between roots so offset left and right indices here.\n            const offsetLeft = left + byteOffset;\n            const offsetRight = right + byteOffset;\n            let forceChildren = force;\n            let includesLeft = false;\n            let includesRight = false;\n            if (nodeIndices) {\n                // if we see that neither the left or right child are included in the set that need to be updated\n                // then we assume that all children need to be updated.\n                if (!forceChildren) {\n                    includesLeft = nodeIndices.has(offsetLeft);\n                    includesRight = nodeIndices.has(offsetRight);\n                    forceChildren = !includesLeft && !includesRight;\n                }\n            } else {\n                includesLeft = true;\n                includesRight = true;\n            }\n            const traverseLeft = forceChildren || includesLeft;\n            const traverseRight = forceChildren || includesRight;\n            let leftChange = false;\n            if (traverseLeft) {\n                leftChange = _traverse(left, byteOffset, forceChildren);\n            }\n            let rightChange = false;\n            if (traverseRight) {\n                rightChange = _traverse(right, byteOffset, forceChildren);\n            }\n            const didChange = leftChange || rightChange;\n            if (didChange) {\n                for(let i = 0; i < 3; i++){\n                    const lefti = left + i;\n                    const righti = right + i;\n                    const minLeftValue = float32Array[lefti];\n                    const maxLeftValue = float32Array[lefti + 3];\n                    const minRightValue = float32Array[righti];\n                    const maxRightValue = float32Array[righti + 3];\n                    float32Array[node32Index + i] = minLeftValue < minRightValue ? minLeftValue : minRightValue;\n                    float32Array[node32Index + i + 3] = maxLeftValue > maxRightValue ? maxLeftValue : maxRightValue;\n                }\n            }\n            return didChange;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9yZWZpdF9pbmRpcmVjdC5nZW5lcmF0ZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUQ7QUFFbkQsb0RBQW9ELEdBQ3BELG9EQUFvRCxHQUNwRCxvREFBb0QsR0FFcEQsU0FBU0MsZUFBZ0JDLEdBQUcsRUFBRUMsY0FBYyxJQUFJO0lBRS9DLElBQUtBLGVBQWVDLE1BQU1DLE9BQU8sQ0FBRUYsY0FBZ0I7UUFFbERBLGNBQWMsSUFBSUcsSUFBS0g7SUFFeEI7SUFFQSxNQUFNSSxXQUFXTCxJQUFJSyxRQUFRO0lBQzdCLE1BQU1DLFdBQVdELFNBQVNFLEtBQUssR0FBR0YsU0FBU0UsS0FBSyxDQUFDQyxLQUFLLEdBQUc7SUFDekQsTUFBTUMsVUFBVUosU0FBU0ssVUFBVSxDQUFDQyxRQUFRO0lBRTVDLElBQUlDLFFBQVFDLGFBQWFDLGFBQWFDO0lBQ3RDLElBQUlDLGFBQWE7SUFDakIsTUFBTUMsUUFBUWpCLElBQUlrQixNQUFNO0lBQ3hCLElBQU0sSUFBSUMsSUFBSSxHQUFHQyxJQUFJSCxNQUFNSSxNQUFNLEVBQUVGLElBQUlDLEdBQUdELElBQU87UUFFaERQLFNBQVNLLEtBQUssQ0FBRUUsRUFBRztRQUNuQk4sY0FBYyxJQUFJUyxZQUFhVjtRQUMvQkUsY0FBYyxJQUFJUyxZQUFhWDtRQUMvQkcsZUFBZSxJQUFJUyxhQUFjWjtRQUVqQ2EsVUFBVyxHQUFHVDtRQUNkQSxjQUFjSixPQUFPYyxVQUFVO0lBRWhDO0lBRUEsU0FBU0QsVUFBV0UsV0FBVyxFQUFFWCxVQUFVLEVBQUVZLFFBQVEsS0FBSztRQUV6RCxNQUFNQyxjQUFjRixjQUFjO1FBQ2xDLE1BQU1HLFNBQVNoQixXQUFXLENBQUVlLGNBQWMsR0FBSSxLQUFLL0IsMkRBQWdCQTtRQUNuRSxJQUFLZ0MsUUFBUztZQUViLE1BQU1DLFNBQVNsQixXQUFXLENBQUVjLGNBQWMsRUFBRztZQUM3QyxNQUFNSyxRQUFRbEIsV0FBVyxDQUFFZSxjQUFjLEdBQUk7WUFFN0MsSUFBSUksT0FBT0M7WUFDWCxJQUFJQyxPQUFPRDtZQUNYLElBQUlFLE9BQU9GO1lBQ1gsSUFBSUcsT0FBTyxDQUFFSDtZQUNiLElBQUlJLE9BQU8sQ0FBRUo7WUFDYixJQUFJSyxPQUFPLENBQUVMO1lBRWIsSUFBTSxJQUFJZixJQUFJWSxRQUFRWCxJQUFJVyxTQUFTQyxPQUFPYixJQUFJQyxHQUFHRCxJQUFPO2dCQUV2RCxNQUFNcUIsSUFBSSxJQUFJeEMsSUFBSXlDLG9CQUFvQixDQUFFdEI7Z0JBQ3hDLElBQU0sSUFBSXVCLElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFPO29CQUU5QixJQUFJbkMsUUFBUWlDLElBQUlFO29CQUNoQm5DLFFBQVFELFdBQVdBLFFBQVEsQ0FBRUMsTUFBTyxHQUFHQTtvQkFFdkMsTUFBTW9DLElBQUlsQyxRQUFRbUMsSUFBSSxDQUFFckM7b0JBQ3hCLE1BQU1zQyxJQUFJcEMsUUFBUXFDLElBQUksQ0FBRXZDO29CQUN4QixNQUFNd0MsSUFBSXRDLFFBQVF1QyxJQUFJLENBQUV6QztvQkFFeEIsSUFBS29DLElBQUlWLE1BQU9BLE9BQU9VO29CQUN2QixJQUFLQSxJQUFJTixNQUFPQSxPQUFPTTtvQkFFdkIsSUFBS0UsSUFBSVYsTUFBT0EsT0FBT1U7b0JBQ3ZCLElBQUtBLElBQUlQLE1BQU9BLE9BQU9PO29CQUV2QixJQUFLRSxJQUFJWCxNQUFPQSxPQUFPVztvQkFDdkIsSUFBS0EsSUFBSVIsTUFBT0EsT0FBT1E7Z0JBR3hCO1lBRUQ7WUFHQSxJQUNDaEMsWUFBWSxDQUFFWSxjQUFjLEVBQUcsS0FBS00sUUFDcENsQixZQUFZLENBQUVZLGNBQWMsRUFBRyxLQUFLUSxRQUNwQ3BCLFlBQVksQ0FBRVksY0FBYyxFQUFHLEtBQUtTLFFBRXBDckIsWUFBWSxDQUFFWSxjQUFjLEVBQUcsS0FBS1UsUUFDcEN0QixZQUFZLENBQUVZLGNBQWMsRUFBRyxLQUFLVyxRQUNwQ3ZCLFlBQVksQ0FBRVksY0FBYyxFQUFHLEtBQUtZLE1BQ25DO2dCQUVEeEIsWUFBWSxDQUFFWSxjQUFjLEVBQUcsR0FBR007Z0JBQ2xDbEIsWUFBWSxDQUFFWSxjQUFjLEVBQUcsR0FBR1E7Z0JBQ2xDcEIsWUFBWSxDQUFFWSxjQUFjLEVBQUcsR0FBR1M7Z0JBRWxDckIsWUFBWSxDQUFFWSxjQUFjLEVBQUcsR0FBR1U7Z0JBQ2xDdEIsWUFBWSxDQUFFWSxjQUFjLEVBQUcsR0FBR1c7Z0JBQ2xDdkIsWUFBWSxDQUFFWSxjQUFjLEVBQUcsR0FBR1k7Z0JBRWxDLE9BQU87WUFFUixPQUFPO2dCQUVOLE9BQU87WUFFUjtRQUVELE9BQU87WUFFTixNQUFNVSxPQUFPdEIsY0FBYztZQUMzQixNQUFNdUIsUUFBUXJDLFdBQVcsQ0FBRWMsY0FBYyxFQUFHO1lBRTVDLHlGQUF5RjtZQUN6RixnR0FBZ0c7WUFDaEcsTUFBTXdCLGFBQWFGLE9BQU9qQztZQUMxQixNQUFNb0MsY0FBY0YsUUFBUWxDO1lBQzVCLElBQUlxQyxnQkFBZ0J6QjtZQUNwQixJQUFJMEIsZUFBZTtZQUNuQixJQUFJQyxnQkFBZ0I7WUFFcEIsSUFBS3RELGFBQWM7Z0JBRWxCLGlHQUFpRztnQkFDakcsdURBQXVEO2dCQUN2RCxJQUFLLENBQUVvRCxlQUFnQjtvQkFFdEJDLGVBQWVyRCxZQUFZdUQsR0FBRyxDQUFFTDtvQkFDaENJLGdCQUFnQnRELFlBQVl1RCxHQUFHLENBQUVKO29CQUNqQ0MsZ0JBQWdCLENBQUVDLGdCQUFnQixDQUFFQztnQkFFckM7WUFFRCxPQUFPO2dCQUVORCxlQUFlO2dCQUNmQyxnQkFBZ0I7WUFFakI7WUFFQSxNQUFNRSxlQUFlSixpQkFBaUJDO1lBQ3RDLE1BQU1JLGdCQUFnQkwsaUJBQWlCRTtZQUV2QyxJQUFJSSxhQUFhO1lBQ2pCLElBQUtGLGNBQWU7Z0JBRW5CRSxhQUFhbEMsVUFBV3dCLE1BQU1qQyxZQUFZcUM7WUFFM0M7WUFFQSxJQUFJTyxjQUFjO1lBQ2xCLElBQUtGLGVBQWdCO2dCQUVwQkUsY0FBY25DLFVBQVd5QixPQUFPbEMsWUFBWXFDO1lBRTdDO1lBRUEsTUFBTVEsWUFBWUYsY0FBY0M7WUFDaEMsSUFBS0MsV0FBWTtnQkFFaEIsSUFBTSxJQUFJMUMsSUFBSSxHQUFHQSxJQUFJLEdBQUdBLElBQU87b0JBRTlCLE1BQU0yQyxRQUFRYixPQUFPOUI7b0JBQ3JCLE1BQU00QyxTQUFTYixRQUFRL0I7b0JBQ3ZCLE1BQU02QyxlQUFlakQsWUFBWSxDQUFFK0MsTUFBTztvQkFDMUMsTUFBTUcsZUFBZWxELFlBQVksQ0FBRStDLFFBQVEsRUFBRztvQkFDOUMsTUFBTUksZ0JBQWdCbkQsWUFBWSxDQUFFZ0QsT0FBUTtvQkFDNUMsTUFBTUksZ0JBQWdCcEQsWUFBWSxDQUFFZ0QsU0FBUyxFQUFHO29CQUVoRGhELFlBQVksQ0FBRVksY0FBY1IsRUFBRyxHQUFHNkMsZUFBZUUsZ0JBQWdCRixlQUFlRTtvQkFDaEZuRCxZQUFZLENBQUVZLGNBQWNSLElBQUksRUFBRyxHQUFHOEMsZUFBZUUsZ0JBQWdCRixlQUFlRTtnQkFFckY7WUFFRDtZQUVBLE9BQU9OO1FBRVI7SUFFRDtBQUVEO0FBRTBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2Nhc3QvcmVmaXRfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzP2RlYTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVNfTEVBRk5PREVfRkxBRyB9IGZyb20gJy4uL0NvbnN0YW50cy5qcyc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIFwicmVmaXQudGVtcGxhdGUuanNcIi4gKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiByZWZpdF9pbmRpcmVjdCggYnZoLCBub2RlSW5kaWNlcyA9IG51bGwgKSB7XG5cblx0aWYgKCBub2RlSW5kaWNlcyAmJiBBcnJheS5pc0FycmF5KCBub2RlSW5kaWNlcyApICkge1xuXG5cdFx0bm9kZUluZGljZXMgPSBuZXcgU2V0KCBub2RlSW5kaWNlcyApO1xuXG5cdH1cblxuXHRjb25zdCBnZW9tZXRyeSA9IGJ2aC5nZW9tZXRyeTtcblx0Y29uc3QgaW5kZXhBcnIgPSBnZW9tZXRyeS5pbmRleCA/IGdlb21ldHJ5LmluZGV4LmFycmF5IDogbnVsbDtcblx0Y29uc3QgcG9zQXR0ciA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cblx0bGV0IGJ1ZmZlciwgdWludDMyQXJyYXksIHVpbnQxNkFycmF5LCBmbG9hdDMyQXJyYXk7XG5cdGxldCBieXRlT2Zmc2V0ID0gMDtcblx0Y29uc3Qgcm9vdHMgPSBidmguX3Jvb3RzO1xuXHRmb3IgKCBsZXQgaSA9IDAsIGwgPSByb290cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0YnVmZmVyID0gcm9vdHNbIGkgXTtcblx0XHR1aW50MzJBcnJheSA9IG5ldyBVaW50MzJBcnJheSggYnVmZmVyICk7XG5cdFx0dWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoIGJ1ZmZlciApO1xuXHRcdGZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoIGJ1ZmZlciApO1xuXG5cdFx0X3RyYXZlcnNlKCAwLCBieXRlT2Zmc2V0ICk7XG5cdFx0Ynl0ZU9mZnNldCArPSBidWZmZXIuYnl0ZUxlbmd0aDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gX3RyYXZlcnNlKCBub2RlMzJJbmRleCwgYnl0ZU9mZnNldCwgZm9yY2UgPSBmYWxzZSApIHtcblxuXHRcdGNvbnN0IG5vZGUxNkluZGV4ID0gbm9kZTMySW5kZXggKiAyO1xuXHRcdGNvbnN0IGlzTGVhZiA9IHVpbnQxNkFycmF5WyBub2RlMTZJbmRleCArIDE1IF0gPT09IElTX0xFQUZOT0RFX0ZMQUc7XG5cdFx0aWYgKCBpc0xlYWYgKSB7XG5cblx0XHRcdGNvbnN0IG9mZnNldCA9IHVpbnQzMkFycmF5WyBub2RlMzJJbmRleCArIDYgXTtcblx0XHRcdGNvbnN0IGNvdW50ID0gdWludDE2QXJyYXlbIG5vZGUxNkluZGV4ICsgMTQgXTtcblxuXHRcdFx0bGV0IG1pbnggPSBJbmZpbml0eTtcblx0XHRcdGxldCBtaW55ID0gSW5maW5pdHk7XG5cdFx0XHRsZXQgbWlueiA9IEluZmluaXR5O1xuXHRcdFx0bGV0IG1heHggPSAtIEluZmluaXR5O1xuXHRcdFx0bGV0IG1heHkgPSAtIEluZmluaXR5O1xuXHRcdFx0bGV0IG1heHogPSAtIEluZmluaXR5O1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IG9mZnNldCwgbCA9IG9mZnNldCArIGNvdW50OyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0XHRjb25zdCB0ID0gMyAqIGJ2aC5yZXNvbHZlVHJpYW5nbGVJbmRleCggaSApO1xuXHRcdFx0XHRmb3IgKCBsZXQgaiA9IDA7IGogPCAzOyBqICsrICkge1xuXG5cdFx0XHRcdFx0bGV0IGluZGV4ID0gdCArIGo7XG5cdFx0XHRcdFx0aW5kZXggPSBpbmRleEFyciA/IGluZGV4QXJyWyBpbmRleCBdIDogaW5kZXg7XG5cblx0XHRcdFx0XHRjb25zdCB4ID0gcG9zQXR0ci5nZXRYKCBpbmRleCApO1xuXHRcdFx0XHRcdGNvbnN0IHkgPSBwb3NBdHRyLmdldFkoIGluZGV4ICk7XG5cdFx0XHRcdFx0Y29uc3QgeiA9IHBvc0F0dHIuZ2V0WiggaW5kZXggKTtcblxuXHRcdFx0XHRcdGlmICggeCA8IG1pbnggKSBtaW54ID0geDtcblx0XHRcdFx0XHRpZiAoIHggPiBtYXh4ICkgbWF4eCA9IHg7XG5cblx0XHRcdFx0XHRpZiAoIHkgPCBtaW55ICkgbWlueSA9IHk7XG5cdFx0XHRcdFx0aWYgKCB5ID4gbWF4eSApIG1heHkgPSB5O1xuXG5cdFx0XHRcdFx0aWYgKCB6IDwgbWlueiApIG1pbnogPSB6O1xuXHRcdFx0XHRcdGlmICggeiA+IG1heHogKSBtYXh6ID0gejtcblxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cblx0XHRcdGlmIChcblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDAgXSAhPT0gbWlueCB8fFxuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgMSBdICE9PSBtaW55IHx8XG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyAyIF0gIT09IG1pbnogfHxcblxuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgMyBdICE9PSBtYXh4IHx8XG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyA0IF0gIT09IG1heHkgfHxcblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDUgXSAhPT0gbWF4elxuXHRcdFx0KSB7XG5cblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDAgXSA9IG1pbng7XG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyAxIF0gPSBtaW55O1xuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgMiBdID0gbWluejtcblxuXHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgMyBdID0gbWF4eDtcblx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDQgXSA9IG1heHk7XG5cdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyA1IF0gPSBtYXh6O1xuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc3QgbGVmdCA9IG5vZGUzMkluZGV4ICsgODtcblx0XHRcdGNvbnN0IHJpZ2h0ID0gdWludDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgNiBdO1xuXG5cdFx0XHQvLyB0aGUgaWRlbnRpZnlpbmcgbm9kZSBpbmRpY2VzIHByb3ZpZGVkIGJ5IHRoZSBzaGFwZWNhc3QgZnVuY3Rpb24gaW5jbHVkZSBvZmZzZXRzIG9mIGFsbFxuXHRcdFx0Ly8gcm9vdCBidWZmZXJzIHRvIGd1YXJhbnRlZSB0aGV5J3JlIHVuaXF1ZSBiZXR3ZWVuIHJvb3RzIHNvIG9mZnNldCBsZWZ0IGFuZCByaWdodCBpbmRpY2VzIGhlcmUuXG5cdFx0XHRjb25zdCBvZmZzZXRMZWZ0ID0gbGVmdCArIGJ5dGVPZmZzZXQ7XG5cdFx0XHRjb25zdCBvZmZzZXRSaWdodCA9IHJpZ2h0ICsgYnl0ZU9mZnNldDtcblx0XHRcdGxldCBmb3JjZUNoaWxkcmVuID0gZm9yY2U7XG5cdFx0XHRsZXQgaW5jbHVkZXNMZWZ0ID0gZmFsc2U7XG5cdFx0XHRsZXQgaW5jbHVkZXNSaWdodCA9IGZhbHNlO1xuXG5cdFx0XHRpZiAoIG5vZGVJbmRpY2VzICkge1xuXG5cdFx0XHRcdC8vIGlmIHdlIHNlZSB0aGF0IG5laXRoZXIgdGhlIGxlZnQgb3IgcmlnaHQgY2hpbGQgYXJlIGluY2x1ZGVkIGluIHRoZSBzZXQgdGhhdCBuZWVkIHRvIGJlIHVwZGF0ZWRcblx0XHRcdFx0Ly8gdGhlbiB3ZSBhc3N1bWUgdGhhdCBhbGwgY2hpbGRyZW4gbmVlZCB0byBiZSB1cGRhdGVkLlxuXHRcdFx0XHRpZiAoICEgZm9yY2VDaGlsZHJlbiApIHtcblxuXHRcdFx0XHRcdGluY2x1ZGVzTGVmdCA9IG5vZGVJbmRpY2VzLmhhcyggb2Zmc2V0TGVmdCApO1xuXHRcdFx0XHRcdGluY2x1ZGVzUmlnaHQgPSBub2RlSW5kaWNlcy5oYXMoIG9mZnNldFJpZ2h0ICk7XG5cdFx0XHRcdFx0Zm9yY2VDaGlsZHJlbiA9ICEgaW5jbHVkZXNMZWZ0ICYmICEgaW5jbHVkZXNSaWdodDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aW5jbHVkZXNMZWZ0ID0gdHJ1ZTtcblx0XHRcdFx0aW5jbHVkZXNSaWdodCA9IHRydWU7XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgdHJhdmVyc2VMZWZ0ID0gZm9yY2VDaGlsZHJlbiB8fCBpbmNsdWRlc0xlZnQ7XG5cdFx0XHRjb25zdCB0cmF2ZXJzZVJpZ2h0ID0gZm9yY2VDaGlsZHJlbiB8fCBpbmNsdWRlc1JpZ2h0O1xuXG5cdFx0XHRsZXQgbGVmdENoYW5nZSA9IGZhbHNlO1xuXHRcdFx0aWYgKCB0cmF2ZXJzZUxlZnQgKSB7XG5cblx0XHRcdFx0bGVmdENoYW5nZSA9IF90cmF2ZXJzZSggbGVmdCwgYnl0ZU9mZnNldCwgZm9yY2VDaGlsZHJlbiApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGxldCByaWdodENoYW5nZSA9IGZhbHNlO1xuXHRcdFx0aWYgKCB0cmF2ZXJzZVJpZ2h0ICkge1xuXG5cdFx0XHRcdHJpZ2h0Q2hhbmdlID0gX3RyYXZlcnNlKCByaWdodCwgYnl0ZU9mZnNldCwgZm9yY2VDaGlsZHJlbiApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRpZENoYW5nZSA9IGxlZnRDaGFuZ2UgfHwgcmlnaHRDaGFuZ2U7XG5cdFx0XHRpZiAoIGRpZENoYW5nZSApIHtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgbGVmdGkgPSBsZWZ0ICsgaTtcblx0XHRcdFx0XHRjb25zdCByaWdodGkgPSByaWdodCArIGk7XG5cdFx0XHRcdFx0Y29uc3QgbWluTGVmdFZhbHVlID0gZmxvYXQzMkFycmF5WyBsZWZ0aSBdO1xuXHRcdFx0XHRcdGNvbnN0IG1heExlZnRWYWx1ZSA9IGZsb2F0MzJBcnJheVsgbGVmdGkgKyAzIF07XG5cdFx0XHRcdFx0Y29uc3QgbWluUmlnaHRWYWx1ZSA9IGZsb2F0MzJBcnJheVsgcmlnaHRpIF07XG5cdFx0XHRcdFx0Y29uc3QgbWF4UmlnaHRWYWx1ZSA9IGZsb2F0MzJBcnJheVsgcmlnaHRpICsgMyBdO1xuXG5cdFx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIGkgXSA9IG1pbkxlZnRWYWx1ZSA8IG1pblJpZ2h0VmFsdWUgPyBtaW5MZWZ0VmFsdWUgOiBtaW5SaWdodFZhbHVlO1xuXHRcdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyBpICsgMyBdID0gbWF4TGVmdFZhbHVlID4gbWF4UmlnaHRWYWx1ZSA/IG1heExlZnRWYWx1ZSA6IG1heFJpZ2h0VmFsdWU7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkaWRDaGFuZ2U7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbmV4cG9ydCB7IHJlZml0X2luZGlyZWN0IH07XG4iXSwibmFtZXMiOlsiSVNfTEVBRk5PREVfRkxBRyIsInJlZml0X2luZGlyZWN0IiwiYnZoIiwibm9kZUluZGljZXMiLCJBcnJheSIsImlzQXJyYXkiLCJTZXQiLCJnZW9tZXRyeSIsImluZGV4QXJyIiwiaW5kZXgiLCJhcnJheSIsInBvc0F0dHIiLCJhdHRyaWJ1dGVzIiwicG9zaXRpb24iLCJidWZmZXIiLCJ1aW50MzJBcnJheSIsInVpbnQxNkFycmF5IiwiZmxvYXQzMkFycmF5IiwiYnl0ZU9mZnNldCIsInJvb3RzIiwiX3Jvb3RzIiwiaSIsImwiLCJsZW5ndGgiLCJVaW50MzJBcnJheSIsIlVpbnQxNkFycmF5IiwiRmxvYXQzMkFycmF5IiwiX3RyYXZlcnNlIiwiYnl0ZUxlbmd0aCIsIm5vZGUzMkluZGV4IiwiZm9yY2UiLCJub2RlMTZJbmRleCIsImlzTGVhZiIsIm9mZnNldCIsImNvdW50IiwibWlueCIsIkluZmluaXR5IiwibWlueSIsIm1pbnoiLCJtYXh4IiwibWF4eSIsIm1heHoiLCJ0IiwicmVzb2x2ZVRyaWFuZ2xlSW5kZXgiLCJqIiwieCIsImdldFgiLCJ5IiwiZ2V0WSIsInoiLCJnZXRaIiwibGVmdCIsInJpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFJpZ2h0IiwiZm9yY2VDaGlsZHJlbiIsImluY2x1ZGVzTGVmdCIsImluY2x1ZGVzUmlnaHQiLCJoYXMiLCJ0cmF2ZXJzZUxlZnQiLCJ0cmF2ZXJzZVJpZ2h0IiwibGVmdENoYW5nZSIsInJpZ2h0Q2hhbmdlIiwiZGlkQ2hhbmdlIiwibGVmdGkiLCJyaWdodGkiLCJtaW5MZWZ0VmFsdWUiLCJtYXhMZWZ0VmFsdWUiLCJtaW5SaWdodFZhbHVlIiwibWF4UmlnaHRWYWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/refit_indirect.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/cast/shapecast.js":
/*!****************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/cast/shapecast.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shapecast: () => (/* binding */ shapecast)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Constants.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/Constants.js\");\n/* harmony import */ var _utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/ArrayBoxUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\");\n/* harmony import */ var _utils_PrimitivePool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/PrimitivePool.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/PrimitivePool.js\");\n/* harmony import */ var _utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/nodeBufferUtils.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\");\n/* harmony import */ var _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/BufferStack.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\");\n\n\n\n\n\n\nlet _box1, _box2;\nconst boxStack = [];\nconst boxPool = /* @__PURE__ */ new _utils_PrimitivePool_js__WEBPACK_IMPORTED_MODULE_0__.PrimitivePool(()=>new three__WEBPACK_IMPORTED_MODULE_1__.Box3());\nfunction shapecast(bvh, root, intersectsBounds, intersectsRange, boundsTraverseOrder, byteOffset) {\n    // setup\n    _box1 = boxPool.getPrimitive();\n    _box2 = boxPool.getPrimitive();\n    boxStack.push(_box1, _box2);\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_2__.BufferStack.setBuffer(bvh._roots[root]);\n    const result = shapecastTraverse(0, bvh.geometry, intersectsBounds, intersectsRange, boundsTraverseOrder, byteOffset);\n    // cleanup\n    _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_2__.BufferStack.clearBuffer();\n    boxPool.releasePrimitive(_box1);\n    boxPool.releasePrimitive(_box2);\n    boxStack.pop();\n    boxStack.pop();\n    const length = boxStack.length;\n    if (length > 0) {\n        _box2 = boxStack[length - 1];\n        _box1 = boxStack[length - 2];\n    }\n    return result;\n}\nfunction shapecastTraverse(nodeIndex32, geometry, intersectsBoundsFunc, intersectsRangeFunc, nodeScoreFunc = null, nodeIndexByteOffset = 0, depth = 0) {\n    const { float32Array, uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_2__.BufferStack;\n    let nodeIndex16 = nodeIndex32 * 2;\n    const isLeaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.IS_LEAF)(nodeIndex16, uint16Array);\n    if (isLeaf) {\n        const offset = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.OFFSET)(nodeIndex32, uint32Array);\n        const count = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.COUNT)(nodeIndex16, uint16Array);\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_4__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.BOUNDING_DATA_INDEX)(nodeIndex32), float32Array, _box1);\n        return intersectsRangeFunc(offset, count, false, depth, nodeIndexByteOffset + nodeIndex32, _box1);\n    } else {\n        const left = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.LEFT_NODE)(nodeIndex32);\n        const right = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.RIGHT_NODE)(nodeIndex32, uint32Array);\n        let c1 = left;\n        let c2 = right;\n        let score1, score2;\n        let box1, box2;\n        if (nodeScoreFunc) {\n            box1 = _box1;\n            box2 = _box2;\n            // bounding data is not offset\n            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_4__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.BOUNDING_DATA_INDEX)(c1), float32Array, box1);\n            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_4__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.BOUNDING_DATA_INDEX)(c2), float32Array, box2);\n            score1 = nodeScoreFunc(box1);\n            score2 = nodeScoreFunc(box2);\n            if (score2 < score1) {\n                c1 = right;\n                c2 = left;\n                const temp = score1;\n                score1 = score2;\n                score2 = temp;\n                box1 = box2;\n            // box2 is always set before use below\n            }\n        }\n        // Check box 1 intersection\n        if (!box1) {\n            box1 = _box1;\n            (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_4__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.BOUNDING_DATA_INDEX)(c1), float32Array, box1);\n        }\n        const isC1Leaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.IS_LEAF)(c1 * 2, uint16Array);\n        const c1Intersection = intersectsBoundsFunc(box1, isC1Leaf, score1, depth + 1, nodeIndexByteOffset + c1);\n        let c1StopTraversal;\n        if (c1Intersection === _Constants_js__WEBPACK_IMPORTED_MODULE_5__.CONTAINED) {\n            const offset = getLeftOffset(c1);\n            const end = getRightEndOffset(c1);\n            const count = end - offset;\n            c1StopTraversal = intersectsRangeFunc(offset, count, true, depth + 1, nodeIndexByteOffset + c1, box1);\n        } else {\n            c1StopTraversal = c1Intersection && shapecastTraverse(c1, geometry, intersectsBoundsFunc, intersectsRangeFunc, nodeScoreFunc, nodeIndexByteOffset, depth + 1);\n        }\n        if (c1StopTraversal) return true;\n        // Check box 2 intersection\n        // cached box2 will have been overwritten by previous traversal\n        box2 = _box2;\n        (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_4__.arrayToBox)((0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.BOUNDING_DATA_INDEX)(c2), float32Array, box2);\n        const isC2Leaf = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.IS_LEAF)(c2 * 2, uint16Array);\n        const c2Intersection = intersectsBoundsFunc(box2, isC2Leaf, score2, depth + 1, nodeIndexByteOffset + c2);\n        let c2StopTraversal;\n        if (c2Intersection === _Constants_js__WEBPACK_IMPORTED_MODULE_5__.CONTAINED) {\n            const offset = getLeftOffset(c2);\n            const end = getRightEndOffset(c2);\n            const count = end - offset;\n            c2StopTraversal = intersectsRangeFunc(offset, count, true, depth + 1, nodeIndexByteOffset + c2, box2);\n        } else {\n            c2StopTraversal = c2Intersection && shapecastTraverse(c2, geometry, intersectsBoundsFunc, intersectsRangeFunc, nodeScoreFunc, nodeIndexByteOffset, depth + 1);\n        }\n        if (c2StopTraversal) return true;\n        return false;\n        // Define these inside the function so it has access to the local variables needed\n        // when converting to the buffer equivalents\n        function getLeftOffset(nodeIndex32) {\n            const { uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_2__.BufferStack;\n            let nodeIndex16 = nodeIndex32 * 2;\n            // traverse until we find a leaf\n            while(!(0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.IS_LEAF)(nodeIndex16, uint16Array)){\n                nodeIndex32 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.LEFT_NODE)(nodeIndex32);\n                nodeIndex16 = nodeIndex32 * 2;\n            }\n            return (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.OFFSET)(nodeIndex32, uint32Array);\n        }\n        function getRightEndOffset(nodeIndex32) {\n            const { uint16Array, uint32Array } = _utils_BufferStack_js__WEBPACK_IMPORTED_MODULE_2__.BufferStack;\n            let nodeIndex16 = nodeIndex32 * 2;\n            // traverse until we find a leaf\n            while(!(0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.IS_LEAF)(nodeIndex16, uint16Array)){\n                // adjust offset to point to the right node\n                nodeIndex32 = (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.RIGHT_NODE)(nodeIndex32, uint32Array);\n                nodeIndex16 = nodeIndex32 * 2;\n            }\n            // return the end offset of the triangle range\n            return (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.OFFSET)(nodeIndex32, uint32Array) + (0,_utils_nodeBufferUtils_js__WEBPACK_IMPORTED_MODULE_3__.COUNT)(nodeIndex16, uint16Array);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvY2FzdC9zaGFwZWNhc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2QjtBQUNlO0FBQ2tCO0FBQ0Q7QUFDb0Q7QUFDM0Q7QUFFdEQsSUFBSVcsT0FBT0M7QUFDWCxNQUFNQyxXQUFXLEVBQUU7QUFDbkIsTUFBTUMsVUFBVSxhQUFhLEdBQUcsSUFBSVgsa0VBQWFBLENBQUUsSUFBTSxJQUFJSCx1Q0FBSUE7QUFFMUQsU0FBU2UsVUFBV0MsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLGdCQUFnQixFQUFFQyxlQUFlLEVBQUVDLG1CQUFtQixFQUFFQyxVQUFVO0lBRXZHLFFBQVE7SUFDUlYsUUFBUUcsUUFBUVEsWUFBWTtJQUM1QlYsUUFBUUUsUUFBUVEsWUFBWTtJQUM1QlQsU0FBU1UsSUFBSSxDQUFFWixPQUFPQztJQUN0QkYsOERBQVdBLENBQUNjLFNBQVMsQ0FBRVIsSUFBSVMsTUFBTSxDQUFFUixLQUFNO0lBRXpDLE1BQU1TLFNBQVNDLGtCQUFtQixHQUFHWCxJQUFJWSxRQUFRLEVBQUVWLGtCQUFrQkMsaUJBQWlCQyxxQkFBcUJDO0lBRTNHLFVBQVU7SUFDVlgsOERBQVdBLENBQUNtQixXQUFXO0lBQ3ZCZixRQUFRZ0IsZ0JBQWdCLENBQUVuQjtJQUMxQkcsUUFBUWdCLGdCQUFnQixDQUFFbEI7SUFDMUJDLFNBQVNrQixHQUFHO0lBQ1psQixTQUFTa0IsR0FBRztJQUVaLE1BQU1DLFNBQVNuQixTQUFTbUIsTUFBTTtJQUM5QixJQUFLQSxTQUFTLEdBQUk7UUFFakJwQixRQUFRQyxRQUFRLENBQUVtQixTQUFTLEVBQUc7UUFDOUJyQixRQUFRRSxRQUFRLENBQUVtQixTQUFTLEVBQUc7SUFFL0I7SUFFQSxPQUFPTjtBQUVSO0FBRUEsU0FBU0Msa0JBQ1JNLFdBQVcsRUFDWEwsUUFBUSxFQUNSTSxvQkFBb0IsRUFDcEJDLG1CQUFtQixFQUNuQkMsZ0JBQWdCLElBQUksRUFDcEJD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QkFDQUMsUUFBUTtRQUdYO1FBRUEsSUFBS3lCLGlCQUFrQixPQUFPO1FBRTlCLE9BQU87UUFFUCxrRkFBa0Y7UUFDbEYsNENBQTRDO1FBQzVDLFNBQVNMLGNBQWV6QixXQUFXO1lBRWxDLE1BQU0sRUFBRU8sV0FBVyxFQUFFQyxXQUFXLEVBQUUsR0FBRy9CLDhEQUFXQTtZQUNoRCxJQUFJZ0MsY0FBY1QsY0FBYztZQUVoQyxnQ0FBZ0M7WUFDaEMsTUFBUSxDQUFFekIsa0VBQU9BLENBQUVrQyxhQUFhRixhQUFnQjtnQkFFL0NQLGNBQWMzQixvRUFBU0EsQ0FBRTJCO2dCQUN6QlMsY0FBY1QsY0FBYztZQUU3QjtZQUVBLE9BQU81QixpRUFBTUEsQ0FBRTRCLGFBQWFRO1FBRTdCO1FBRUEsU0FBU21CLGtCQUFtQjNCLFdBQVc7WUFFdEMsTUFBTSxFQUFFTyxXQUFXLEVBQUVDLFdBQVcsRUFBRSxHQUFHL0IsOERBQVdBO1lBQ2hELElBQUlnQyxjQUFjVCxjQUFjO1lBRWhDLGdDQUFnQztZQUNoQyxNQUFRLENBQUV6QixrRUFBT0EsQ0FBRWtDLGFBQWFGLGFBQWdCO2dCQUUvQywyQ0FBMkM7Z0JBQzNDUCxjQUFjMUIscUVBQVVBLENBQUUwQixhQUFhUTtnQkFDdkNDLGNBQWNULGNBQWM7WUFFN0I7WUFFQSw4Q0FBOEM7WUFDOUMsT0FBTzVCLGlFQUFNQSxDQUFFNEIsYUFBYVEsZUFBZ0JyQyxnRUFBS0EsQ0FBRXNDLGFBQWFGO1FBRWpFO0lBRUQ7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9jYXN0L3NoYXBlY2FzdC5qcz84YzI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJveDMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBDT05UQUlORUQgfSBmcm9tICcuLi9Db25zdGFudHMuanMnO1xuaW1wb3J0IHsgYXJyYXlUb0JveCB9IGZyb20gJy4uLy4uL3V0aWxzL0FycmF5Qm94VXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IFByaW1pdGl2ZVBvb2wgfSBmcm9tICcuLi8uLi91dGlscy9QcmltaXRpdmVQb29sLmpzJztcbmltcG9ydCB7IENPVU5ULCBPRkZTRVQsIExFRlRfTk9ERSwgUklHSFRfTk9ERSwgSVNfTEVBRiwgQk9VTkRJTkdfREFUQV9JTkRFWCB9IGZyb20gJy4uL3V0aWxzL25vZGVCdWZmZXJVdGlscy5qcyc7XG5pbXBvcnQgeyBCdWZmZXJTdGFjayB9IGZyb20gJy4uL3V0aWxzL0J1ZmZlclN0YWNrLmpzJztcblxubGV0IF9ib3gxLCBfYm94MjtcbmNvbnN0IGJveFN0YWNrID0gW107XG5jb25zdCBib3hQb29sID0gLyogQF9fUFVSRV9fICovIG5ldyBQcmltaXRpdmVQb29sKCAoKSA9PiBuZXcgQm94MygpICk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFwZWNhc3QoIGJ2aCwgcm9vdCwgaW50ZXJzZWN0c0JvdW5kcywgaW50ZXJzZWN0c1JhbmdlLCBib3VuZHNUcmF2ZXJzZU9yZGVyLCBieXRlT2Zmc2V0ICkge1xuXG5cdC8vIHNldHVwXG5cdF9ib3gxID0gYm94UG9vbC5nZXRQcmltaXRpdmUoKTtcblx0X2JveDIgPSBib3hQb29sLmdldFByaW1pdGl2ZSgpO1xuXHRib3hTdGFjay5wdXNoKCBfYm94MSwgX2JveDIgKTtcblx0QnVmZmVyU3RhY2suc2V0QnVmZmVyKCBidmguX3Jvb3RzWyByb290IF0gKTtcblxuXHRjb25zdCByZXN1bHQgPSBzaGFwZWNhc3RUcmF2ZXJzZSggMCwgYnZoLmdlb21ldHJ5LCBpbnRlcnNlY3RzQm91bmRzLCBpbnRlcnNlY3RzUmFuZ2UsIGJvdW5kc1RyYXZlcnNlT3JkZXIsIGJ5dGVPZmZzZXQgKTtcblxuXHQvLyBjbGVhbnVwXG5cdEJ1ZmZlclN0YWNrLmNsZWFyQnVmZmVyKCk7XG5cdGJveFBvb2wucmVsZWFzZVByaW1pdGl2ZSggX2JveDEgKTtcblx0Ym94UG9vbC5yZWxlYXNlUHJpbWl0aXZlKCBfYm94MiApO1xuXHRib3hTdGFjay5wb3AoKTtcblx0Ym94U3RhY2sucG9wKCk7XG5cblx0Y29uc3QgbGVuZ3RoID0gYm94U3RhY2subGVuZ3RoO1xuXHRpZiAoIGxlbmd0aCA+IDAgKSB7XG5cblx0XHRfYm94MiA9IGJveFN0YWNrWyBsZW5ndGggLSAxIF07XG5cdFx0X2JveDEgPSBib3hTdGFja1sgbGVuZ3RoIC0gMiBdO1xuXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xuXG59XG5cbmZ1bmN0aW9uIHNoYXBlY2FzdFRyYXZlcnNlKFxuXHRub2RlSW5kZXgzMixcblx0Z2VvbWV0cnksXG5cdGludGVyc2VjdHNCb3VuZHNGdW5jLFxuXHRpbnRlcnNlY3RzUmFuZ2VGdW5jLFxuXHRub2RlU2NvcmVGdW5jID0gbnVsbCxcblx0bm9kZUluZGV4Qnl0ZU9mZnNldCA9IDAsIC8vIG9mZnNldCBmb3IgdW5pcXVlIG5vZGUgaWRlbnRpZmllclxuXHRkZXB0aCA9IDBcbikge1xuXG5cdGNvbnN0IHsgZmxvYXQzMkFycmF5LCB1aW50MTZBcnJheSwgdWludDMyQXJyYXkgfSA9IEJ1ZmZlclN0YWNrO1xuXHRsZXQgbm9kZUluZGV4MTYgPSBub2RlSW5kZXgzMiAqIDI7XG5cblx0Y29uc3QgaXNMZWFmID0gSVNfTEVBRiggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XG5cdGlmICggaXNMZWFmICkge1xuXG5cdFx0Y29uc3Qgb2Zmc2V0ID0gT0ZGU0VUKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcblx0XHRjb25zdCBjb3VudCA9IENPVU5UKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcblx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBub2RlSW5kZXgzMiApLCBmbG9hdDMyQXJyYXksIF9ib3gxICk7XG5cdFx0cmV0dXJuIGludGVyc2VjdHNSYW5nZUZ1bmMoIG9mZnNldCwgY291bnQsIGZhbHNlLCBkZXB0aCwgbm9kZUluZGV4Qnl0ZU9mZnNldCArIG5vZGVJbmRleDMyLCBfYm94MSApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHRjb25zdCBsZWZ0ID0gTEVGVF9OT0RFKCBub2RlSW5kZXgzMiApO1xuXHRcdGNvbnN0IHJpZ2h0ID0gUklHSFRfTk9ERSggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XG5cdFx0bGV0IGMxID0gbGVmdDtcblx0XHRsZXQgYzIgPSByaWdodDtcblxuXHRcdGxldCBzY29yZTEsIHNjb3JlMjtcblx0XHRsZXQgYm94MSwgYm94Mjtcblx0XHRpZiAoIG5vZGVTY29yZUZ1bmMgKSB7XG5cblx0XHRcdGJveDEgPSBfYm94MTtcblx0XHRcdGJveDIgPSBfYm94MjtcblxuXHRcdFx0Ly8gYm91bmRpbmcgZGF0YSBpcyBub3Qgb2Zmc2V0XG5cdFx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBjMSApLCBmbG9hdDMyQXJyYXksIGJveDEgKTtcblx0XHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGMyICksIGZsb2F0MzJBcnJheSwgYm94MiApO1xuXG5cdFx0XHRzY29yZTEgPSBub2RlU2NvcmVGdW5jKCBib3gxICk7XG5cdFx0XHRzY29yZTIgPSBub2RlU2NvcmVGdW5jKCBib3gyICk7XG5cblx0XHRcdGlmICggc2NvcmUyIDwgc2NvcmUxICkge1xuXG5cdFx0XHRcdGMxID0gcmlnaHQ7XG5cdFx0XHRcdGMyID0gbGVmdDtcblxuXHRcdFx0XHRjb25zdCB0ZW1wID0gc2NvcmUxO1xuXHRcdFx0XHRzY29yZTEgPSBzY29yZTI7XG5cdFx0XHRcdHNjb3JlMiA9IHRlbXA7XG5cblx0XHRcdFx0Ym94MSA9IGJveDI7XG5cdFx0XHRcdC8vIGJveDIgaXMgYWx3YXlzIHNldCBiZWZvcmUgdXNlIGJlbG93XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIENoZWNrIGJveCAxIGludGVyc2VjdGlvblxuXHRcdGlmICggISBib3gxICkge1xuXG5cdFx0XHRib3gxID0gX2JveDE7XG5cdFx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBjMSApLCBmbG9hdDMyQXJyYXksIGJveDEgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGlzQzFMZWFmID0gSVNfTEVBRiggYzEgKiAyLCB1aW50MTZBcnJheSApO1xuXHRcdGNvbnN0IGMxSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0c0JvdW5kc0Z1bmMoIGJveDEsIGlzQzFMZWFmLCBzY29yZTEsIGRlcHRoICsgMSwgbm9kZUluZGV4Qnl0ZU9mZnNldCArIGMxICk7XG5cblx0XHRsZXQgYzFTdG9wVHJhdmVyc2FsO1xuXHRcdGlmICggYzFJbnRlcnNlY3Rpb24gPT09IENPTlRBSU5FRCApIHtcblxuXHRcdFx0Y29uc3Qgb2Zmc2V0ID0gZ2V0TGVmdE9mZnNldCggYzEgKTtcblx0XHRcdGNvbnN0IGVuZCA9IGdldFJpZ2h0RW5kT2Zmc2V0KCBjMSApO1xuXHRcdFx0Y29uc3QgY291bnQgPSBlbmQgLSBvZmZzZXQ7XG5cblx0XHRcdGMxU3RvcFRyYXZlcnNhbCA9IGludGVyc2VjdHNSYW5nZUZ1bmMoIG9mZnNldCwgY291bnQsIHRydWUsIGRlcHRoICsgMSwgbm9kZUluZGV4Qnl0ZU9mZnNldCArIGMxLCBib3gxICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjMVN0b3BUcmF2ZXJzYWwgPVxuXHRcdFx0XHRjMUludGVyc2VjdGlvbiAmJlxuXHRcdFx0XHRzaGFwZWNhc3RUcmF2ZXJzZShcblx0XHRcdFx0XHRjMSxcblx0XHRcdFx0XHRnZW9tZXRyeSxcblx0XHRcdFx0XHRpbnRlcnNlY3RzQm91bmRzRnVuYyxcblx0XHRcdFx0XHRpbnRlcnNlY3RzUmFuZ2VGdW5jLFxuXHRcdFx0XHRcdG5vZGVTY29yZUZ1bmMsXG5cdFx0XHRcdFx0bm9kZUluZGV4Qnl0ZU9mZnNldCxcblx0XHRcdFx0XHRkZXB0aCArIDFcblx0XHRcdFx0KTtcblxuXHRcdH1cblxuXHRcdGlmICggYzFTdG9wVHJhdmVyc2FsICkgcmV0dXJuIHRydWU7XG5cblx0XHQvLyBDaGVjayBib3ggMiBpbnRlcnNlY3Rpb25cblx0XHQvLyBjYWNoZWQgYm94MiB3aWxsIGhhdmUgYmVlbiBvdmVyd3JpdHRlbiBieSBwcmV2aW91cyB0cmF2ZXJzYWxcblx0XHRib3gyID0gX2JveDI7XG5cdFx0YXJyYXlUb0JveCggQk9VTkRJTkdfREFUQV9JTkRFWCggYzIgKSwgZmxvYXQzMkFycmF5LCBib3gyICk7XG5cblx0XHRjb25zdCBpc0MyTGVhZiA9IElTX0xFQUYoIGMyICogMiwgdWludDE2QXJyYXkgKTtcblx0XHRjb25zdCBjMkludGVyc2VjdGlvbiA9IGludGVyc2VjdHNCb3VuZHNGdW5jKCBib3gyLCBpc0MyTGVhZiwgc2NvcmUyLCBkZXB0aCArIDEsIG5vZGVJbmRleEJ5dGVPZmZzZXQgKyBjMiApO1xuXG5cdFx0bGV0IGMyU3RvcFRyYXZlcnNhbDtcblx0XHRpZiAoIGMySW50ZXJzZWN0aW9uID09PSBDT05UQUlORUQgKSB7XG5cblx0XHRcdGNvbnN0IG9mZnNldCA9IGdldExlZnRPZmZzZXQoIGMyICk7XG5cdFx0XHRjb25zdCBlbmQgPSBnZXRSaWdodEVuZE9mZnNldCggYzIgKTtcblx0XHRcdGNvbnN0IGNvdW50ID0gZW5kIC0gb2Zmc2V0O1xuXG5cdFx0XHRjMlN0b3BUcmF2ZXJzYWwgPSBpbnRlcnNlY3RzUmFuZ2VGdW5jKCBvZmZzZXQsIGNvdW50LCB0cnVlLCBkZXB0aCArIDEsIG5vZGVJbmRleEJ5dGVPZmZzZXQgKyBjMiwgYm94MiApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0YzJTdG9wVHJhdmVyc2FsID1cblx0XHRcdFx0YzJJbnRlcnNlY3Rpb24gJiZcblx0XHRcdFx0c2hhcGVjYXN0VHJhdmVyc2UoXG5cdFx0XHRcdFx0YzIsXG5cdFx0XHRcdFx0Z2VvbWV0cnksXG5cdFx0XHRcdFx0aW50ZXJzZWN0c0JvdW5kc0Z1bmMsXG5cdFx0XHRcdFx0aW50ZXJzZWN0c1JhbmdlRnVuYyxcblx0XHRcdFx0XHRub2RlU2NvcmVGdW5jLFxuXHRcdFx0XHRcdG5vZGVJbmRleEJ5dGVPZmZzZXQsXG5cdFx0XHRcdFx0ZGVwdGggKyAxXG5cdFx0XHRcdCk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGMyU3RvcFRyYXZlcnNhbCApIHJldHVybiB0cnVlO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0Ly8gRGVmaW5lIHRoZXNlIGluc2lkZSB0aGUgZnVuY3Rpb24gc28gaXQgaGFzIGFjY2VzcyB0byB0aGUgbG9jYWwgdmFyaWFibGVzIG5lZWRlZFxuXHRcdC8vIHdoZW4gY29udmVydGluZyB0byB0aGUgYnVmZmVyIGVxdWl2YWxlbnRzXG5cdFx0ZnVuY3Rpb24gZ2V0TGVmdE9mZnNldCggbm9kZUluZGV4MzIgKSB7XG5cblx0XHRcdGNvbnN0IHsgdWludDE2QXJyYXksIHVpbnQzMkFycmF5IH0gPSBCdWZmZXJTdGFjaztcblx0XHRcdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMjtcblxuXHRcdFx0Ly8gdHJhdmVyc2UgdW50aWwgd2UgZmluZCBhIGxlYWZcblx0XHRcdHdoaWxlICggISBJU19MRUFGKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKSApIHtcblxuXHRcdFx0XHRub2RlSW5kZXgzMiA9IExFRlRfTk9ERSggbm9kZUluZGV4MzIgKTtcblx0XHRcdFx0bm9kZUluZGV4MTYgPSBub2RlSW5kZXgzMiAqIDI7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE9GRlNFVCggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XG5cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRSaWdodEVuZE9mZnNldCggbm9kZUluZGV4MzIgKSB7XG5cblx0XHRcdGNvbnN0IHsgdWludDE2QXJyYXksIHVpbnQzMkFycmF5IH0gPSBCdWZmZXJTdGFjaztcblx0XHRcdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMjtcblxuXHRcdFx0Ly8gdHJhdmVyc2UgdW50aWwgd2UgZmluZCBhIGxlYWZcblx0XHRcdHdoaWxlICggISBJU19MRUFGKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKSApIHtcblxuXHRcdFx0XHQvLyBhZGp1c3Qgb2Zmc2V0IHRvIHBvaW50IHRvIHRoZSByaWdodCBub2RlXG5cdFx0XHRcdG5vZGVJbmRleDMyID0gUklHSFRfTk9ERSggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XG5cdFx0XHRcdG5vZGVJbmRleDE2ID0gbm9kZUluZGV4MzIgKiAyO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIHJldHVybiB0aGUgZW5kIG9mZnNldCBvZiB0aGUgdHJpYW5nbGUgcmFuZ2Vcblx0XHRcdHJldHVybiBPRkZTRVQoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApICsgQ09VTlQoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuIl0sIm5hbWVzIjpbIkJveDMiLCJDT05UQUlORUQiLCJhcnJheVRvQm94IiwiUHJpbWl0aXZlUG9vbCIsIkNPVU5UIiwiT0ZGU0VUIiwiTEVGVF9OT0RFIiwiUklHSFRfTk9ERSIsIklTX0xFQUYiLCJCT1VORElOR19EQVRBX0lOREVYIiwiQnVmZmVyU3RhY2siLCJfYm94MSIsIl9ib3gyIiwiYm94U3RhY2siLCJib3hQb29sIiwic2hhcGVjYXN0IiwiYnZoIiwicm9vdCIsImludGVyc2VjdHNCb3VuZHMiLCJpbnRlcnNlY3RzUmFuZ2UiLCJib3VuZHNUcmF2ZXJzZU9yZGVyIiwiYnl0ZU9mZnNldCIsImdldFByaW1pdGl2ZSIsInB1c2giLCJzZXRCdWZmZXIiLCJfcm9vdHMiLCJyZXN1bHQiLCJzaGFwZWNhc3RUcmF2ZXJzZSIsImdlb21ldHJ5IiwiY2xlYXJCdWZmZXIiLCJyZWxlYXNlUHJpbWl0aXZlIiwicG9wIiwibGVuZ3RoIiwibm9kZUluZGV4MzIiLCJpbnRlcnNlY3RzQm91bmRzRnVuYyIsImludGVyc2VjdHNSYW5nZUZ1bmMiLCJub2RlU2NvcmVGdW5jIiwibm9kZUluZGV4Qnl0ZU9mZnNldCIsImRlcHRoIiwiZmxvYXQzMkFycmF5IiwidWludDE2QXJyYXkiLCJ1aW50MzJBcnJheSIsIm5vZGVJbmRleDE2IiwiaXNMZWFmIiwib2Zmc2V0IiwiY291bnQiLCJsZWZ0IiwicmlnaHQiLCJjMSIsImMyIiwic2NvcmUxIiwic2NvcmUyIiwiYm94MSIsImJveDIiLCJ0ZW1wIiwiaXNDMUxlYWYiLCJjMUludGVyc2VjdGlvbiIsImMxU3RvcFRyYXZlcnNhbCIsImdldExlZnRPZmZzZXQiLCJlbmQiLCJnZXRSaWdodEVuZE9mZnNldCIsImlzQzJMZWFmIiwiYzJJbnRlcnNlY3Rpb24iLCJjMlN0b3BUcmF2ZXJzYWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/cast/shapecast.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js":
/*!*******************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BufferStack: () => (/* binding */ BufferStack)\n/* harmony export */ });\nclass _BufferStack {\n    constructor(){\n        this.float32Array = null;\n        this.uint16Array = null;\n        this.uint32Array = null;\n        const stack = [];\n        let prevBuffer = null;\n        this.setBuffer = (buffer)=>{\n            if (prevBuffer) {\n                stack.push(prevBuffer);\n            }\n            prevBuffer = buffer;\n            this.float32Array = new Float32Array(buffer);\n            this.uint16Array = new Uint16Array(buffer);\n            this.uint32Array = new Uint32Array(buffer);\n        };\n        this.clearBuffer = ()=>{\n            prevBuffer = null;\n            this.float32Array = null;\n            this.uint16Array = null;\n            this.uint32Array = null;\n            if (stack.length !== 0) {\n                this.setBuffer(stack.pop());\n            }\n        };\n    }\n}\nconst BufferStack = new _BufferStack();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvdXRpbHMvQnVmZmVyU3RhY2suanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BO0lBRUxDLGFBQWM7UUFFYixJQUFJLENBQUNDLFlBQVksR0FBRztRQUNwQixJQUFJLENBQUNDLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNDLFdBQVcsR0FBRztRQUVuQixNQUFNQyxRQUFRLEVBQUU7UUFDaEIsSUFBSUMsYUFBYTtRQUNqQixJQUFJLENBQUNDLFNBQVMsR0FBR0MsQ0FBQUE7WUFFaEIsSUFBS0YsWUFBYTtnQkFFakJELE1BQU1JLElBQUksQ0FBRUg7WUFFYjtZQUVBQSxhQUFhRTtZQUNiLElBQUksQ0FBQ04sWUFBWSxHQUFHLElBQUlRLGFBQWNGO1lBQ3RDLElBQUksQ0FBQ0wsV0FBVyxHQUFHLElBQUlRLFlBQWFIO1lBQ3BDLElBQUksQ0FBQ0osV0FBVyxHQUFHLElBQUlRLFlBQWFKO1FBRXJDO1FBRUEsSUFBSSxDQUFDSyxXQUFXLEdBQUc7WUFFbEJQLGFBQWE7WUFDYixJQUFJLENBQUNKLFlBQVksR0FBRztZQUNwQixJQUFJLENBQUNDLFdBQVcsR0FBRztZQUNuQixJQUFJLENBQUNDLFdBQVcsR0FBRztZQUVuQixJQUFLQyxNQUFNUyxNQUFNLEtBQUssR0FBSTtnQkFFekIsSUFBSSxDQUFDUCxTQUFTLENBQUVGLE1BQU1VLEdBQUc7WUFFMUI7UUFFRDtJQUVEO0FBRUQ7QUFFTyxNQUFNQyxjQUFjLElBQUloQixlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL3V0aWxzL0J1ZmZlclN0YWNrLmpzPzFlNDciXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgX0J1ZmZlclN0YWNrIHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHRoaXMuZmxvYXQzMkFycmF5ID0gbnVsbDtcblx0XHR0aGlzLnVpbnQxNkFycmF5ID0gbnVsbDtcblx0XHR0aGlzLnVpbnQzMkFycmF5ID0gbnVsbDtcblxuXHRcdGNvbnN0IHN0YWNrID0gW107XG5cdFx0bGV0IHByZXZCdWZmZXIgPSBudWxsO1xuXHRcdHRoaXMuc2V0QnVmZmVyID0gYnVmZmVyID0+IHtcblxuXHRcdFx0aWYgKCBwcmV2QnVmZmVyICkge1xuXG5cdFx0XHRcdHN0YWNrLnB1c2goIHByZXZCdWZmZXIgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRwcmV2QnVmZmVyID0gYnVmZmVyO1xuXHRcdFx0dGhpcy5mbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KCBidWZmZXIgKTtcblx0XHRcdHRoaXMudWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoIGJ1ZmZlciApO1xuXHRcdFx0dGhpcy51aW50MzJBcnJheSA9IG5ldyBVaW50MzJBcnJheSggYnVmZmVyICk7XG5cblx0XHR9O1xuXG5cdFx0dGhpcy5jbGVhckJ1ZmZlciA9ICgpID0+IHtcblxuXHRcdFx0cHJldkJ1ZmZlciA9IG51bGw7XG5cdFx0XHR0aGlzLmZsb2F0MzJBcnJheSA9IG51bGw7XG5cdFx0XHR0aGlzLnVpbnQxNkFycmF5ID0gbnVsbDtcblx0XHRcdHRoaXMudWludDMyQXJyYXkgPSBudWxsO1xuXG5cdFx0XHRpZiAoIHN0YWNrLmxlbmd0aCAhPT0gMCApIHtcblxuXHRcdFx0XHR0aGlzLnNldEJ1ZmZlciggc3RhY2sucG9wKCkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHR9XG5cbn1cblxuZXhwb3J0IGNvbnN0IEJ1ZmZlclN0YWNrID0gbmV3IF9CdWZmZXJTdGFjaygpO1xuIl0sIm5hbWVzIjpbIl9CdWZmZXJTdGFjayIsImNvbnN0cnVjdG9yIiwiZmxvYXQzMkFycmF5IiwidWludDE2QXJyYXkiLCJ1aW50MzJBcnJheSIsInN0YWNrIiwicHJldkJ1ZmZlciIsInNldEJ1ZmZlciIsImJ1ZmZlciIsInB1c2giLCJGbG9hdDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQzMkFycmF5IiwiY2xlYXJCdWZmZXIiLCJsZW5ndGgiLCJwb3AiLCJCdWZmZXJTdGFjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/utils/BufferStack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/utils/intersectUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/utils/intersectUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intersectRay: () => (/* binding */ intersectRay)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/ArrayBoxUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\");\n\n\nconst _boundingBox = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Box3();\nfunction intersectRay(nodeIndex32, array, ray, target) {\n    (0,_utils_ArrayBoxUtilities_js__WEBPACK_IMPORTED_MODULE_1__.arrayToBox)(nodeIndex32, array, _boundingBox);\n    return ray.intersectBox(_boundingBox, target);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvdXRpbHMvaW50ZXJzZWN0VXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZCO0FBQ2lDO0FBRTlELE1BQU1FLGVBQWUsYUFBYSxHQUFHLElBQUlGLHVDQUFJQTtBQUN0QyxTQUFTRyxhQUFjQyxXQUFXLEVBQUVDLEtBQUssRUFBRUMsR0FBRyxFQUFFQyxNQUFNO0lBRTVETix1RUFBVUEsQ0FBRUcsYUFBYUMsT0FBT0g7SUFDaEMsT0FBT0ksSUFBSUUsWUFBWSxDQUFFTixjQUFjSztBQUV4QyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS91dGlscy9pbnRlcnNlY3RVdGlscy5qcz8wYTE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJveDMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBhcnJheVRvQm94IH0gZnJvbSAnLi4vLi4vdXRpbHMvQXJyYXlCb3hVdGlsaXRpZXMuanMnO1xuXG5jb25zdCBfYm91bmRpbmdCb3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IEJveDMoKTtcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RSYXkoIG5vZGVJbmRleDMyLCBhcnJheSwgcmF5LCB0YXJnZXQgKSB7XG5cblx0YXJyYXlUb0JveCggbm9kZUluZGV4MzIsIGFycmF5LCBfYm91bmRpbmdCb3ggKTtcblx0cmV0dXJuIHJheS5pbnRlcnNlY3RCb3goIF9ib3VuZGluZ0JveCwgdGFyZ2V0ICk7XG5cbn1cbiJdLCJuYW1lcyI6WyJCb3gzIiwiYXJyYXlUb0JveCIsIl9ib3VuZGluZ0JveCIsImludGVyc2VjdFJheSIsIm5vZGVJbmRleDMyIiwiYXJyYXkiLCJyYXkiLCJ0YXJnZXQiLCJpbnRlcnNlY3RCb3giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/utils/intersectUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils.generated.js":
/*!********************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/utils/iterationUtils.generated.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intersectClosestTri: () => (/* binding */ intersectClosestTri),\n/* harmony export */   intersectTris: () => (/* binding */ intersectTris),\n/* harmony export */   iterateOverTriangles: () => (/* binding */ iterateOverTriangles)\n/* harmony export */ });\n/* harmony import */ var _utils_ThreeRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/ThreeRayIntersectUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ThreeRayIntersectUtilities.js\");\n/* harmony import */ var _utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/TriangleUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\");\n\n\n/*************************************************************/ /* This file is generated from \"iterationUtils.template.js\". */ /*************************************************************/ /* eslint-disable indent */ function intersectTris(bvh, side, ray, offset, count, intersections) {\n    const { geometry, _indirectBuffer } = bvh;\n    for(let i = offset, end = offset + count; i < end; i++){\n        (0,_utils_ThreeRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_0__.intersectTri)(geometry, side, ray, i, intersections);\n    }\n}\nfunction intersectClosestTri(bvh, side, ray, offset, count) {\n    const { geometry, _indirectBuffer } = bvh;\n    let dist = Infinity;\n    let res = null;\n    for(let i = offset, end = offset + count; i < end; i++){\n        let intersection;\n        intersection = (0,_utils_ThreeRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_0__.intersectTri)(geometry, side, ray, i);\n        if (intersection && intersection.distance < dist) {\n            res = intersection;\n            dist = intersection.distance;\n        }\n    }\n    return res;\n}\nfunction iterateOverTriangles(offset, count, bvh, intersectsTriangleFunc, contained, depth, triangle) {\n    const { geometry } = bvh;\n    const { index } = geometry;\n    const pos = geometry.attributes.position;\n    for(let i = offset, l = count + offset; i < l; i++){\n        let tri;\n        tri = i;\n        (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_1__.setTriangle)(triangle, tri * 3, index, pos);\n        triangle.needsUpdate = true;\n        if (intersectsTriangleFunc(triangle, tri, contained, depth)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvdXRpbHMvaXRlcmF0aW9uVXRpbHMuZ2VuZXJhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlFO0FBQ1Y7QUFFL0QsNkRBQTZELEdBQzdELDZEQUE2RCxHQUM3RCw2REFBNkQsR0FDN0QseUJBQXlCLEdBRXpCLFNBQVNFLGNBQWVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxHQUFHLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxhQUFhO0lBRW5FLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxlQUFlLEVBQUUsR0FBR1A7SUFDdEMsSUFBTSxJQUFJUSxJQUFJTCxRQUFRTSxNQUFNTixTQUFTQyxPQUFPSSxJQUFJQyxLQUFLRCxJQUFPO1FBRzNEWCxrRkFBWUEsQ0FBRVMsVUFBVUwsTUFBTUMsS0FBS00sR0FBR0g7SUFHdkM7QUFFRDtBQUVBLFNBQVNLLG9CQUFxQlYsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxLQUFLO0lBRTFELE1BQU0sRUFBRUUsUUFBUSxFQUFFQyxlQUFlLEVBQUUsR0FBR1A7SUFDdEMsSUFBSVcsT0FBT0M7SUFDWCxJQUFJQyxNQUFNO0lBQ1YsSUFBTSxJQUFJTCxJQUFJTCxRQUFRTSxNQUFNTixTQUFTQyxPQUFPSSxJQUFJQyxLQUFLRCxJQUFPO1FBRTNELElBQUlNO1FBRUpBLGVBQWVqQixrRkFBWUEsQ0FBRVMsVUFBVUwsTUFBTUMsS0FBS007UUFHbEQsSUFBS00sZ0JBQWdCQSxhQUFhQyxRQUFRLEdBQUdKLE1BQU87WUFFbkRFLE1BQU1DO1lBQ05ILE9BQU9HLGFBQWFDLFFBQVE7UUFFN0I7SUFFRDtJQUVBLE9BQU9GO0FBRVI7QUFFQSxTQUFTRyxxQkFDUmIsTUFBTSxFQUNOQyxLQUFLLEVBQ0xKLEdBQUcsRUFDSGlCLHNCQUFzQixFQUN0QkMsU0FBUyxFQUNUQyxLQUFLLEVBQ0xDLFFBQVE7SUFHUixNQUFNLEVBQUVkLFFBQVEsRUFBRSxHQUFHTjtJQUNyQixNQUFNLEVBQUVxQixLQUFLLEVBQUUsR0FBR2Y7SUFDbEIsTUFBTWdCLE1BQU1oQixTQUFTaUIsVUFBVSxDQUFDQyxRQUFRO0lBQ3hDLElBQU0sSUFBSWhCLElBQUlMLFFBQVFzQixJQUFJckIsUUFBUUQsUUFBUUssSUFBSWlCLEdBQUdqQixJQUFPO1FBRXZELElBQUlrQjtRQUVKQSxNQUFNbEI7UUFFTlYsd0VBQVdBLENBQUVzQixVQUFVTSxNQUFNLEdBQUdMLE9BQU9DO1FBQ3ZDRixTQUFTTyxXQUFXLEdBQUc7UUFFdkIsSUFBS1YsdUJBQXdCRyxVQUFVTSxLQUFLUixXQUFXQyxRQUFVO1lBRWhFLE9BQU87UUFFUjtJQUVEO0lBRUEsT0FBTztBQUVSO0FBRW9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL3V0aWxzL2l0ZXJhdGlvblV0aWxzLmdlbmVyYXRlZC5qcz85MDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGludGVyc2VjdFRyaSB9IGZyb20gJy4uLy4uL3V0aWxzL1RocmVlUmF5SW50ZXJzZWN0VXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IHNldFRyaWFuZ2xlIH0gZnJvbSAnLi4vLi4vdXRpbHMvVHJpYW5nbGVVdGlsaXRpZXMuanMnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBcIml0ZXJhdGlvblV0aWxzLnRlbXBsYXRlLmpzXCIuICovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuXG5mdW5jdGlvbiBpbnRlcnNlY3RUcmlzKCBidmgsIHNpZGUsIHJheSwgb2Zmc2V0LCBjb3VudCwgaW50ZXJzZWN0aW9ucyApIHtcblxuXHRjb25zdCB7IGdlb21ldHJ5LCBfaW5kaXJlY3RCdWZmZXIgfSA9IGJ2aDtcblx0Zm9yICggbGV0IGkgPSBvZmZzZXQsIGVuZCA9IG9mZnNldCArIGNvdW50OyBpIDwgZW5kOyBpICsrICkge1xuXG5cblx0XHRpbnRlcnNlY3RUcmkoIGdlb21ldHJ5LCBzaWRlLCByYXksIGksIGludGVyc2VjdGlvbnMgKTtcblxuXG5cdH1cblxufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3RDbG9zZXN0VHJpKCBidmgsIHNpZGUsIHJheSwgb2Zmc2V0LCBjb3VudCApIHtcblxuXHRjb25zdCB7IGdlb21ldHJ5LCBfaW5kaXJlY3RCdWZmZXIgfSA9IGJ2aDtcblx0bGV0IGRpc3QgPSBJbmZpbml0eTtcblx0bGV0IHJlcyA9IG51bGw7XG5cdGZvciAoIGxldCBpID0gb2Zmc2V0LCBlbmQgPSBvZmZzZXQgKyBjb3VudDsgaSA8IGVuZDsgaSArKyApIHtcblxuXHRcdGxldCBpbnRlcnNlY3Rpb247XG5cblx0XHRpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3RUcmkoIGdlb21ldHJ5LCBzaWRlLCByYXksIGkgKTtcblxuXG5cdFx0aWYgKCBpbnRlcnNlY3Rpb24gJiYgaW50ZXJzZWN0aW9uLmRpc3RhbmNlIDwgZGlzdCApIHtcblxuXHRcdFx0cmVzID0gaW50ZXJzZWN0aW9uO1xuXHRcdFx0ZGlzdCA9IGludGVyc2VjdGlvbi5kaXN0YW5jZTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHJlcztcblxufVxuXG5mdW5jdGlvbiBpdGVyYXRlT3ZlclRyaWFuZ2xlcyhcblx0b2Zmc2V0LFxuXHRjb3VudCxcblx0YnZoLFxuXHRpbnRlcnNlY3RzVHJpYW5nbGVGdW5jLFxuXHRjb250YWluZWQsXG5cdGRlcHRoLFxuXHR0cmlhbmdsZVxuKSB7XG5cblx0Y29uc3QgeyBnZW9tZXRyeSB9ID0gYnZoO1xuXHRjb25zdCB7IGluZGV4IH0gPSBnZW9tZXRyeTtcblx0Y29uc3QgcG9zID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblx0Zm9yICggbGV0IGkgPSBvZmZzZXQsIGwgPSBjb3VudCArIG9mZnNldDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRsZXQgdHJpO1xuXG5cdFx0dHJpID0gaTtcblxuXHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZSwgdHJpICogMywgaW5kZXgsIHBvcyApO1xuXHRcdHRyaWFuZ2xlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdGlmICggaW50ZXJzZWN0c1RyaWFuZ2xlRnVuYyggdHJpYW5nbGUsIHRyaSwgY29udGFpbmVkLCBkZXB0aCApICkge1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xuXG59XG5cbmV4cG9ydCB7IGludGVyc2VjdENsb3Nlc3RUcmksIGludGVyc2VjdFRyaXMsIGl0ZXJhdGVPdmVyVHJpYW5nbGVzIH07XG4iXSwibmFtZXMiOlsiaW50ZXJzZWN0VHJpIiwic2V0VHJpYW5nbGUiLCJpbnRlcnNlY3RUcmlzIiwiYnZoIiwic2lkZSIsInJheSIsIm9mZnNldCIsImNvdW50IiwiaW50ZXJzZWN0aW9ucyIsImdlb21ldHJ5IiwiX2luZGlyZWN0QnVmZmVyIiwiaSIsImVuZCIsImludGVyc2VjdENsb3Nlc3RUcmkiLCJkaXN0IiwiSW5maW5pdHkiLCJyZXMiLCJpbnRlcnNlY3Rpb24iLCJkaXN0YW5jZSIsIml0ZXJhdGVPdmVyVHJpYW5nbGVzIiwiaW50ZXJzZWN0c1RyaWFuZ2xlRnVuYyIsImNvbnRhaW5lZCIsImRlcHRoIiwidHJpYW5nbGUiLCJpbmRleCIsInBvcyIsImF0dHJpYnV0ZXMiLCJwb3NpdGlvbiIsImwiLCJ0cmkiLCJuZWVkc1VwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils_indirect.generated.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/utils/iterationUtils_indirect.generated.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intersectClosestTri_indirect: () => (/* binding */ intersectClosestTri_indirect),\n/* harmony export */   intersectTris_indirect: () => (/* binding */ intersectTris_indirect),\n/* harmony export */   iterateOverTriangles_indirect: () => (/* binding */ iterateOverTriangles_indirect)\n/* harmony export */ });\n/* harmony import */ var _utils_ThreeRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/ThreeRayIntersectUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/ThreeRayIntersectUtilities.js\");\n/* harmony import */ var _utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/TriangleUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\");\n\n\n/*************************************************************/ /* This file is generated from \"iterationUtils.template.js\". */ /*************************************************************/ /* eslint-disable indent */ function intersectTris_indirect(bvh, side, ray, offset, count, intersections) {\n    const { geometry, _indirectBuffer } = bvh;\n    for(let i = offset, end = offset + count; i < end; i++){\n        let vi = _indirectBuffer ? _indirectBuffer[i] : i;\n        (0,_utils_ThreeRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_0__.intersectTri)(geometry, side, ray, vi, intersections);\n    }\n}\nfunction intersectClosestTri_indirect(bvh, side, ray, offset, count) {\n    const { geometry, _indirectBuffer } = bvh;\n    let dist = Infinity;\n    let res = null;\n    for(let i = offset, end = offset + count; i < end; i++){\n        let intersection;\n        intersection = (0,_utils_ThreeRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_0__.intersectTri)(geometry, side, ray, _indirectBuffer ? _indirectBuffer[i] : i);\n        if (intersection && intersection.distance < dist) {\n            res = intersection;\n            dist = intersection.distance;\n        }\n    }\n    return res;\n}\nfunction iterateOverTriangles_indirect(offset, count, bvh, intersectsTriangleFunc, contained, depth, triangle) {\n    const { geometry } = bvh;\n    const { index } = geometry;\n    const pos = geometry.attributes.position;\n    for(let i = offset, l = count + offset; i < l; i++){\n        let tri;\n        tri = bvh.resolveTriangleIndex(i);\n        (0,_utils_TriangleUtilities_js__WEBPACK_IMPORTED_MODULE_1__.setTriangle)(triangle, tri * 3, index, pos);\n        triangle.needsUpdate = true;\n        if (intersectsTriangleFunc(triangle, tri, contained, depth)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvdXRpbHMvaXRlcmF0aW9uVXRpbHNfaW5kaXJlY3QuZ2VuZXJhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlFO0FBQ1Y7QUFFL0QsNkRBQTZELEdBQzdELDZEQUE2RCxHQUM3RCw2REFBNkQsR0FDN0QseUJBQXlCLEdBRXpCLFNBQVNFLHVCQUF3QkMsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLGFBQWE7SUFFNUUsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLGVBQWUsRUFBRSxHQUFHUDtJQUN0QyxJQUFNLElBQUlRLElBQUlMLFFBQVFNLE1BQU1OLFNBQVNDLE9BQU9JLElBQUlDLEtBQUtELElBQU87UUFFM0QsSUFBSUUsS0FBS0gsa0JBQWtCQSxlQUFlLENBQUVDLEVBQUcsR0FBR0E7UUFDbERYLGtGQUFZQSxDQUFFUyxVQUFVTCxNQUFNQyxLQUFLUSxJQUFJTDtJQUd4QztBQUVEO0FBRUEsU0FBU00sNkJBQThCWCxHQUFHLEVBQUVDLElBQUksRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLEtBQUs7SUFFbkUsTUFBTSxFQUFFRSxRQUFRLEVBQUVDLGVBQWUsRUFBRSxHQUFHUDtJQUN0QyxJQUFJWSxPQUFPQztJQUNYLElBQUlDLE1BQU07SUFDVixJQUFNLElBQUlOLElBQUlMLFFBQVFNLE1BQU1OLFNBQVNDLE9BQU9JLElBQUlDLEtBQUtELElBQU87UUFFM0QsSUFBSU87UUFDSkEsZUFBZWxCLGtGQUFZQSxDQUFFUyxVQUFVTCxNQUFNQyxLQUFLSyxrQkFBa0JBLGVBQWUsQ0FBRUMsRUFBRyxHQUFHQTtRQUczRixJQUFLTyxnQkFBZ0JBLGFBQWFDLFFBQVEsR0FBR0osTUFBTztZQUVuREUsTUFBTUM7WUFDTkgsT0FBT0csYUFBYUMsUUFBUTtRQUU3QjtJQUVEO0lBRUEsT0FBT0Y7QUFFUjtBQUVBLFNBQVNHLDhCQUNSZCxNQUFNLEVBQ05DLEtBQUssRUFDTEosR0FBRyxFQUNIa0Isc0JBQXNCLEVBQ3RCQyxTQUFTLEVBQ1RDLEtBQUssRUFDTEMsUUFBUTtJQUdSLE1BQU0sRUFBRWYsUUFBUSxFQUFFLEdBQUdOO0lBQ3JCLE1BQU0sRUFBRXNCLEtBQUssRUFBRSxHQUFHaEI7SUFDbEIsTUFBTWlCLE1BQU1qQixTQUFTa0IsVUFBVSxDQUFDQyxRQUFRO0lBQ3hDLElBQU0sSUFBSWpCLElBQUlMLFFBQVF1QixJQUFJdEIsUUFBUUQsUUFBUUssSUFBSWtCLEdBQUdsQixJQUFPO1FBRXZELElBQUltQjtRQUNKQSxNQUFNM0IsSUFBSTRCLG9CQUFvQixDQUFFcEI7UUFFaENWLHdFQUFXQSxDQUFFdUIsVUFBVU0sTUFBTSxHQUFHTCxPQUFPQztRQUN2Q0YsU0FBU1EsV0FBVyxHQUFHO1FBRXZCLElBQUtYLHVCQUF3QkcsVUFBVU0sS0FBS1IsV0FBV0MsUUFBVTtZQUVoRSxPQUFPO1FBRVI7SUFFRDtJQUVBLE9BQU87QUFFUjtBQUUrRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS91dGlscy9pdGVyYXRpb25VdGlsc19pbmRpcmVjdC5nZW5lcmF0ZWQuanM/Y2U4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnRlcnNlY3RUcmkgfSBmcm9tICcuLi8uLi91dGlscy9UaHJlZVJheUludGVyc2VjdFV0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBzZXRUcmlhbmdsZSB9IGZyb20gJy4uLy4uL3V0aWxzL1RyaWFuZ2xlVXRpbGl0aWVzLmpzJztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGZyb20gXCJpdGVyYXRpb25VdGlscy50ZW1wbGF0ZS5qc1wiLiAqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cblxuZnVuY3Rpb24gaW50ZXJzZWN0VHJpc19pbmRpcmVjdCggYnZoLCBzaWRlLCByYXksIG9mZnNldCwgY291bnQsIGludGVyc2VjdGlvbnMgKSB7XG5cblx0Y29uc3QgeyBnZW9tZXRyeSwgX2luZGlyZWN0QnVmZmVyIH0gPSBidmg7XG5cdGZvciAoIGxldCBpID0gb2Zmc2V0LCBlbmQgPSBvZmZzZXQgKyBjb3VudDsgaSA8IGVuZDsgaSArKyApIHtcblxuXHRcdGxldCB2aSA9IF9pbmRpcmVjdEJ1ZmZlciA/IF9pbmRpcmVjdEJ1ZmZlclsgaSBdIDogaTtcblx0XHRpbnRlcnNlY3RUcmkoIGdlb21ldHJ5LCBzaWRlLCByYXksIHZpLCBpbnRlcnNlY3Rpb25zICk7XG5cblxuXHR9XG5cbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0Q2xvc2VzdFRyaV9pbmRpcmVjdCggYnZoLCBzaWRlLCByYXksIG9mZnNldCwgY291bnQgKSB7XG5cblx0Y29uc3QgeyBnZW9tZXRyeSwgX2luZGlyZWN0QnVmZmVyIH0gPSBidmg7XG5cdGxldCBkaXN0ID0gSW5maW5pdHk7XG5cdGxldCByZXMgPSBudWxsO1xuXHRmb3IgKCBsZXQgaSA9IG9mZnNldCwgZW5kID0gb2Zmc2V0ICsgY291bnQ7IGkgPCBlbmQ7IGkgKysgKSB7XG5cblx0XHRsZXQgaW50ZXJzZWN0aW9uO1xuXHRcdGludGVyc2VjdGlvbiA9IGludGVyc2VjdFRyaSggZ2VvbWV0cnksIHNpZGUsIHJheSwgX2luZGlyZWN0QnVmZmVyID8gX2luZGlyZWN0QnVmZmVyWyBpIF0gOiBpICk7XG5cblxuXHRcdGlmICggaW50ZXJzZWN0aW9uICYmIGludGVyc2VjdGlvbi5kaXN0YW5jZSA8IGRpc3QgKSB7XG5cblx0XHRcdHJlcyA9IGludGVyc2VjdGlvbjtcblx0XHRcdGRpc3QgPSBpbnRlcnNlY3Rpb24uZGlzdGFuY2U7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiByZXM7XG5cbn1cblxuZnVuY3Rpb24gaXRlcmF0ZU92ZXJUcmlhbmdsZXNfaW5kaXJlY3QoXG5cdG9mZnNldCxcblx0Y291bnQsXG5cdGJ2aCxcblx0aW50ZXJzZWN0c1RyaWFuZ2xlRnVuYyxcblx0Y29udGFpbmVkLFxuXHRkZXB0aCxcblx0dHJpYW5nbGVcbikge1xuXG5cdGNvbnN0IHsgZ2VvbWV0cnkgfSA9IGJ2aDtcblx0Y29uc3QgeyBpbmRleCB9ID0gZ2VvbWV0cnk7XG5cdGNvbnN0IHBvcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cdGZvciAoIGxldCBpID0gb2Zmc2V0LCBsID0gY291bnQgKyBvZmZzZXQ7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0bGV0IHRyaTtcblx0XHR0cmkgPSBidmgucmVzb2x2ZVRyaWFuZ2xlSW5kZXgoIGkgKTtcblxuXHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZSwgdHJpICogMywgaW5kZXgsIHBvcyApO1xuXHRcdHRyaWFuZ2xlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdGlmICggaW50ZXJzZWN0c1RyaWFuZ2xlRnVuYyggdHJpYW5nbGUsIHRyaSwgY29udGFpbmVkLCBkZXB0aCApICkge1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xuXG59XG5cbmV4cG9ydCB7IGludGVyc2VjdENsb3Nlc3RUcmlfaW5kaXJlY3QsIGludGVyc2VjdFRyaXNfaW5kaXJlY3QsIGl0ZXJhdGVPdmVyVHJpYW5nbGVzX2luZGlyZWN0IH07XG4iXSwibmFtZXMiOlsiaW50ZXJzZWN0VHJpIiwic2V0VHJpYW5nbGUiLCJpbnRlcnNlY3RUcmlzX2luZGlyZWN0IiwiYnZoIiwic2lkZSIsInJheSIsIm9mZnNldCIsImNvdW50IiwiaW50ZXJzZWN0aW9ucyIsImdlb21ldHJ5IiwiX2luZGlyZWN0QnVmZmVyIiwiaSIsImVuZCIsInZpIiwiaW50ZXJzZWN0Q2xvc2VzdFRyaV9pbmRpcmVjdCIsImRpc3QiLCJJbmZpbml0eSIsInJlcyIsImludGVyc2VjdGlvbiIsImRpc3RhbmNlIiwiaXRlcmF0ZU92ZXJUcmlhbmdsZXNfaW5kaXJlY3QiLCJpbnRlcnNlY3RzVHJpYW5nbGVGdW5jIiwiY29udGFpbmVkIiwiZGVwdGgiLCJ0cmlhbmdsZSIsImluZGV4IiwicG9zIiwiYXR0cmlidXRlcyIsInBvc2l0aW9uIiwibCIsInRyaSIsInJlc29sdmVUcmlhbmdsZUluZGV4IiwibmVlZHNVcGRhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/utils/iterationUtils_indirect.generated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BOUNDING_DATA_INDEX: () => (/* binding */ BOUNDING_DATA_INDEX),\n/* harmony export */   COUNT: () => (/* binding */ COUNT),\n/* harmony export */   IS_LEAF: () => (/* binding */ IS_LEAF),\n/* harmony export */   LEFT_NODE: () => (/* binding */ LEFT_NODE),\n/* harmony export */   OFFSET: () => (/* binding */ OFFSET),\n/* harmony export */   RIGHT_NODE: () => (/* binding */ RIGHT_NODE),\n/* harmony export */   SPLIT_AXIS: () => (/* binding */ SPLIT_AXIS)\n/* harmony export */ });\nfunction IS_LEAF(n16, uint16Array) {\n    return uint16Array[n16 + 15] === 0xFFFF;\n}\nfunction OFFSET(n32, uint32Array) {\n    return uint32Array[n32 + 6];\n}\nfunction COUNT(n16, uint16Array) {\n    return uint16Array[n16 + 14];\n}\nfunction LEFT_NODE(n32) {\n    return n32 + 8;\n}\nfunction RIGHT_NODE(n32, uint32Array) {\n    return uint32Array[n32 + 6];\n}\nfunction SPLIT_AXIS(n32, uint32Array) {\n    return uint32Array[n32 + 7];\n}\nfunction BOUNDING_DATA_INDEX(n32) {\n    return n32;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvdXRpbHMvbm9kZUJ1ZmZlclV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBTyxTQUFTQSxRQUFTQyxHQUFHLEVBQUVDLFdBQVc7SUFFeEMsT0FBT0EsV0FBVyxDQUFFRCxNQUFNLEdBQUksS0FBSztBQUVwQztBQUVPLFNBQVNFLE9BQVFDLEdBQUcsRUFBRUMsV0FBVztJQUV2QyxPQUFPQSxXQUFXLENBQUVELE1BQU0sRUFBRztBQUU5QjtBQUVPLFNBQVNFLE1BQU9MLEdBQUcsRUFBRUMsV0FBVztJQUV0QyxPQUFPQSxXQUFXLENBQUVELE1BQU0sR0FBSTtBQUUvQjtBQUVPLFNBQVNNLFVBQVdILEdBQUc7SUFFN0IsT0FBT0EsTUFBTTtBQUVkO0FBRU8sU0FBU0ksV0FBWUosR0FBRyxFQUFFQyxXQUFXO0lBRTNDLE9BQU9BLFdBQVcsQ0FBRUQsTUFBTSxFQUFHO0FBRTlCO0FBRU8sU0FBU0ssV0FBWUwsR0FBRyxFQUFFQyxXQUFXO0lBRTNDLE9BQU9BLFdBQVcsQ0FBRUQsTUFBTSxFQUFHO0FBRTlCO0FBRU8sU0FBU00sb0JBQXFCTixHQUFHO0lBRXZDLE9BQU9BO0FBRVIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvdXRpbHMvbm9kZUJ1ZmZlclV0aWxzLmpzPzdhODUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIElTX0xFQUYoIG4xNiwgdWludDE2QXJyYXkgKSB7XG5cblx0cmV0dXJuIHVpbnQxNkFycmF5WyBuMTYgKyAxNSBdID09PSAweEZGRkY7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9GRlNFVCggbjMyLCB1aW50MzJBcnJheSApIHtcblxuXHRyZXR1cm4gdWludDMyQXJyYXlbIG4zMiArIDYgXTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ09VTlQoIG4xNiwgdWludDE2QXJyYXkgKSB7XG5cblx0cmV0dXJuIHVpbnQxNkFycmF5WyBuMTYgKyAxNCBdO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMRUZUX05PREUoIG4zMiApIHtcblxuXHRyZXR1cm4gbjMyICsgODtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gUklHSFRfTk9ERSggbjMyLCB1aW50MzJBcnJheSApIHtcblxuXHRyZXR1cm4gdWludDMyQXJyYXlbIG4zMiArIDYgXTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gU1BMSVRfQVhJUyggbjMyLCB1aW50MzJBcnJheSApIHtcblxuXHRyZXR1cm4gdWludDMyQXJyYXlbIG4zMiArIDcgXTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gQk9VTkRJTkdfREFUQV9JTkRFWCggbjMyICkge1xuXG5cdHJldHVybiBuMzI7XG5cbn1cbiJdLCJuYW1lcyI6WyJJU19MRUFGIiwibjE2IiwidWludDE2QXJyYXkiLCJPRkZTRVQiLCJuMzIiLCJ1aW50MzJBcnJheSIsIkNPVU5UIiwiTEVGVF9OT0RFIiwiUklHSFRfTk9ERSIsIlNQTElUX0FYSVMiLCJCT1VORElOR19EQVRBX0lOREVYIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/core/utils/nodeBufferUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js":
/*!******************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExtendedTriangle: () => (/* binding */ ExtendedTriangle)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SeparatingAxisBounds.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/SeparatingAxisBounds.js\");\n/* harmony import */ var _MathUtilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MathUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/MathUtilities.js\");\n\n\n\nconst ZERO_EPSILON = 1e-15;\nfunction isNearZero(value) {\n    return Math.abs(value) < ZERO_EPSILON;\n}\nclass ExtendedTriangle extends three__WEBPACK_IMPORTED_MODULE_0__.Triangle {\n    constructor(...args){\n        super(...args);\n        this.isExtendedTriangle = true;\n        this.satAxes = new Array(4).fill().map(()=>new three__WEBPACK_IMPORTED_MODULE_0__.Vector3());\n        this.satBounds = new Array(4).fill().map(()=>new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds());\n        this.points = [\n            this.a,\n            this.b,\n            this.c\n        ];\n        this.sphere = new three__WEBPACK_IMPORTED_MODULE_0__.Sphere();\n        this.plane = new three__WEBPACK_IMPORTED_MODULE_0__.Plane();\n        this.needsUpdate = true;\n    }\n    intersectsSphere(sphere) {\n        return (0,_MathUtilities_js__WEBPACK_IMPORTED_MODULE_2__.sphereIntersectTriangle)(sphere, this);\n    }\n    update() {\n        const a = this.a;\n        const b = this.b;\n        const c = this.c;\n        const points = this.points;\n        const satAxes = this.satAxes;\n        const satBounds = this.satBounds;\n        const axis0 = satAxes[0];\n        const sab0 = satBounds[0];\n        this.getNormal(axis0);\n        sab0.setFromPoints(axis0, points);\n        const axis1 = satAxes[1];\n        const sab1 = satBounds[1];\n        axis1.subVectors(a, b);\n        sab1.setFromPoints(axis1, points);\n        const axis2 = satAxes[2];\n        const sab2 = satBounds[2];\n        axis2.subVectors(b, c);\n        sab2.setFromPoints(axis2, points);\n        const axis3 = satAxes[3];\n        const sab3 = satBounds[3];\n        axis3.subVectors(c, a);\n        sab3.setFromPoints(axis3, points);\n        this.sphere.setFromPoints(this.points);\n        this.plane.setFromNormalAndCoplanarPoint(axis0, a);\n        this.needsUpdate = false;\n    }\n}\nExtendedTriangle.prototype.closestPointToSegment = function() {\n    const point1 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const point2 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const edge = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\n    return function distanceToSegment(segment, target1 = null, target2 = null) {\n        const { start, end } = segment;\n        const points = this.points;\n        let distSq;\n        let closestDistanceSq = Infinity;\n        // check the triangle edges\n        for(let i = 0; i < 3; i++){\n            const nexti = (i + 1) % 3;\n            edge.start.copy(points[i]);\n            edge.end.copy(points[nexti]);\n            (0,_MathUtilities_js__WEBPACK_IMPORTED_MODULE_2__.closestPointsSegmentToSegment)(edge, segment, point1, point2);\n            distSq = point1.distanceToSquared(point2);\n            if (distSq < closestDistanceSq) {\n                closestDistanceSq = distSq;\n                if (target1) target1.copy(point1);\n                if (target2) target2.copy(point2);\n            }\n        }\n        // check end points\n        this.closestPointToPoint(start, point1);\n        distSq = start.distanceToSquared(point1);\n        if (distSq < closestDistanceSq) {\n            closestDistanceSq = distSq;\n            if (target1) target1.copy(point1);\n            if (target2) target2.copy(start);\n        }\n        this.closestPointToPoint(end, point1);\n        distSq = end.distanceToSquared(point1);\n        if (distSq < closestDistanceSq) {\n            closestDistanceSq = distSq;\n            if (target1) target1.copy(point1);\n            if (target2) target2.copy(end);\n        }\n        return Math.sqrt(closestDistanceSq);\n    };\n}();\nExtendedTriangle.prototype.intersectsTriangle = function() {\n    const saTri2 = new ExtendedTriangle();\n    const arr1 = new Array(3);\n    const arr2 = new Array(3);\n    const cachedSatBounds = new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds();\n    const cachedSatBounds2 = new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds();\n    const cachedAxis = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const dir = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const dir1 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const dir2 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const tempDir = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const edge = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\n    const edge1 = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\n    const edge2 = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\n    const tempPoint = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    function triIntersectPlane(tri, plane, targetEdge) {\n        // find the edge that intersects the other triangle plane\n        const points = tri.points;\n        let count = 0;\n        let startPointIntersection = -1;\n        for(let i = 0; i < 3; i++){\n            const { start, end } = edge;\n            start.copy(points[i]);\n            end.copy(points[(i + 1) % 3]);\n            edge.delta(dir);\n            const startIntersects = isNearZero(plane.distanceToPoint(start));\n            if (isNearZero(plane.normal.dot(dir)) && startIntersects) {\n                // if the edge lies on the plane then take the line\n                targetEdge.copy(edge);\n                count = 2;\n                break;\n            }\n            // check if the start point is near the plane because \"intersectLine\" is not robust to that case\n            const doesIntersect = plane.intersectLine(edge, tempPoint);\n            if (!doesIntersect && startIntersects) {\n                tempPoint.copy(start);\n            }\n            // ignore the end point\n            if ((doesIntersect || startIntersects) && !isNearZero(tempPoint.distanceTo(end))) {\n                if (count <= 1) {\n                    // assign to the start or end point and save which index was snapped to\n                    // the start point if necessary\n                    const point = count === 1 ? targetEdge.start : targetEdge.end;\n                    point.copy(tempPoint);\n                    if (startIntersects) {\n                        startPointIntersection = count;\n                    }\n                } else if (count >= 2) {\n                    // if we're here that means that there must have been one point that had\n                    // snapped to the start point so replace it here\n                    const point = startPointIntersection === 1 ? targetEdge.start : targetEdge.end;\n                    point.copy(tempPoint);\n                    count = 2;\n                    break;\n                }\n                count++;\n                if (count === 2 && startPointIntersection === -1) {\n                    break;\n                }\n            }\n        }\n        return count;\n    }\n    // TODO: If the triangles are coplanar and intersecting the target is nonsensical. It should at least\n    // be a line contained by both triangles if not a different special case somehow represented in the return result.\n    return function intersectsTriangle(other, target = null, suppressLog = false) {\n        if (this.needsUpdate) {\n            this.update();\n        }\n        if (!other.isExtendedTriangle) {\n            saTri2.copy(other);\n            saTri2.update();\n            other = saTri2;\n        } else if (other.needsUpdate) {\n            other.update();\n        }\n        const plane1 = this.plane;\n        const plane2 = other.plane;\n        if (Math.abs(plane1.normal.dot(plane2.normal)) > 1.0 - 1e-10) {\n            // perform separating axis intersection test only for coplanar triangles\n            const satBounds1 = this.satBounds;\n            const satAxes1 = this.satAxes;\n            arr2[0] = other.a;\n            arr2[1] = other.b;\n            arr2[2] = other.c;\n            for(let i = 0; i < 4; i++){\n                const sb = satBounds1[i];\n                const sa = satAxes1[i];\n                cachedSatBounds.setFromPoints(sa, arr2);\n                if (sb.isSeparated(cachedSatBounds)) return false;\n            }\n            const satBounds2 = other.satBounds;\n            const satAxes2 = other.satAxes;\n            arr1[0] = this.a;\n            arr1[1] = this.b;\n            arr1[2] = this.c;\n            for(let i = 0; i < 4; i++){\n                const sb = satBounds2[i];\n                const sa = satAxes2[i];\n                cachedSatBounds.setFromPoints(sa, arr1);\n                if (sb.isSeparated(cachedSatBounds)) return false;\n            }\n            // check crossed axes\n            for(let i = 0; i < 4; i++){\n                const sa1 = satAxes1[i];\n                for(let i2 = 0; i2 < 4; i2++){\n                    const sa2 = satAxes2[i2];\n                    cachedAxis.crossVectors(sa1, sa2);\n                    cachedSatBounds.setFromPoints(cachedAxis, arr1);\n                    cachedSatBounds2.setFromPoints(cachedAxis, arr2);\n                    if (cachedSatBounds.isSeparated(cachedSatBounds2)) return false;\n                }\n            }\n            if (target) {\n                // TODO find two points that intersect on the edges and make that the result\n                if (!suppressLog) {\n                    console.warn(\"ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0.\");\n                }\n                target.start.set(0, 0, 0);\n                target.end.set(0, 0, 0);\n            }\n            return true;\n        } else {\n            // find the edge that intersects the other triangle plane\n            const count1 = triIntersectPlane(this, plane2, edge1);\n            if (count1 === 1 && other.containsPoint(edge1.end)) {\n                if (target) {\n                    target.start.copy(edge1.end);\n                    target.end.copy(edge1.end);\n                }\n                return true;\n            } else if (count1 !== 2) {\n                return false;\n            }\n            // find the other triangles edge that intersects this plane\n            const count2 = triIntersectPlane(other, plane1, edge2);\n            if (count2 === 1 && this.containsPoint(edge2.end)) {\n                if (target) {\n                    target.start.copy(edge2.end);\n                    target.end.copy(edge2.end);\n                }\n                return true;\n            } else if (count2 !== 2) {\n                return false;\n            }\n            // find swap the second edge so both lines are running the same direction\n            edge1.delta(dir1);\n            edge2.delta(dir2);\n            if (dir1.dot(dir2) < 0) {\n                let tmp = edge2.start;\n                edge2.start = edge2.end;\n                edge2.end = tmp;\n            }\n            // check if the edges are overlapping\n            const s1 = edge1.start.dot(dir1);\n            const e1 = edge1.end.dot(dir1);\n            const s2 = edge2.start.dot(dir1);\n            const e2 = edge2.end.dot(dir1);\n            const separated1 = e1 < s2;\n            const separated2 = s1 < e2;\n            if (s1 !== e2 && s2 !== e1 && separated1 === separated2) {\n                return false;\n            }\n            // assign the target output\n            if (target) {\n                tempDir.subVectors(edge1.start, edge2.start);\n                if (tempDir.dot(dir1) > 0) {\n                    target.start.copy(edge1.start);\n                } else {\n                    target.start.copy(edge2.start);\n                }\n                tempDir.subVectors(edge1.end, edge2.end);\n                if (tempDir.dot(dir1) < 0) {\n                    target.end.copy(edge1.end);\n                } else {\n                    target.end.copy(edge2.end);\n                }\n            }\n            return true;\n        }\n    };\n}();\nExtendedTriangle.prototype.distanceToPoint = function() {\n    const target = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    return function distanceToPoint(point) {\n        this.closestPointToPoint(point, target);\n        return point.distanceTo(target);\n    };\n}();\nExtendedTriangle.prototype.distanceToTriangle = function() {\n    const point = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const point2 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const cornerFields = [\n        \"a\",\n        \"b\",\n        \"c\"\n    ];\n    const line1 = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\n    const line2 = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\n    return function distanceToTriangle(other, target1 = null, target2 = null) {\n        const lineTarget = target1 || target2 ? line1 : null;\n        if (this.intersectsTriangle(other, lineTarget)) {\n            if (target1 || target2) {\n                if (target1) lineTarget.getCenter(target1);\n                if (target2) lineTarget.getCenter(target2);\n            }\n            return 0;\n        }\n        let closestDistanceSq = Infinity;\n        // check all point distances\n        for(let i = 0; i < 3; i++){\n            let dist;\n            const field = cornerFields[i];\n            const otherVec = other[field];\n            this.closestPointToPoint(otherVec, point);\n            dist = otherVec.distanceToSquared(point);\n            if (dist < closestDistanceSq) {\n                closestDistanceSq = dist;\n                if (target1) target1.copy(point);\n                if (target2) target2.copy(otherVec);\n            }\n            const thisVec = this[field];\n            other.closestPointToPoint(thisVec, point);\n            dist = thisVec.distanceToSquared(point);\n            if (dist < closestDistanceSq) {\n                closestDistanceSq = dist;\n                if (target1) target1.copy(thisVec);\n                if (target2) target2.copy(point);\n            }\n        }\n        for(let i = 0; i < 3; i++){\n            const f11 = cornerFields[i];\n            const f12 = cornerFields[(i + 1) % 3];\n            line1.set(this[f11], this[f12]);\n            for(let i2 = 0; i2 < 3; i2++){\n                const f21 = cornerFields[i2];\n                const f22 = cornerFields[(i2 + 1) % 3];\n                line2.set(other[f21], other[f22]);\n                (0,_MathUtilities_js__WEBPACK_IMPORTED_MODULE_2__.closestPointsSegmentToSegment)(line1, line2, point, point2);\n                const dist = point.distanceToSquared(point2);\n                if (dist < closestDistanceSq) {\n                    closestDistanceSq = dist;\n                    if (target1) target1.copy(point);\n                    if (target2) target2.copy(point2);\n                }\n            }\n        }\n        return Math.sqrt(closestDistanceSq);\n    };\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvRXh0ZW5kZWRUcmlhbmdsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdFO0FBQ0M7QUFDMkI7QUFFNUYsTUFBTVEsZUFBZTtBQUNyQixTQUFTQyxXQUFZQyxLQUFLO0lBRXpCLE9BQU9DLEtBQUtDLEdBQUcsQ0FBRUYsU0FBVUY7QUFFNUI7QUFFTyxNQUFNSyx5QkFBeUJiLDJDQUFRQTtJQUU3Q2MsWUFBYSxHQUFHQyxJQUFJLENBQUc7UUFFdEIsS0FBSyxJQUFLQTtRQUVWLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUc7UUFDMUIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSUMsTUFBTyxHQUFJQyxJQUFJLEdBQUdDLEdBQUcsQ0FBRSxJQUFNLElBQUluQiwwQ0FBT0E7UUFDM0QsSUFBSSxDQUFDb0IsU0FBUyxHQUFHLElBQUlILE1BQU8sR0FBSUMsSUFBSSxHQUFHQyxHQUFHLENBQUUsSUFBTSxJQUFJZiwwRUFBb0JBO1FBQzFFLElBQUksQ0FBQ2lCLE1BQU0sR0FBRztZQUFFLElBQUksQ0FBQ0MsQ0FBQztZQUFFLElBQUksQ0FBQ0MsQ0FBQztZQUFFLElBQUksQ0FBQ0MsQ0FBQztTQUFFO1FBQ3hDLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUl2Qix5Q0FBTUE7UUFDeEIsSUFBSSxDQUFDd0IsS0FBSyxHQUFHLElBQUl2Qix3Q0FBS0E7UUFDdEIsSUFBSSxDQUFDd0IsV0FBVyxHQUFHO0lBRXBCO0lBRUFDLGlCQUFrQkgsTUFBTSxFQUFHO1FBRTFCLE9BQU9uQiwwRUFBdUJBLENBQUVtQixRQUFRLElBQUk7SUFFN0M7SUFFQUksU0FBUztRQUVSLE1BQU1QLElBQUksSUFBSSxDQUFDQSxDQUFDO1FBQ2hCLE1BQU1DLElBQUksSUFBSSxDQUFDQSxDQUFDO1FBQ2hCLE1BQU1DLElBQUksSUFBSSxDQUFDQSxDQUFDO1FBQ2hCLE1BQU1ILFNBQVMsSUFBSSxDQUFDQSxNQUFNO1FBRTFC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LElBQUksQ0FBRXNFO2dCQUM3QixJQUFLOUUsU0FBVUEsUUFBUVEsSUFBSSxDQUFFK0I7WUFFOUI7UUFFRDtRQUVBLElBQU0sSUFBSWpDLElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFPO1lBRTlCLE1BQU15RSxNQUFNVCxZQUFZLENBQUVoRSxFQUFHO1lBQzdCLE1BQU0wRSxNQUFNVixZQUFZLENBQUUsQ0FBRWhFLElBQUksS0FBTSxFQUFHO1lBQ3pDaUUsTUFBTWIsR0FBRyxDQUFFLElBQUksQ0FBRXFCLElBQUssRUFBRSxJQUFJLENBQUVDLElBQUs7WUFDbkMsSUFBTSxJQUFJM0IsS0FBSyxHQUFHQSxLQUFLLEdBQUdBLEtBQVE7Z0JBRWpDLE1BQU00QixNQUFNWCxZQUFZLENBQUVqQixHQUFJO2dCQUM5QixNQUFNNkIsTUFBTVosWUFBWSxDQUFFLENBQUVqQixLQUFLLEtBQU0sRUFBRztnQkFDMUNtQixNQUFNZCxHQUFHLENBQUVsQixLQUFLLENBQUV5QyxJQUFLLEVBQUV6QyxLQUFLLENBQUUwQyxJQUFLO2dCQUVyQy9ILGdGQUE2QkEsQ0FBRW9ILE9BQU9DLE9BQU9qQyxPQUFPNUM7Z0JBRXBELE1BQU1nRixPQUFPcEMsTUFBTTlCLGlCQUFpQixDQUFFZDtnQkFDdEMsSUFBS2dGLE9BQU92RSxtQkFBb0I7b0JBRS9CQSxvQkFBb0J1RTtvQkFDcEIsSUFBSzVFLFNBQVVBLFFBQVFTLElBQUksQ0FBRStCO29CQUM3QixJQUFLdkMsU0FBVUEsUUFBUVEsSUFBSSxDQUFFYjtnQkFFOUI7WUFFRDtRQUVEO1FBRUEsT0FBT25DLEtBQUttRCxJQUFJLENBQUVQO0lBRW5CO0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvRXh0ZW5kZWRUcmlhbmdsZS5qcz82NjNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyaWFuZ2xlLCBWZWN0b3IzLCBMaW5lMywgU3BoZXJlLCBQbGFuZSB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFNlcGFyYXRpbmdBeGlzQm91bmRzIH0gZnJvbSAnLi9TZXBhcmF0aW5nQXhpc0JvdW5kcy5qcyc7XG5pbXBvcnQgeyBjbG9zZXN0UG9pbnRzU2VnbWVudFRvU2VnbWVudCwgc3BoZXJlSW50ZXJzZWN0VHJpYW5nbGUgfSBmcm9tICcuL01hdGhVdGlsaXRpZXMuanMnO1xuXG5jb25zdCBaRVJPX0VQU0lMT04gPSAxZS0xNTtcbmZ1bmN0aW9uIGlzTmVhclplcm8oIHZhbHVlICkge1xuXG5cdHJldHVybiBNYXRoLmFicyggdmFsdWUgKSA8IFpFUk9fRVBTSUxPTjtcblxufVxuXG5leHBvcnQgY2xhc3MgRXh0ZW5kZWRUcmlhbmdsZSBleHRlbmRzIFRyaWFuZ2xlIHtcblxuXHRjb25zdHJ1Y3RvciggLi4uYXJncyApIHtcblxuXHRcdHN1cGVyKCAuLi5hcmdzICk7XG5cblx0XHR0aGlzLmlzRXh0ZW5kZWRUcmlhbmdsZSA9IHRydWU7XG5cdFx0dGhpcy5zYXRBeGVzID0gbmV3IEFycmF5KCA0ICkuZmlsbCgpLm1hcCggKCkgPT4gbmV3IFZlY3RvcjMoKSApO1xuXHRcdHRoaXMuc2F0Qm91bmRzID0gbmV3IEFycmF5KCA0ICkuZmlsbCgpLm1hcCggKCkgPT4gbmV3IFNlcGFyYXRpbmdBeGlzQm91bmRzKCkgKTtcblx0XHR0aGlzLnBvaW50cyA9IFsgdGhpcy5hLCB0aGlzLmIsIHRoaXMuYyBdO1xuXHRcdHRoaXMuc3BoZXJlID0gbmV3IFNwaGVyZSgpO1xuXHRcdHRoaXMucGxhbmUgPSBuZXcgUGxhbmUoKTtcblx0XHR0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHNwaGVyZUludGVyc2VjdFRyaWFuZ2xlKCBzcGhlcmUsIHRoaXMgKTtcblxuXHR9XG5cblx0dXBkYXRlKCkge1xuXG5cdFx0Y29uc3QgYSA9IHRoaXMuYTtcblx0XHRjb25zdCBiID0gdGhpcy5iO1xuXHRcdGNvbnN0IGMgPSB0aGlzLmM7XG5cdFx0Y29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cblx0XHRjb25zdCBzYXRBeGVzID0gdGhpcy5zYXRBeGVzO1xuXHRcdGNvbnN0IHNhdEJvdW5kcyA9IHRoaXMuc2F0Qm91bmRzO1xuXG5cdFx0Y29uc3QgYXhpczAgPSBzYXRBeGVzWyAwIF07XG5cdFx0Y29uc3Qgc2FiMCA9IHNhdEJvdW5kc1sgMCBdO1xuXHRcdHRoaXMuZ2V0Tm9ybWFsKCBheGlzMCApO1xuXHRcdHNhYjAuc2V0RnJvbVBvaW50cyggYXhpczAsIHBvaW50cyApO1xuXG5cdFx0Y29uc3QgYXhpczEgPSBzYXRBeGVzWyAxIF07XG5cdFx0Y29uc3Qgc2FiMSA9IHNhdEJvdW5kc1sgMSBdO1xuXHRcdGF4aXMxLnN1YlZlY3RvcnMoIGEsIGIgKTtcblx0XHRzYWIxLnNldEZyb21Qb2ludHMoIGF4aXMxLCBwb2ludHMgKTtcblxuXHRcdGNvbnN0IGF4aXMyID0gc2F0QXhlc1sgMiBdO1xuXHRcdGNvbnN0IHNhYjIgPSBzYXRCb3VuZHNbIDIgXTtcblx0XHRheGlzMi5zdWJWZWN0b3JzKCBiLCBjICk7XG5cdFx0c2FiMi5zZXRGcm9tUG9pbnRzKCBheGlzMiwgcG9pbnRzICk7XG5cblx0XHRjb25zdCBheGlzMyA9IHNhdEF4ZXNbIDMgXTtcblx0XHRjb25zdCBzYWIzID0gc2F0Qm91bmRzWyAzIF07XG5cdFx0YXhpczMuc3ViVmVjdG9ycyggYywgYSApO1xuXHRcdHNhYjMuc2V0RnJvbVBvaW50cyggYXhpczMsIHBvaW50cyApO1xuXG5cdFx0dGhpcy5zcGhlcmUuc2V0RnJvbVBvaW50cyggdGhpcy5wb2ludHMgKTtcblx0XHR0aGlzLnBsYW5lLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KCBheGlzMCwgYSApO1xuXHRcdHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcblxuXHR9XG5cbn1cblxuRXh0ZW5kZWRUcmlhbmdsZS5wcm90b3R5cGUuY2xvc2VzdFBvaW50VG9TZWdtZW50ID0gKCBmdW5jdGlvbiAoKSB7XG5cblx0Y29uc3QgcG9pbnQxID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgcG9pbnQyID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgZWRnZSA9IG5ldyBMaW5lMygpO1xuXG5cdHJldHVybiBmdW5jdGlvbiBkaXN0YW5jZVRvU2VnbWVudCggc2VnbWVudCwgdGFyZ2V0MSA9IG51bGwsIHRhcmdldDIgPSBudWxsICkge1xuXG5cdFx0Y29uc3QgeyBzdGFydCwgZW5kIH0gPSBzZWdtZW50O1xuXHRcdGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXHRcdGxldCBkaXN0U3E7XG5cdFx0bGV0IGNsb3Nlc3REaXN0YW5jZVNxID0gSW5maW5pdHk7XG5cblx0XHQvLyBjaGVjayB0aGUgdHJpYW5nbGUgZWRnZXNcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBuZXh0aSA9ICggaSArIDEgKSAlIDM7XG5cdFx0XHRlZGdlLnN0YXJ0LmNvcHkoIHBvaW50c1sgaSBdICk7XG5cdFx0XHRlZGdlLmVuZC5jb3B5KCBwb2ludHNbIG5leHRpIF0gKTtcblxuXHRcdFx0Y2xvc2VzdFBvaW50c1NlZ21lbnRUb1NlZ21lbnQoIGVkZ2UsIHNlZ21lbnQsIHBvaW50MSwgcG9pbnQyICk7XG5cblx0XHRcdGRpc3RTcSA9IHBvaW50MS5kaXN0YW5jZVRvU3F1YXJlZCggcG9pbnQyICk7XG5cdFx0XHRpZiAoIGRpc3RTcSA8IGNsb3Nlc3REaXN0YW5jZVNxICkge1xuXG5cdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xuXHRcdFx0XHRpZiAoIHRhcmdldDEgKSB0YXJnZXQxLmNvcHkoIHBvaW50MSApO1xuXHRcdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIHBvaW50MiApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBjaGVjayBlbmQgcG9pbnRzXG5cdFx0dGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50KCBzdGFydCwgcG9pbnQxICk7XG5cdFx0ZGlzdFNxID0gc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50MSApO1xuXHRcdGlmICggZGlzdFNxIDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XG5cblx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xuXHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcblx0XHRcdGlmICggdGFyZ2V0MiApIHRhcmdldDIuY29weSggc3RhcnQgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludCggZW5kLCBwb2ludDEgKTtcblx0XHRkaXN0U3EgPSBlbmQuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50MSApO1xuXHRcdGlmICggZGlzdFNxIDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XG5cblx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xuXHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcblx0XHRcdGlmICggdGFyZ2V0MiApIHRhcmdldDIuY29weSggZW5kICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCBjbG9zZXN0RGlzdGFuY2VTcSApO1xuXG5cdH07XG5cbn0gKSgpO1xuXG5FeHRlbmRlZFRyaWFuZ2xlLnByb3RvdHlwZS5pbnRlcnNlY3RzVHJpYW5nbGUgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHRjb25zdCBzYVRyaTIgPSBuZXcgRXh0ZW5kZWRUcmlhbmdsZSgpO1xuXHRjb25zdCBhcnIxID0gbmV3IEFycmF5KCAzICk7XG5cdGNvbnN0IGFycjIgPSBuZXcgQXJyYXkoIDMgKTtcblx0Y29uc3QgY2FjaGVkU2F0Qm91bmRzID0gbmV3IFNlcGFyYXRpbmdBeGlzQm91bmRzKCk7XG5cdGNvbnN0IGNhY2hlZFNhdEJvdW5kczIgPSBuZXcgU2VwYXJhdGluZ0F4aXNCb3VuZHMoKTtcblx0Y29uc3QgY2FjaGVkQXhpcyA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IGRpciA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IGRpcjEgPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCBkaXIyID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgdGVtcERpciA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IGVkZ2UgPSBuZXcgTGluZTMoKTtcblx0Y29uc3QgZWRnZTEgPSBuZXcgTGluZTMoKTtcblx0Y29uc3QgZWRnZTIgPSBuZXcgTGluZTMoKTtcblx0Y29uc3QgdGVtcFBvaW50ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRmdW5jdGlvbiB0cmlJbnRlcnNlY3RQbGFuZSggdHJpLCBwbGFuZSwgdGFyZ2V0RWRnZSApIHtcblxuXHRcdC8vIGZpbmQgdGhlIGVkZ2UgdGhhdCBpbnRlcnNlY3RzIHRoZSBvdGhlciB0cmlhbmdsZSBwbGFuZVxuXHRcdGNvbnN0IHBvaW50cyA9IHRyaS5wb2ludHM7XG5cdFx0bGV0IGNvdW50ID0gMDtcblx0XHRsZXQgc3RhcnRQb2ludEludGVyc2VjdGlvbiA9IC0gMTtcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IGVkZ2U7XG5cdFx0XHRzdGFydC5jb3B5KCBwb2ludHNbIGkgXSApO1xuXHRcdFx0ZW5kLmNvcHkoIHBvaW50c1sgKCBpICsgMSApICUgMyBdICk7XG5cdFx0XHRlZGdlLmRlbHRhKCBkaXIgKTtcblxuXHRcdFx0Y29uc3Qgc3RhcnRJbnRlcnNlY3RzID0gaXNOZWFyWmVybyggcGxhbmUuZGlzdGFuY2VUb1BvaW50KCBzdGFydCApICk7XG5cdFx0XHRpZiAoIGlzTmVhclplcm8oIHBsYW5lLm5vcm1hbC5kb3QoIGRpciApICkgJiYgc3RhcnRJbnRlcnNlY3RzICkge1xuXG5cdFx0XHRcdC8vIGlmIHRoZSBlZGdlIGxpZXMgb24gdGhlIHBsYW5lIHRoZW4gdGFrZSB0aGUgbGluZVxuXHRcdFx0XHR0YXJnZXRFZGdlLmNvcHkoIGVkZ2UgKTtcblx0XHRcdFx0Y291bnQgPSAyO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBjaGVjayBpZiB0aGUgc3RhcnQgcG9pbnQgaXMgbmVhciB0aGUgcGxhbmUgYmVjYXVzZSBcImludGVyc2VjdExpbmVcIiBpcyBub3Qgcm9idXN0IHRvIHRoYXQgY2FzZVxuXHRcdFx0Y29uc3QgZG9lc0ludGVyc2VjdCA9IHBsYW5lLmludGVyc2VjdExpbmUoIGVkZ2UsIHRlbXBQb2ludCApO1xuXHRcdFx0aWYgKCAhIGRvZXNJbnRlcnNlY3QgJiYgc3RhcnRJbnRlcnNlY3RzICkge1xuXG5cdFx0XHRcdHRlbXBQb2ludC5jb3B5KCBzdGFydCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIGlnbm9yZSB0aGUgZW5kIHBvaW50XG5cdFx0XHRpZiAoICggZG9lc0ludGVyc2VjdCB8fCBzdGFydEludGVyc2VjdHMgKSAmJiAhIGlzTmVhclplcm8oIHRlbXBQb2ludC5kaXN0YW5jZVRvKCBlbmQgKSApICkge1xuXG5cdFx0XHRcdGlmICggY291bnQgPD0gMSApIHtcblxuXHRcdFx0XHRcdC8vIGFzc2lnbiB0byB0aGUgc3RhcnQgb3IgZW5kIHBvaW50IGFuZCBzYXZlIHdoaWNoIGluZGV4IHdhcyBzbmFwcGVkIHRvXG5cdFx0XHRcdFx0Ly8gdGhlIHN0YXJ0IHBvaW50IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdGNvbnN0IHBvaW50ID0gY291bnQgPT09IDEgPyB0YXJnZXRFZGdlLnN0YXJ0IDogdGFyZ2V0RWRnZS5lbmQ7XG5cdFx0XHRcdFx0cG9pbnQuY29weSggdGVtcFBvaW50ICk7XG5cdFx0XHRcdFx0aWYgKCBzdGFydEludGVyc2VjdHMgKSB7XG5cblx0XHRcdFx0XHRcdHN0YXJ0UG9pbnRJbnRlcnNlY3Rpb24gPSBjb3VudDtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3VudCA+PSAyICkge1xuXG5cdFx0XHRcdFx0Ly8gaWYgd2UncmUgaGVyZSB0aGF0IG1lYW5zIHRoYXQgdGhlcmUgbXVzdCBoYXZlIGJlZW4gb25lIHBvaW50IHRoYXQgaGFkXG5cdFx0XHRcdFx0Ly8gc25hcHBlZCB0byB0aGUgc3RhcnQgcG9pbnQgc28gcmVwbGFjZSBpdCBoZXJlXG5cdFx0XHRcdFx0Y29uc3QgcG9pbnQgPSBzdGFydFBvaW50SW50ZXJzZWN0aW9uID09PSAxID8gdGFyZ2V0RWRnZS5zdGFydCA6IHRhcmdldEVkZ2UuZW5kO1xuXHRcdFx0XHRcdHBvaW50LmNvcHkoIHRlbXBQb2ludCApO1xuXHRcdFx0XHRcdGNvdW50ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y291bnQgKys7XG5cdFx0XHRcdGlmICggY291bnQgPT09IDIgJiYgc3RhcnRQb2ludEludGVyc2VjdGlvbiA9PT0gLSAxICkge1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gY291bnQ7XG5cblx0fVxuXG5cdC8vIFRPRE86IElmIHRoZSB0cmlhbmdsZXMgYXJlIGNvcGxhbmFyIGFuZCBpbnRlcnNlY3RpbmcgdGhlIHRhcmdldCBpcyBub25zZW5zaWNhbC4gSXQgc2hvdWxkIGF0IGxlYXN0XG5cdC8vIGJlIGEgbGluZSBjb250YWluZWQgYnkgYm90aCB0cmlhbmdsZXMgaWYgbm90IGEgZGlmZmVyZW50IHNwZWNpYWwgY2FzZSBzb21laG93IHJlcHJlc2VudGVkIGluIHRoZSByZXR1cm4gcmVzdWx0LlxuXHRyZXR1cm4gZnVuY3Rpb24gaW50ZXJzZWN0c1RyaWFuZ2xlKCBvdGhlciwgdGFyZ2V0ID0gbnVsbCwgc3VwcHJlc3NMb2cgPSBmYWxzZSApIHtcblxuXHRcdGlmICggdGhpcy5uZWVkc1VwZGF0ZSApIHtcblxuXHRcdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGlmICggISBvdGhlci5pc0V4dGVuZGVkVHJpYW5nbGUgKSB7XG5cblx0XHRcdHNhVHJpMi5jb3B5KCBvdGhlciApO1xuXHRcdFx0c2FUcmkyLnVwZGF0ZSgpO1xuXHRcdFx0b3RoZXIgPSBzYVRyaTI7XG5cblx0XHR9IGVsc2UgaWYgKCBvdGhlci5uZWVkc1VwZGF0ZSApIHtcblxuXHRcdFx0b3RoZXIudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwbGFuZTEgPSB0aGlzLnBsYW5lO1xuXHRcdGNvbnN0IHBsYW5lMiA9IG90aGVyLnBsYW5lO1xuXG5cdFx0aWYgKCBNYXRoLmFicyggcGxhbmUxLm5vcm1hbC5kb3QoIHBsYW5lMi5ub3JtYWwgKSApID4gMS4wIC0gMWUtMTAgKSB7XG5cblx0XHRcdC8vIHBlcmZvcm0gc2VwYXJhdGluZyBheGlzIGludGVyc2VjdGlvbiB0ZXN0IG9ubHkgZm9yIGNvcGxhbmFyIHRyaWFuZ2xlc1xuXHRcdFx0Y29uc3Qgc2F0Qm91bmRzMSA9IHRoaXMuc2F0Qm91bmRzO1xuXHRcdFx0Y29uc3Qgc2F0QXhlczEgPSB0aGlzLnNhdEF4ZXM7XG5cdFx0XHRhcnIyWyAwIF0gPSBvdGhlci5hO1xuXHRcdFx0YXJyMlsgMSBdID0gb3RoZXIuYjtcblx0XHRcdGFycjJbIDIgXSA9IG90aGVyLmM7XG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCA0OyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IHNiID0gc2F0Qm91bmRzMVsgaSBdO1xuXHRcdFx0XHRjb25zdCBzYSA9IHNhdEF4ZXMxWyBpIF07XG5cdFx0XHRcdGNhY2hlZFNhdEJvdW5kcy5zZXRGcm9tUG9pbnRzKCBzYSwgYXJyMiApO1xuXHRcdFx0XHRpZiAoIHNiLmlzU2VwYXJhdGVkKCBjYWNoZWRTYXRCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzYXRCb3VuZHMyID0gb3RoZXIuc2F0Qm91bmRzO1xuXHRcdFx0Y29uc3Qgc2F0QXhlczIgPSBvdGhlci5zYXRBeGVzO1xuXHRcdFx0YXJyMVsgMCBdID0gdGhpcy5hO1xuXHRcdFx0YXJyMVsgMSBdID0gdGhpcy5iO1xuXHRcdFx0YXJyMVsgMiBdID0gdGhpcy5jO1xuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgNDsgaSArKyApIHtcblxuXHRcdFx0XHRjb25zdCBzYiA9IHNhdEJvdW5kczJbIGkgXTtcblx0XHRcdFx0Y29uc3Qgc2EgPSBzYXRBeGVzMlsgaSBdO1xuXHRcdFx0XHRjYWNoZWRTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggc2EsIGFycjEgKTtcblx0XHRcdFx0aWYgKCBzYi5pc1NlcGFyYXRlZCggY2FjaGVkU2F0Qm91bmRzICkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gY2hlY2sgY3Jvc3NlZCBheGVzXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCA0OyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IHNhMSA9IHNhdEF4ZXMxWyBpIF07XG5cdFx0XHRcdGZvciAoIGxldCBpMiA9IDA7IGkyIDwgNDsgaTIgKysgKSB7XG5cblx0XHRcdFx0XHRjb25zdCBzYTIgPSBzYXRBeGVzMlsgaTIgXTtcblx0XHRcdFx0XHRjYWNoZWRBeGlzLmNyb3NzVmVjdG9ycyggc2ExLCBzYTIgKTtcblx0XHRcdFx0XHRjYWNoZWRTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggY2FjaGVkQXhpcywgYXJyMSApO1xuXHRcdFx0XHRcdGNhY2hlZFNhdEJvdW5kczIuc2V0RnJvbVBvaW50cyggY2FjaGVkQXhpcywgYXJyMiApO1xuXHRcdFx0XHRcdGlmICggY2FjaGVkU2F0Qm91bmRzLmlzU2VwYXJhdGVkKCBjYWNoZWRTYXRCb3VuZHMyICkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggdGFyZ2V0ICkge1xuXG5cdFx0XHRcdC8vIFRPRE8gZmluZCB0d28gcG9pbnRzIHRoYXQgaW50ZXJzZWN0IG9uIHRoZSBlZGdlcyBhbmQgbWFrZSB0aGF0IHRoZSByZXN1bHRcblx0XHRcdFx0aWYgKCAhIHN1cHByZXNzTG9nICkge1xuXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCAnRXh0ZW5kZWRUcmlhbmdsZS5pbnRlcnNlY3RzVHJpYW5nbGU6IFRyaWFuZ2xlcyBhcmUgY29wbGFuYXIgd2hpY2ggZG9lcyBub3Qgc3VwcG9ydCBhbiBvdXRwdXQgZWRnZS4gU2V0dGluZyBlZGdlIHRvIDAsIDAsIDAuJyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0YXJnZXQuc3RhcnQuc2V0KCAwLCAwLCAwICk7XG5cdFx0XHRcdHRhcmdldC5lbmQuc2V0KCAwLCAwLCAwICk7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBmaW5kIHRoZSBlZGdlIHRoYXQgaW50ZXJzZWN0cyB0aGUgb3RoZXIgdHJpYW5nbGUgcGxhbmVcblx0XHRcdGNvbnN0IGNvdW50MSA9IHRyaUludGVyc2VjdFBsYW5lKCB0aGlzLCBwbGFuZTIsIGVkZ2UxICk7XG5cdFx0XHRpZiAoIGNvdW50MSA9PT0gMSAmJiBvdGhlci5jb250YWluc1BvaW50KCBlZGdlMS5lbmQgKSApIHtcblxuXHRcdFx0XHRpZiAoIHRhcmdldCApIHtcblxuXHRcdFx0XHRcdHRhcmdldC5zdGFydC5jb3B5KCBlZGdlMS5lbmQgKTtcblx0XHRcdFx0XHR0YXJnZXQuZW5kLmNvcHkoIGVkZ2UxLmVuZCApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdFx0fSBlbHNlIGlmICggY291bnQxICE9PSAyICkge1xuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBmaW5kIHRoZSBvdGhlciB0cmlhbmdsZXMgZWRnZSB0aGF0IGludGVyc2VjdHMgdGhpcyBwbGFuZVxuXHRcdFx0Y29uc3QgY291bnQyID0gdHJpSW50ZXJzZWN0UGxhbmUoIG90aGVyLCBwbGFuZTEsIGVkZ2UyICk7XG5cdFx0XHRpZiAoIGNvdW50MiA9PT0gMSAmJiB0aGlzLmNvbnRhaW5zUG9pbnQoIGVkZ2UyLmVuZCApICkge1xuXG5cdFx0XHRcdGlmICggdGFyZ2V0ICkge1xuXG5cdFx0XHRcdFx0dGFyZ2V0LnN0YXJ0LmNvcHkoIGVkZ2UyLmVuZCApO1xuXHRcdFx0XHRcdHRhcmdldC5lbmQuY29weSggZWRnZTIuZW5kICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBjb3VudDIgIT09IDIgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIGZpbmQgc3dhcCB0aGUgc2Vjb25kIGVkZ2Ugc28gYm90aCBsaW5lcyBhcmUgcnVubmluZyB0aGUgc2FtZSBkaXJlY3Rpb25cblx0XHRcdGVkZ2UxLmRlbHRhKCBkaXIxICk7XG5cdFx0XHRlZGdlMi5kZWx0YSggZGlyMiApO1xuXG5cdFx0XHRpZiAoIGRpcjEuZG90KCBkaXIyICkgPCAwICkge1xuXG5cdFx0XHRcdGxldCB0bXAgPSBlZGdlMi5zdGFydDtcblx0XHRcdFx0ZWRnZTIuc3RhcnQgPSBlZGdlMi5lbmQ7XG5cdFx0XHRcdGVkZ2UyLmVuZCA9IHRtcDtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBjaGVjayBpZiB0aGUgZWRnZXMgYXJlIG92ZXJsYXBwaW5nXG5cdFx0XHRjb25zdCBzMSA9IGVkZ2UxLnN0YXJ0LmRvdCggZGlyMSApO1xuXHRcdFx0Y29uc3QgZTEgPSBlZGdlMS5lbmQuZG90KCBkaXIxICk7XG5cdFx0XHRjb25zdCBzMiA9IGVkZ2UyLnN0YXJ0LmRvdCggZGlyMSApO1xuXHRcdFx0Y29uc3QgZTIgPSBlZGdlMi5lbmQuZG90KCBkaXIxICk7XG5cdFx0XHRjb25zdCBzZXBhcmF0ZWQxID0gZTEgPCBzMjtcblx0XHRcdGNvbnN0IHNlcGFyYXRlZDIgPSBzMSA8IGUyO1xuXG5cdFx0XHRpZiAoIHMxICE9PSBlMiAmJiBzMiAhPT0gZTEgJiYgc2VwYXJhdGVkMSA9PT0gc2VwYXJhdGVkMiApIHtcblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gYXNzaWduIHRoZSB0YXJnZXQgb3V0cHV0XG5cdFx0XHRpZiAoIHRhcmdldCApIHtcblxuXHRcdFx0XHR0ZW1wRGlyLnN1YlZlY3RvcnMoIGVkZ2UxLnN0YXJ0LCBlZGdlMi5zdGFydCApO1xuXHRcdFx0XHRpZiAoIHRlbXBEaXIuZG90KCBkaXIxICkgPiAwICkge1xuXG5cdFx0XHRcdFx0dGFyZ2V0LnN0YXJ0LmNvcHkoIGVkZ2UxLnN0YXJ0ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRhcmdldC5zdGFydC5jb3B5KCBlZGdlMi5zdGFydCApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0ZW1wRGlyLnN1YlZlY3RvcnMoIGVkZ2UxLmVuZCwgZWRnZTIuZW5kICk7XG5cdFx0XHRcdGlmICggdGVtcERpci5kb3QoIGRpcjEgKSA8IDAgKSB7XG5cblx0XHRcdFx0XHR0YXJnZXQuZW5kLmNvcHkoIGVkZ2UxLmVuZCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0YXJnZXQuZW5kLmNvcHkoIGVkZ2UyLmVuZCApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHR9O1xuXG59ICkoKTtcblxuXG5FeHRlbmRlZFRyaWFuZ2xlLnByb3RvdHlwZS5kaXN0YW5jZVRvUG9pbnQgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHRjb25zdCB0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXHRyZXR1cm4gZnVuY3Rpb24gZGlzdGFuY2VUb1BvaW50KCBwb2ludCApIHtcblxuXHRcdHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldCApO1xuXHRcdHJldHVybiBwb2ludC5kaXN0YW5jZVRvKCB0YXJnZXQgKTtcblxuXHR9O1xuXG59ICkoKTtcblxuXG5FeHRlbmRlZFRyaWFuZ2xlLnByb3RvdHlwZS5kaXN0YW5jZVRvVHJpYW5nbGUgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHRjb25zdCBwb2ludCA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IHBvaW50MiA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IGNvcm5lckZpZWxkcyA9IFsgJ2EnLCAnYicsICdjJyBdO1xuXHRjb25zdCBsaW5lMSA9IG5ldyBMaW5lMygpO1xuXHRjb25zdCBsaW5lMiA9IG5ldyBMaW5lMygpO1xuXG5cdHJldHVybiBmdW5jdGlvbiBkaXN0YW5jZVRvVHJpYW5nbGUoIG90aGVyLCB0YXJnZXQxID0gbnVsbCwgdGFyZ2V0MiA9IG51bGwgKSB7XG5cblx0XHRjb25zdCBsaW5lVGFyZ2V0ID0gdGFyZ2V0MSB8fCB0YXJnZXQyID8gbGluZTEgOiBudWxsO1xuXHRcdGlmICggdGhpcy5pbnRlcnNlY3RzVHJpYW5nbGUoIG90aGVyLCBsaW5lVGFyZ2V0ICkgKSB7XG5cblx0XHRcdGlmICggdGFyZ2V0MSB8fCB0YXJnZXQyICkge1xuXG5cdFx0XHRcdGlmICggdGFyZ2V0MSApIGxpbmVUYXJnZXQuZ2V0Q2VudGVyKCB0YXJnZXQxICk7XG5cdFx0XHRcdGlmICggdGFyZ2V0MiApIGxpbmVUYXJnZXQuZ2V0Q2VudGVyKCB0YXJnZXQyICk7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIDA7XG5cblx0XHR9XG5cblx0XHRsZXQgY2xvc2VzdERpc3RhbmNlU3EgPSBJbmZpbml0eTtcblxuXHRcdC8vIGNoZWNrIGFsbCBwb2ludCBkaXN0YW5jZXNcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRsZXQgZGlzdDtcblx0XHRcdGNvbnN0IGZpZWxkID0gY29ybmVyRmllbGRzWyBpIF07XG5cdFx0XHRjb25zdCBvdGhlclZlYyA9IG90aGVyWyBmaWVsZCBdO1xuXHRcdFx0dGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50KCBvdGhlclZlYywgcG9pbnQgKTtcblxuXHRcdFx0ZGlzdCA9IG90aGVyVmVjLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludCApO1xuXG5cdFx0XHRpZiAoIGRpc3QgPCBjbG9zZXN0RGlzdGFuY2VTcSApIHtcblxuXHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VTcSA9IGRpc3Q7XG5cdFx0XHRcdGlmICggdGFyZ2V0MSApIHRhcmdldDEuY29weSggcG9pbnQgKTtcblx0XHRcdFx0aWYgKCB0YXJnZXQyICkgdGFyZ2V0Mi5jb3B5KCBvdGhlclZlYyApO1xuXG5cdFx0XHR9XG5cblxuXHRcdFx0Y29uc3QgdGhpc1ZlYyA9IHRoaXNbIGZpZWxkIF07XG5cdFx0XHRvdGhlci5jbG9zZXN0UG9pbnRUb1BvaW50KCB0aGlzVmVjLCBwb2ludCApO1xuXG5cdFx0XHRkaXN0ID0gdGhpc1ZlYy5kaXN0YW5jZVRvU3F1YXJlZCggcG9pbnQgKTtcblxuXHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XG5cblx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlU3EgPSBkaXN0O1xuXHRcdFx0XHRpZiAoIHRhcmdldDEgKSB0YXJnZXQxLmNvcHkoIHRoaXNWZWMgKTtcblx0XHRcdFx0aWYgKCB0YXJnZXQyICkgdGFyZ2V0Mi5jb3B5KCBwb2ludCApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBmMTEgPSBjb3JuZXJGaWVsZHNbIGkgXTtcblx0XHRcdGNvbnN0IGYxMiA9IGNvcm5lckZpZWxkc1sgKCBpICsgMSApICUgMyBdO1xuXHRcdFx0bGluZTEuc2V0KCB0aGlzWyBmMTEgXSwgdGhpc1sgZjEyIF0gKTtcblx0XHRcdGZvciAoIGxldCBpMiA9IDA7IGkyIDwgMzsgaTIgKysgKSB7XG5cblx0XHRcdFx0Y29uc3QgZjIxID0gY29ybmVyRmllbGRzWyBpMiBdO1xuXHRcdFx0XHRjb25zdCBmMjIgPSBjb3JuZXJGaWVsZHNbICggaTIgKyAxICkgJSAzIF07XG5cdFx0XHRcdGxpbmUyLnNldCggb3RoZXJbIGYyMSBdLCBvdGhlclsgZjIyIF0gKTtcblxuXHRcdFx0XHRjbG9zZXN0UG9pbnRzU2VnbWVudFRvU2VnbWVudCggbGluZTEsIGxpbmUyLCBwb2ludCwgcG9pbnQyICk7XG5cblx0XHRcdFx0Y29uc3QgZGlzdCA9IHBvaW50LmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDIgKTtcblx0XHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XG5cblx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VTcSA9IGRpc3Q7XG5cdFx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludCApO1xuXHRcdFx0XHRcdGlmICggdGFyZ2V0MiApIHRhcmdldDIuY29weSggcG9pbnQyICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCBjbG9zZXN0RGlzdGFuY2VTcSApO1xuXG5cdH07XG5cbn0gKSgpO1xuIl0sIm5hbWVzIjpbIlRyaWFuZ2xlIiwiVmVjdG9yMyIsIkxpbmUzIiwiU3BoZXJlIiwiUGxhbmUiLCJTZXBhcmF0aW5nQXhpc0JvdW5kcyIsImNsb3Nlc3RQb2ludHNTZWdtZW50VG9TZWdtZW50Iiwic3BoZXJlSW50ZXJzZWN0VHJpYW5nbGUiLCJaRVJPX0VQU0lMT04iLCJpc05lYXJaZXJvIiwidmFsdWUiLCJNYXRoIiwiYWJzIiwiRXh0ZW5kZWRUcmlhbmdsZSIsImNvbnN0cnVjdG9yIiwiYXJncyIsImlzRXh0ZW5kZWRUcmlhbmdsZSIsInNhdEF4ZXMiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJzYXRCb3VuZHMiLCJwb2ludHMiLCJhIiwiYiIsImMiLCJzcGhlcmUiLCJwbGFuZSIsIm5lZWRzVXBkYXRlIiwiaW50ZXJzZWN0c1NwaGVyZSIsInVwZGF0ZSIsImF4aXMwIiwic2FiMCIsImdldE5vcm1hbCIsInNldEZyb21Qb2ludHMiLCJheGlzMSIsInNhYjEiLCJzdWJWZWN0b3JzIiwiYXhpczIiLCJzYWIyIiwiYXhpczMiLCJzYWIzIiwic2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQiLCJwcm90b3R5cGUiLCJjbG9zZXN0UG9pbnRUb1NlZ21lbnQiLCJwb2ludDEiLCJwb2ludDIiLCJlZGdlIiwiZGlzdGFuY2VUb1NlZ21lbnQiLCJzZWdtZW50IiwidGFyZ2V0MSIsInRhcmdldDIiLCJzdGFydCIsImVuZCIsImRpc3RTcSIsImNsb3Nlc3REaXN0YW5jZVNxIiwiSW5maW5pdHkiLCJpIiwibmV4dGkiLCJjb3B5IiwiZGlzdGFuY2VUb1NxdWFyZWQiLCJjbG9zZXN0UG9pbnRUb1BvaW50Iiwic3FydCIsImludGVyc2VjdHNUcmlhbmdsZSIsInNhVHJpMiIsImFycjEiLCJhcnIyIiwiY2FjaGVkU2F0Qm91bmRzIiwiY2FjaGVkU2F0Qm91bmRzMiIsImNhY2hlZEF4aXMiLCJkaXIiLCJkaXIxIiwiZGlyMiIsInRlbXBEaXIiLCJlZGdlMSIsImVkZ2UyIiwidGVtcFBvaW50IiwidHJpSW50ZXJzZWN0UGxhbmUiLCJ0cmkiLCJ0YXJnZXRFZGdlIiwiY291bnQiLCJzdGFydFBvaW50SW50ZXJzZWN0aW9uIiwiZGVsdGEiLCJzdGFydEludGVyc2VjdHMiLCJkaXN0YW5jZVRvUG9pbnQiLCJub3JtYWwiLCJkb3QiLCJkb2VzSW50ZXJzZWN0IiwiaW50ZXJzZWN0TGluZSIsImRpc3RhbmNlVG8iLCJwb2ludCIsIm90aGVyIiwidGFyZ2V0Iiwic3VwcHJlc3NMb2ciLCJwbGFuZTEiLCJwbGFuZTIiLCJzYXRCb3VuZHMxIiwic2F0QXhlczEiLCJzYiIsInNhIiwiaXNTZXBhcmF0ZWQiLCJzYXRCb3VuZHMyIiwic2F0QXhlczIiLCJzYTEiLCJpMiIsInNhMiIsImNyb3NzVmVjdG9ycyIsImNvbnNvbGUiLCJ3YXJuIiwic2V0IiwiY291bnQxIiwiY29udGFpbnNQb2ludCIsImNvdW50MiIsInRtcCIsInMxIiwiZTEiLCJzMiIsImUyIiwic2VwYXJhdGVkMSIsInNlcGFyYXRlZDIiLCJkaXN0YW5jZVRvVHJpYW5nbGUiLCJjb3JuZXJGaWVsZHMiLCJsaW5lMSIsImxpbmUyIiwibGluZVRhcmdldCIsImdldENlbnRlciIsImRpc3QiLCJmaWVsZCIsIm90aGVyVmVjIiwidGhpc1ZlYyIsImYxMSIsImYxMiIsImYyMSIsImYyMiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/math/MathUtilities.js":
/*!***************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/math/MathUtilities.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closestPointLineToLine: () => (/* binding */ closestPointLineToLine),\n/* harmony export */   closestPointsSegmentToSegment: () => (/* binding */ closestPointsSegmentToSegment),\n/* harmony export */   sphereIntersectTriangle: () => (/* binding */ sphereIntersectTriangle)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nconst closestPointLineToLine = function() {\n    // https://github.com/juj/MathGeoLib/blob/master/src/Geometry/Line.cpp#L56\n    const dir1 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const dir2 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const v02 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    return function closestPointLineToLine(l1, l2, result) {\n        const v0 = l1.start;\n        const v10 = dir1;\n        const v2 = l2.start;\n        const v32 = dir2;\n        v02.subVectors(v0, v2);\n        dir1.subVectors(l1.end, l1.start);\n        dir2.subVectors(l2.end, l2.start);\n        // float d0232 = v02.Dot(v32);\n        const d0232 = v02.dot(v32);\n        // float d3210 = v32.Dot(v10);\n        const d3210 = v32.dot(v10);\n        // float d3232 = v32.Dot(v32);\n        const d3232 = v32.dot(v32);\n        // float d0210 = v02.Dot(v10);\n        const d0210 = v02.dot(v10);\n        // float d1010 = v10.Dot(v10);\n        const d1010 = v10.dot(v10);\n        // float denom = d1010*d3232 - d3210*d3210;\n        const denom = d1010 * d3232 - d3210 * d3210;\n        let d, d2;\n        if (denom !== 0) {\n            d = (d0232 * d3210 - d0210 * d3232) / denom;\n        } else {\n            d = 0;\n        }\n        d2 = (d0232 + d * d3210) / d3232;\n        result.x = d;\n        result.y = d2;\n    };\n}();\nconst closestPointsSegmentToSegment = function() {\n    // https://github.com/juj/MathGeoLib/blob/master/src/Geometry/LineSegment.cpp#L187\n    const paramResult = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n    const temp1 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const temp2 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    return function closestPointsSegmentToSegment(l1, l2, target1, target2) {\n        closestPointLineToLine(l1, l2, paramResult);\n        let d = paramResult.x;\n        let d2 = paramResult.y;\n        if (d >= 0 && d <= 1 && d2 >= 0 && d2 <= 1) {\n            l1.at(d, target1);\n            l2.at(d2, target2);\n            return;\n        } else if (d >= 0 && d <= 1) {\n            // Only d2 is out of bounds.\n            if (d2 < 0) {\n                l2.at(0, target2);\n            } else {\n                l2.at(1, target2);\n            }\n            l1.closestPointToPoint(target2, true, target1);\n            return;\n        } else if (d2 >= 0 && d2 <= 1) {\n            // Only d is out of bounds.\n            if (d < 0) {\n                l1.at(0, target1);\n            } else {\n                l1.at(1, target1);\n            }\n            l2.closestPointToPoint(target1, true, target2);\n            return;\n        } else {\n            // Both u and u2 are out of bounds.\n            let p;\n            if (d < 0) {\n                p = l1.start;\n            } else {\n                p = l1.end;\n            }\n            let p2;\n            if (d2 < 0) {\n                p2 = l2.start;\n            } else {\n                p2 = l2.end;\n            }\n            const closestPoint = temp1;\n            const closestPoint2 = temp2;\n            l1.closestPointToPoint(p2, true, temp1);\n            l2.closestPointToPoint(p, true, temp2);\n            if (closestPoint.distanceToSquared(p2) <= closestPoint2.distanceToSquared(p)) {\n                target1.copy(closestPoint);\n                target2.copy(p2);\n                return;\n            } else {\n                target1.copy(p);\n                target2.copy(closestPoint2);\n                return;\n            }\n        }\n    };\n}();\nconst sphereIntersectTriangle = function() {\n    // https://stackoverflow.com/questions/34043955/detect-collision-between-sphere-and-triangle-in-three-js\n    const closestPointTemp = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const projectedPointTemp = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const planeTemp = new three__WEBPACK_IMPORTED_MODULE_0__.Plane();\n    const lineTemp = new three__WEBPACK_IMPORTED_MODULE_0__.Line3();\n    return function sphereIntersectTriangle(sphere, triangle) {\n        const { radius, center } = sphere;\n        const { a, b, c } = triangle;\n        // phase 1\n        lineTemp.start = a;\n        lineTemp.end = b;\n        const closestPoint1 = lineTemp.closestPointToPoint(center, true, closestPointTemp);\n        if (closestPoint1.distanceTo(center) <= radius) return true;\n        lineTemp.start = a;\n        lineTemp.end = c;\n        const closestPoint2 = lineTemp.closestPointToPoint(center, true, closestPointTemp);\n        if (closestPoint2.distanceTo(center) <= radius) return true;\n        lineTemp.start = b;\n        lineTemp.end = c;\n        const closestPoint3 = lineTemp.closestPointToPoint(center, true, closestPointTemp);\n        if (closestPoint3.distanceTo(center) <= radius) return true;\n        // phase 2\n        const plane = triangle.getPlane(planeTemp);\n        const dp = Math.abs(plane.distanceToPoint(center));\n        if (dp <= radius) {\n            const pp = plane.projectPoint(center, projectedPointTemp);\n            const cp = triangle.containsPoint(pp);\n            if (cp) return true;\n        }\n        return false;\n    };\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvTWF0aFV0aWxpdGllcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBRWhELE1BQU1JLHlCQUF5QjtJQUVyQywwRUFBMEU7SUFDMUUsTUFBTUMsT0FBTyxJQUFJTCwwQ0FBT0E7SUFDeEIsTUFBTU0sT0FBTyxJQUFJTiwwQ0FBT0E7SUFDeEIsTUFBTU8sTUFBTSxJQUFJUCwwQ0FBT0E7SUFDdkIsT0FBTyxTQUFTSSx1QkFBd0JJLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxNQUFNO1FBRXJELE1BQU1DLEtBQUtILEdBQUdJLEtBQUs7UUFDbkIsTUFBTUMsTUFBTVI7UUFDWixNQUFNUyxLQUFLTCxHQUFHRyxLQUFLO1FBQ25CLE1BQU1HLE1BQU1UO1FBRVpDLElBQUlTLFVBQVUsQ0FBRUwsSUFBSUc7UUFDcEJULEtBQUtXLFVBQVUsQ0FBRVIsR0FBR1MsR0FBRyxFQUFFVCxHQUFHSSxLQUFLO1FBQ2pDTixLQUFLVSxVQUFVLENBQUVQLEdBQUdRLEdBQUcsRUFBRVIsR0FBR0csS0FBSztRQUVqQyw4QkFBOEI7UUFDOUIsTUFBTU0sUUFBUVgsSUFBSVksR0FBRyxDQUFFSjtRQUV2Qiw4QkFBOEI7UUFDOUIsTUFBTUssUUFBUUwsSUFBSUksR0FBRyxDQUFFTjtRQUV2Qiw4QkFBOEI7UUFDOUIsTUFBTVEsUUFBUU4sSUFBSUksR0FBRyxDQUFFSjtRQUV2Qiw4QkFBOEI7UUFDOUIsTUFBTU8sUUFBUWYsSUFBSVksR0FBRyxDQUFFTjtRQUV2Qiw4QkFBOEI7UUFDOUIsTUFBTVUsUUFBUVYsSUFBSU0sR0FBRyxDQUFFTjtRQUV2QiwyQ0FBMkM7UUFDM0MsTUFBTVcsUUFBUUQsUUFBUUYsUUFBUUQsUUFBUUE7UUFFdEMsSUFBSUssR0FBR0M7UUFDUCxJQUFLRixVQUFVLEdBQUk7WUFFbEJDLElBQUksQ0FBRVAsUUFBUUUsUUFBUUUsUUFBUUQsS0FBSSxJQUFNRztRQUV6QyxPQUFPO1lBRU5D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RyxHQUFHb0M7UUFDZixNQUFNRSxnQkFBZ0JSLFNBQVNYLG1CQUFtQixDQUFFZSxRQUFRLE1BQU1QO1FBQ2xFLElBQUtXLGNBQWNDLFVBQVUsQ0FBRUwsV0FBWUQsUUFBUyxPQUFPO1FBRTNESCxTQUFTbkMsS0FBSyxHQUFHd0M7UUFDakJMLFNBQVM5QixHQUFHLEdBQUdxQztRQUNmLE1BQU1kLGdCQUFnQk8sU0FBU1gsbUJBQW1CLENBQUVlLFFBQVEsTUFBTVA7UUFDbEUsSUFBS0osY0FBY2dCLFVBQVUsQ0FBRUwsV0FBWUQsUUFBUyxPQUFPO1FBRTNESCxTQUFTbkMsS0FBSyxHQUFHeUM7UUFDakJOLFNBQVM5QixHQUFHLEdBQUdxQztRQUNmLE1BQU1HLGdCQUFnQlYsU0FBU1gsbUJBQW1CLENBQUVlLFFBQVEsTUFBTVA7UUFDbEUsSUFBS2EsY0FBY0QsVUFBVSxDQUFFTCxXQUFZRCxRQUFTLE9BQU87UUFFM0QsVUFBVTtRQUNWLE1BQU1RLFFBQVFULFNBQVNVLFFBQVEsQ0FBRWI7UUFDakMsTUFBTWMsS0FBS0MsS0FBS0MsR0FBRyxDQUFFSixNQUFNSyxlQUFlLENBQUVaO1FBQzVDLElBQUtTLE1BQU1WLFFBQVM7WUFFbkIsTUFBTWMsS0FBS04sTUFBTU8sWUFBWSxDQUFFZCxRQUFRTjtZQUN2QyxNQUFNcUIsS0FBS2pCLFNBQVNrQixhQUFhLENBQUVIO1lBQ25DLElBQUtFLElBQUssT0FBTztRQUVsQjtRQUVBLE9BQU87SUFFUjtBQUVELElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvTWF0aFV0aWxpdGllcy5qcz9kYzFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlY3RvcjMsIFZlY3RvcjIsIFBsYW5lLCBMaW5lMyB9IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGNvbnN0IGNsb3Nlc3RQb2ludExpbmVUb0xpbmUgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi9tYXN0ZXIvc3JjL0dlb21ldHJ5L0xpbmUuY3BwI0w1NlxuXHRjb25zdCBkaXIxID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgZGlyMiA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IHYwMiA9IG5ldyBWZWN0b3IzKCk7XG5cdHJldHVybiBmdW5jdGlvbiBjbG9zZXN0UG9pbnRMaW5lVG9MaW5lKCBsMSwgbDIsIHJlc3VsdCApIHtcblxuXHRcdGNvbnN0IHYwID0gbDEuc3RhcnQ7XG5cdFx0Y29uc3QgdjEwID0gZGlyMTtcblx0XHRjb25zdCB2MiA9IGwyLnN0YXJ0O1xuXHRcdGNvbnN0IHYzMiA9IGRpcjI7XG5cblx0XHR2MDIuc3ViVmVjdG9ycyggdjAsIHYyICk7XG5cdFx0ZGlyMS5zdWJWZWN0b3JzKCBsMS5lbmQsIGwxLnN0YXJ0ICk7XG5cdFx0ZGlyMi5zdWJWZWN0b3JzKCBsMi5lbmQsIGwyLnN0YXJ0ICk7XG5cblx0XHQvLyBmbG9hdCBkMDIzMiA9IHYwMi5Eb3QodjMyKTtcblx0XHRjb25zdCBkMDIzMiA9IHYwMi5kb3QoIHYzMiApO1xuXG5cdFx0Ly8gZmxvYXQgZDMyMTAgPSB2MzIuRG90KHYxMCk7XG5cdFx0Y29uc3QgZDMyMTAgPSB2MzIuZG90KCB2MTAgKTtcblxuXHRcdC8vIGZsb2F0IGQzMjMyID0gdjMyLkRvdCh2MzIpO1xuXHRcdGNvbnN0IGQzMjMyID0gdjMyLmRvdCggdjMyICk7XG5cblx0XHQvLyBmbG9hdCBkMDIxMCA9IHYwMi5Eb3QodjEwKTtcblx0XHRjb25zdCBkMDIxMCA9IHYwMi5kb3QoIHYxMCApO1xuXG5cdFx0Ly8gZmxvYXQgZDEwMTAgPSB2MTAuRG90KHYxMCk7XG5cdFx0Y29uc3QgZDEwMTAgPSB2MTAuZG90KCB2MTAgKTtcblxuXHRcdC8vIGZsb2F0IGRlbm9tID0gZDEwMTAqZDMyMzIgLSBkMzIxMCpkMzIxMDtcblx0XHRjb25zdCBkZW5vbSA9IGQxMDEwICogZDMyMzIgLSBkMzIxMCAqIGQzMjEwO1xuXG5cdFx0bGV0IGQsIGQyO1xuXHRcdGlmICggZGVub20gIT09IDAgKSB7XG5cblx0XHRcdGQgPSAoIGQwMjMyICogZDMyMTAgLSBkMDIxMCAqIGQzMjMyICkgLyBkZW5vbTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGQgPSAwO1xuXG5cdFx0fVxuXG5cdFx0ZDIgPSAoIGQwMjMyICsgZCAqIGQzMjEwICkgLyBkMzIzMjtcblxuXHRcdHJlc3VsdC54ID0gZDtcblx0XHRyZXN1bHQueSA9IGQyO1xuXG5cdH07XG5cbn0gKSgpO1xuXG5leHBvcnQgY29uc3QgY2xvc2VzdFBvaW50c1NlZ21lbnRUb1NlZ21lbnQgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi9tYXN0ZXIvc3JjL0dlb21ldHJ5L0xpbmVTZWdtZW50LmNwcCNMMTg3XG5cdGNvbnN0IHBhcmFtUmVzdWx0ID0gbmV3IFZlY3RvcjIoKTtcblx0Y29uc3QgdGVtcDEgPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCB0ZW1wMiA9IG5ldyBWZWN0b3IzKCk7XG5cdHJldHVybiBmdW5jdGlvbiBjbG9zZXN0UG9pbnRzU2VnbWVudFRvU2VnbWVudCggbDEsIGwyLCB0YXJnZXQxLCB0YXJnZXQyICkge1xuXG5cdFx0Y2xvc2VzdFBvaW50TGluZVRvTGluZSggbDEsIGwyLCBwYXJhbVJlc3VsdCApO1xuXG5cdFx0bGV0IGQgPSBwYXJhbVJlc3VsdC54O1xuXHRcdGxldCBkMiA9IHBhcmFtUmVzdWx0Lnk7XG5cdFx0aWYgKCBkID49IDAgJiYgZCA8PSAxICYmIGQyID49IDAgJiYgZDIgPD0gMSApIHtcblxuXHRcdFx0bDEuYXQoIGQsIHRhcmdldDEgKTtcblx0XHRcdGwyLmF0KCBkMiwgdGFyZ2V0MiApO1xuXG5cdFx0XHRyZXR1cm47XG5cblx0XHR9IGVsc2UgaWYgKCBkID49IDAgJiYgZCA8PSAxICkge1xuXG5cdFx0XHQvLyBPbmx5IGQyIGlzIG91dCBvZiBib3VuZHMuXG5cdFx0XHRpZiAoIGQyIDwgMCApIHtcblxuXHRcdFx0XHRsMi5hdCggMCwgdGFyZ2V0MiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGwyLmF0KCAxLCB0YXJnZXQyICk7XG5cblx0XHRcdH1cblxuXHRcdFx0bDEuY2xvc2VzdFBvaW50VG9Qb2ludCggdGFyZ2V0MiwgdHJ1ZSwgdGFyZ2V0MSApO1xuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fSBlbHNlIGlmICggZDIgPj0gMCAmJiBkMiA8PSAxICkge1xuXG5cdFx0XHQvLyBPbmx5IGQgaXMgb3V0IG9mIGJvdW5kcy5cblx0XHRcdGlmICggZCA8IDAgKSB7XG5cblx0XHRcdFx0bDEuYXQoIDAsIHRhcmdldDEgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRsMS5hdCggMSwgdGFyZ2V0MSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGwyLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHRhcmdldDEsIHRydWUsIHRhcmdldDIgKTtcblx0XHRcdHJldHVybjtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEJvdGggdSBhbmQgdTIgYXJlIG91dCBvZiBib3VuZHMuXG5cdFx0XHRsZXQgcDtcblx0XHRcdGlmICggZCA8IDAgKSB7XG5cblx0XHRcdFx0cCA9IGwxLnN0YXJ0O1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHAgPSBsMS5lbmQ7XG5cblx0XHRcdH1cblxuXHRcdFx0bGV0IHAyO1xuXHRcdFx0aWYgKCBkMiA8IDAgKSB7XG5cblx0XHRcdFx0cDIgPSBsMi5zdGFydDtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRwMiA9IGwyLmVuZDtcblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjbG9zZXN0UG9pbnQgPSB0ZW1wMTtcblx0XHRcdGNvbnN0IGNsb3Nlc3RQb2ludDIgPSB0ZW1wMjtcblx0XHRcdGwxLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHAyLCB0cnVlLCB0ZW1wMSApO1xuXHRcdFx0bDIuY2xvc2VzdFBvaW50VG9Qb2ludCggcCwgdHJ1ZSwgdGVtcDIgKTtcblxuXHRcdFx0aWYgKCBjbG9zZXN0UG9pbnQuZGlzdGFuY2VUb1NxdWFyZWQoIHAyICkgPD0gY2xvc2VzdFBvaW50Mi5kaXN0YW5jZVRvU3F1YXJlZCggcCApICkge1xuXG5cdFx0XHRcdHRhcmdldDEuY29weSggY2xvc2VzdFBvaW50ICk7XG5cdFx0XHRcdHRhcmdldDIuY29weSggcDIgKTtcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHRhcmdldDEuY29weSggcCApO1xuXHRcdFx0XHR0YXJnZXQyLmNvcHkoIGNsb3Nlc3RQb2ludDIgKTtcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fTtcblxufSApKCk7XG5cblxuZXhwb3J0IGNvbnN0IHNwaGVyZUludGVyc2VjdFRyaWFuZ2xlID0gKCBmdW5jdGlvbiAoKSB7XG5cblx0Ly8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQwNDM5NTUvZGV0ZWN0LWNvbGxpc2lvbi1iZXR3ZWVuLXNwaGVyZS1hbmQtdHJpYW5nbGUtaW4tdGhyZWUtanNcblx0Y29uc3QgY2xvc2VzdFBvaW50VGVtcCA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IHByb2plY3RlZFBvaW50VGVtcCA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IHBsYW5lVGVtcCA9IG5ldyBQbGFuZSgpO1xuXHRjb25zdCBsaW5lVGVtcCA9IG5ldyBMaW5lMygpO1xuXHRyZXR1cm4gZnVuY3Rpb24gc3BoZXJlSW50ZXJzZWN0VHJpYW5nbGUoIHNwaGVyZSwgdHJpYW5nbGUgKSB7XG5cblx0XHRjb25zdCB7IHJhZGl1cywgY2VudGVyIH0gPSBzcGhlcmU7XG5cdFx0Y29uc3QgeyBhLCBiLCBjIH0gPSB0cmlhbmdsZTtcblxuXHRcdC8vIHBoYXNlIDFcblx0XHRsaW5lVGVtcC5zdGFydCA9IGE7XG5cdFx0bGluZVRlbXAuZW5kID0gYjtcblx0XHRjb25zdCBjbG9zZXN0UG9pbnQxID0gbGluZVRlbXAuY2xvc2VzdFBvaW50VG9Qb2ludCggY2VudGVyLCB0cnVlLCBjbG9zZXN0UG9pbnRUZW1wICk7XG5cdFx0aWYgKCBjbG9zZXN0UG9pbnQxLmRpc3RhbmNlVG8oIGNlbnRlciApIDw9IHJhZGl1cyApIHJldHVybiB0cnVlO1xuXG5cdFx0bGluZVRlbXAuc3RhcnQgPSBhO1xuXHRcdGxpbmVUZW1wLmVuZCA9IGM7XG5cdFx0Y29uc3QgY2xvc2VzdFBvaW50MiA9IGxpbmVUZW1wLmNsb3Nlc3RQb2ludFRvUG9pbnQoIGNlbnRlciwgdHJ1ZSwgY2xvc2VzdFBvaW50VGVtcCApO1xuXHRcdGlmICggY2xvc2VzdFBvaW50Mi5kaXN0YW5jZVRvKCBjZW50ZXIgKSA8PSByYWRpdXMgKSByZXR1cm4gdHJ1ZTtcblxuXHRcdGxpbmVUZW1wLnN0YXJ0ID0gYjtcblx0XHRsaW5lVGVtcC5lbmQgPSBjO1xuXHRcdGNvbnN0IGNsb3Nlc3RQb2ludDMgPSBsaW5lVGVtcC5jbG9zZXN0UG9pbnRUb1BvaW50KCBjZW50ZXIsIHRydWUsIGNsb3Nlc3RQb2ludFRlbXAgKTtcblx0XHRpZiAoIGNsb3Nlc3RQb2ludDMuZGlzdGFuY2VUbyggY2VudGVyICkgPD0gcmFkaXVzICkgcmV0dXJuIHRydWU7XG5cblx0XHQvLyBwaGFzZSAyXG5cdFx0Y29uc3QgcGxhbmUgPSB0cmlhbmdsZS5nZXRQbGFuZSggcGxhbmVUZW1wICk7XG5cdFx0Y29uc3QgZHAgPSBNYXRoLmFicyggcGxhbmUuZGlzdGFuY2VUb1BvaW50KCBjZW50ZXIgKSApO1xuXHRcdGlmICggZHAgPD0gcmFkaXVzICkge1xuXG5cdFx0XHRjb25zdCBwcCA9IHBsYW5lLnByb2plY3RQb2ludCggY2VudGVyLCBwcm9qZWN0ZWRQb2ludFRlbXAgKTtcblx0XHRcdGNvbnN0IGNwID0gdHJpYW5nbGUuY29udGFpbnNQb2ludCggcHAgKTtcblx0XHRcdGlmICggY3AgKSByZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblxuXHR9O1xuXG59ICkoKTtcbiJdLCJuYW1lcyI6WyJWZWN0b3IzIiwiVmVjdG9yMiIsIlBsYW5lIiwiTGluZTMiLCJjbG9zZXN0UG9pbnRMaW5lVG9MaW5lIiwiZGlyMSIsImRpcjIiLCJ2MDIiLCJsMSIsImwyIiwicmVzdWx0IiwidjAiLCJzdGFydCIsInYxMCIsInYyIiwidjMyIiwic3ViVmVjdG9ycyIsImVuZCIsImQwMjMyIiwiZG90IiwiZDMyMTAiLCJkMzIzMiIsImQwMjEwIiwiZDEwMTAiLCJkZW5vbSIsImQiLCJkMiIsIngiLCJ5IiwiY2xvc2VzdFBvaW50c1NlZ21lbnRUb1NlZ21lbnQiLCJwYXJhbVJlc3VsdCIsInRlbXAxIiwidGVtcDIiLCJ0YXJnZXQxIiwidGFyZ2V0MiIsImF0IiwiY2xvc2VzdFBvaW50VG9Qb2ludCIsInAiLCJwMiIsImNsb3Nlc3RQb2ludCIsImNsb3Nlc3RQb2ludDIiLCJkaXN0YW5jZVRvU3F1YXJlZCIsImNvcHkiLCJzcGhlcmVJbnRlcnNlY3RUcmlhbmdsZSIsImNsb3Nlc3RQb2ludFRlbXAiLCJwcm9qZWN0ZWRQb2ludFRlbXAiLCJwbGFuZVRlbXAiLCJsaW5lVGVtcCIsInNwaGVyZSIsInRyaWFuZ2xlIiwicmFkaXVzIiwiY2VudGVyIiwiYSIsImIiLCJjIiwiY2xvc2VzdFBvaW50MSIsImRpc3RhbmNlVG8iLCJjbG9zZXN0UG9pbnQzIiwicGxhbmUiLCJnZXRQbGFuZSIsImRwIiwiTWF0aCIsImFicyIsImRpc3RhbmNlVG9Qb2ludCIsInBwIiwicHJvamVjdFBvaW50IiwiY3AiLCJjb250YWluc1BvaW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/math/MathUtilities.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/math/OrientedBox.js":
/*!*************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/math/OrientedBox.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OrientedBox: () => (/* binding */ OrientedBox)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SeparatingAxisBounds.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/SeparatingAxisBounds.js\");\n/* harmony import */ var _ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExtendedTriangle.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js\");\n/* harmony import */ var _MathUtilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MathUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/MathUtilities.js\");\n\n\n\n\nclass OrientedBox {\n    constructor(min, max, matrix){\n        this.isOrientedBox = true;\n        this.min = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n        this.max = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n        this.matrix = new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\n        this.invMatrix = new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\n        this.points = new Array(8).fill().map(()=>new three__WEBPACK_IMPORTED_MODULE_0__.Vector3());\n        this.satAxes = new Array(3).fill().map(()=>new three__WEBPACK_IMPORTED_MODULE_0__.Vector3());\n        this.satBounds = new Array(3).fill().map(()=>new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds());\n        this.alignedSatBounds = new Array(3).fill().map(()=>new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds());\n        this.needsUpdate = false;\n        if (min) this.min.copy(min);\n        if (max) this.max.copy(max);\n        if (matrix) this.matrix.copy(matrix);\n    }\n    set(min, max, matrix) {\n        this.min.copy(min);\n        this.max.copy(max);\n        this.matrix.copy(matrix);\n        this.needsUpdate = true;\n    }\n    copy(other) {\n        this.min.copy(other.min);\n        this.max.copy(other.max);\n        this.matrix.copy(other.matrix);\n        this.needsUpdate = true;\n    }\n}\nOrientedBox.prototype.update = function() {\n    return function update() {\n        const matrix = this.matrix;\n        const min = this.min;\n        const max = this.max;\n        const points = this.points;\n        for(let x = 0; x <= 1; x++){\n            for(let y = 0; y <= 1; y++){\n                for(let z = 0; z <= 1; z++){\n                    const i = (1 << 0) * x | (1 << 1) * y | (1 << 2) * z;\n                    const v = points[i];\n                    v.x = x ? max.x : min.x;\n                    v.y = y ? max.y : min.y;\n                    v.z = z ? max.z : min.z;\n                    v.applyMatrix4(matrix);\n                }\n            }\n        }\n        const satBounds = this.satBounds;\n        const satAxes = this.satAxes;\n        const minVec = points[0];\n        for(let i = 0; i < 3; i++){\n            const axis = satAxes[i];\n            const sb = satBounds[i];\n            const index = 1 << i;\n            const pi = points[index];\n            axis.subVectors(minVec, pi);\n            sb.setFromPoints(axis, points);\n        }\n        const alignedSatBounds = this.alignedSatBounds;\n        alignedSatBounds[0].setFromPointsField(points, \"x\");\n        alignedSatBounds[1].setFromPointsField(points, \"y\");\n        alignedSatBounds[2].setFromPointsField(points, \"z\");\n        this.invMatrix.copy(this.matrix).invert();\n        this.needsUpdate = false;\n    };\n}();\nOrientedBox.prototype.intersectsBox = function() {\n    const aabbBounds = new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds();\n    return function intersectsBox(box) {\n        // TODO: should this be doing SAT against the AABB?\n        if (this.needsUpdate) {\n            this.update();\n        }\n        const min = box.min;\n        const max = box.max;\n        const satBounds = this.satBounds;\n        const satAxes = this.satAxes;\n        const alignedSatBounds = this.alignedSatBounds;\n        aabbBounds.min = min.x;\n        aabbBounds.max = max.x;\n        if (alignedSatBounds[0].isSeparated(aabbBounds)) return false;\n        aabbBounds.min = min.y;\n        aabbBounds.max = max.y;\n        if (alignedSatBounds[1].isSeparated(aabbBounds)) return false;\n        aabbBounds.min = min.z;\n        aabbBounds.max = max.z;\n        if (alignedSatBounds[2].isSeparated(aabbBounds)) return false;\n        for(let i = 0; i < 3; i++){\n            const axis = satAxes[i];\n            const sb = satBounds[i];\n            aabbBounds.setFromBox(axis, box);\n            if (sb.isSeparated(aabbBounds)) return false;\n        }\n        return true;\n    };\n}();\nOrientedBox.prototype.intersectsTriangle = function() {\n    const saTri = new _ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedTriangle();\n    const pointsArr = new Array(3);\n    const cachedSatBounds = new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds();\n    const cachedSatBounds2 = new _SeparatingAxisBounds_js__WEBPACK_IMPORTED_MODULE_1__.SeparatingAxisBounds();\n    const cachedAxis = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    return function intersectsTriangle(triangle) {\n        if (this.needsUpdate) {\n            this.update();\n        }\n        if (!triangle.isExtendedTriangle) {\n            saTri.copy(triangle);\n            saTri.update();\n            triangle = saTri;\n        } else if (triangle.needsUpdate) {\n            triangle.update();\n        }\n        const satBounds = this.satBounds;\n        const satAxes = this.satAxes;\n        pointsArr[0] = triangle.a;\n        pointsArr[1] = triangle.b;\n        pointsArr[2] = triangle.c;\n        for(let i = 0; i < 3; i++){\n            const sb = satBounds[i];\n            const sa = satAxes[i];\n            cachedSatBounds.setFromPoints(sa, pointsArr);\n            if (sb.isSeparated(cachedSatBounds)) return false;\n        }\n        const triSatBounds = triangle.satBounds;\n        const triSatAxes = triangle.satAxes;\n        const points = this.points;\n        for(let i = 0; i < 3; i++){\n            const sb = triSatBounds[i];\n            const sa = triSatAxes[i];\n            cachedSatBounds.setFromPoints(sa, points);\n            if (sb.isSeparated(cachedSatBounds)) return false;\n        }\n        // check crossed axes\n        for(let i = 0; i < 3; i++){\n            const sa1 = satAxes[i];\n            for(let i2 = 0; i2 < 4; i2++){\n                const sa2 = triSatAxes[i2];\n                cachedAxis.crossVectors(sa1, sa2);\n                cachedSatBounds.setFromPoints(cachedAxis, pointsArr);\n                cachedSatBounds2.setFromPoints(cachedAxis, points);\n                if (cachedSatBounds.isSeparated(cachedSatBounds2)) return false;\n            }\n        }\n        return true;\n    };\n}();\nOrientedBox.prototype.closestPointToPoint = function() {\n    return function closestPointToPoint(point, target1) {\n        if (this.needsUpdate) {\n            this.update();\n        }\n        target1.copy(point).applyMatrix4(this.invMatrix).clamp(this.min, this.max).applyMatrix4(this.matrix);\n        return target1;\n    };\n}();\nOrientedBox.prototype.distanceToPoint = function() {\n    const target = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    return function distanceToPoint(point) {\n        this.closestPointToPoint(point, target);\n        return point.distanceTo(target);\n    };\n}();\nOrientedBox.prototype.distanceToBox = function() {\n    const xyzFields = [\n        \"x\",\n        \"y\",\n        \"z\"\n    ];\n    const segments1 = new Array(12).fill().map(()=>new three__WEBPACK_IMPORTED_MODULE_0__.Line3());\n    const segments2 = new Array(12).fill().map(()=>new three__WEBPACK_IMPORTED_MODULE_0__.Line3());\n    const point1 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const point2 = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    // early out if we find a value below threshold\n    return function distanceToBox(box, threshold = 0, target1 = null, target2 = null) {\n        if (this.needsUpdate) {\n            this.update();\n        }\n        if (this.intersectsBox(box)) {\n            if (target1 || target2) {\n                box.getCenter(point2);\n                this.closestPointToPoint(point2, point1);\n                box.closestPointToPoint(point1, point2);\n                if (target1) target1.copy(point1);\n                if (target2) target2.copy(point2);\n            }\n            return 0;\n        }\n        const threshold2 = threshold * threshold;\n        const min = box.min;\n        const max = box.max;\n        const points = this.points;\n        // iterate over every edge and compare distances\n        let closestDistanceSq = Infinity;\n        // check over all these points\n        for(let i = 0; i < 8; i++){\n            const p = points[i];\n            point2.copy(p).clamp(min, max);\n            const dist = p.distanceToSquared(point2);\n            if (dist < closestDistanceSq) {\n                closestDistanceSq = dist;\n                if (target1) target1.copy(p);\n                if (target2) target2.copy(point2);\n                if (dist < threshold2) return Math.sqrt(dist);\n            }\n        }\n        // generate and check all line segment distances\n        let count = 0;\n        for(let i = 0; i < 3; i++){\n            for(let i1 = 0; i1 <= 1; i1++){\n                for(let i2 = 0; i2 <= 1; i2++){\n                    const nextIndex = (i + 1) % 3;\n                    const nextIndex2 = (i + 2) % 3;\n                    // get obb line segments\n                    const index = i1 << nextIndex | i2 << nextIndex2;\n                    const index2 = 1 << i | i1 << nextIndex | i2 << nextIndex2;\n                    const p1 = points[index];\n                    const p2 = points[index2];\n                    const line1 = segments1[count];\n                    line1.set(p1, p2);\n                    // get aabb line segments\n                    const f1 = xyzFields[i];\n                    const f2 = xyzFields[nextIndex];\n                    const f3 = xyzFields[nextIndex2];\n                    const line2 = segments2[count];\n                    const start = line2.start;\n                    const end = line2.end;\n                    start[f1] = min[f1];\n                    start[f2] = i1 ? min[f2] : max[f2];\n                    start[f3] = i2 ? min[f3] : max[f2];\n                    end[f1] = max[f1];\n                    end[f2] = i1 ? min[f2] : max[f2];\n                    end[f3] = i2 ? min[f3] : max[f2];\n                    count++;\n                }\n            }\n        }\n        // check all the other boxes point\n        for(let x = 0; x <= 1; x++){\n            for(let y = 0; y <= 1; y++){\n                for(let z = 0; z <= 1; z++){\n                    point2.x = x ? max.x : min.x;\n                    point2.y = y ? max.y : min.y;\n                    point2.z = z ? max.z : min.z;\n                    this.closestPointToPoint(point2, point1);\n                    const dist = point2.distanceToSquared(point1);\n                    if (dist < closestDistanceSq) {\n                        closestDistanceSq = dist;\n                        if (target1) target1.copy(point1);\n                        if (target2) target2.copy(point2);\n                        if (dist < threshold2) return Math.sqrt(dist);\n                    }\n                }\n            }\n        }\n        for(let i = 0; i < 12; i++){\n            const l1 = segments1[i];\n            for(let i2 = 0; i2 < 12; i2++){\n                const l2 = segments2[i2];\n                (0,_MathUtilities_js__WEBPACK_IMPORTED_MODULE_3__.closestPointsSegmentToSegment)(l1, l2, point1, point2);\n                const dist = point1.distanceToSquared(point2);\n                if (dist < closestDistanceSq) {\n                    closestDistanceSq = dist;\n                    if (target1) target1.copy(point1);\n                    if (target2) target2.copy(point2);\n                    if (dist < threshold2) return Math.sqrt(dist);\n                }\n            }\n        }\n        return Math.sqrt(closestDistanceSq);\n    };\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvT3JpZW50ZWRCb3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7QUFDaUI7QUFDUjtBQUNVO0FBRTVELE1BQU1NO0lBRVpDLFlBQWFDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxNQUFNLENBQUc7UUFFL0IsSUFBSSxDQUFDQyxhQUFhLEdBQUc7UUFDckIsSUFBSSxDQUFDSCxHQUFHLEdBQUcsSUFBSVIsMENBQU9BO1FBQ3RCLElBQUksQ0FBQ1MsR0FBRyxHQUFHLElBQUlULDBDQUFPQTtRQUN0QixJQUFJLENBQUNVLE1BQU0sR0FBRyxJQUFJVCwwQ0FBT0E7UUFDekIsSUFBSSxDQUFDVyxTQUFTLEdBQUcsSUFBSVgsMENBQU9BO1FBQzVCLElBQUksQ0FBQ1ksTUFBTSxHQUFHLElBQUlDLE1BQU8sR0FBSUMsSUFBSSxHQUFHQyxHQUFHLENBQUUsSUFBTSxJQUFJaEIsMENBQU9BO1FBQzFELElBQUksQ0FBQ2lCLE9BQU8sR0FBRyxJQUFJSCxNQUFPLEdBQUlDLElBQUksR0FBR0MsR0FBRyxDQUFFLElBQU0sSUFBSWhCLDBDQUFPQTtRQUMzRCxJQUFJLENBQUNrQixTQUFTLEdBQUcsSUFBSUosTUFBTyxHQUFJQyxJQUFJLEdBQUdDLEdBQUcsQ0FBRSxJQUFNLElBQUliLDBFQUFvQkE7UUFDMUUsSUFBSSxDQUFDZ0IsZ0JBQWdCLEdBQUcsSUFBSUwsTUFBTyxHQUFJQyxJQUFJLEdBQUdDLEdBQUcsQ0FBRSxJQUFNLElBQUliLDBFQUFvQkE7UUFDakYsSUFBSSxDQUFDaUIsV0FBVyxHQUFHO1FBRW5CLElBQUtaLEtBQU0sSUFBSSxDQUFDQSxHQUFHLENBQUNhLElBQUksQ0FBRWI7UUFDMUIsSUFBS0MsS0FBTSxJQUFJLENBQUNBLEdBQUcsQ0FBQ1ksSUFBSSxDQUFFWjtRQUMxQixJQUFLQyxRQUFTLElBQUksQ0FBQ0EsTUFBTSxDQUFDVyxJQUFJLENBQUVYO0lBRWpDO0lBRUFZLElB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QkFDNUJpRCxPQUFPaEQsQ0FBQyxHQUFHQSxJQUFJbkIsSUFBSW1CLENBQUMsR0FBR3BCLElBQUlvQixDQUFDO29CQUU1QixJQUFJLENBQUNvQyxtQkFBbUIsQ0FBRVksUUFBUUQ7b0JBQ2xDLE1BQU1TLE9BQU9SLE9BQU9TLGlCQUFpQixDQUFFVjtvQkFDdkMsSUFBS1MsT0FBT0gsbUJBQW9CO3dCQUUvQkEsb0JBQW9CRzt3QkFDcEIsSUFBS2xCLFNBQVVBLFFBQVE3QyxJQUFJLENBQUVzRDt3QkFDN0IsSUFBS0csU0FBVUEsUUFBUXpELElBQUksQ0FBRXVEO3dCQUU3QixJQUFLUSxPQUFPSixZQUFhLE9BQU9NLEtBQUtDLElBQUksQ0FBRUg7b0JBRTVDO2dCQUVEO1lBRUQ7UUFFRDtRQUVBLElBQU0sSUFBSXZELElBQUksR0FBR0EsSUFBSSxJQUFJQSxJQUFPO1lBRS9CLE1BQU15RSxLQUFLN0IsU0FBUyxDQUFFNUMsRUFBRztZQUN6QixJQUFNLElBQUlnQyxLQUFLLEdBQUdBLEtBQUssSUFBSUEsS0FBUTtnQkFFbEMsTUFBTTBDLEtBQUs3QixTQUFTLENBQUViLEdBQUk7Z0JBQzFCeEQsZ0ZBQTZCQSxDQUFFaUcsSUFBSUMsSUFBSTVCLFFBQVFDO2dCQUMvQyxNQUFNUSxPQUFPVCxPQUFPVSxpQkFBaUIsQ0FBRVQ7Z0JBQ3ZDLElBQUtRLE9BQU9ILG1CQUFvQjtvQkFFL0JBLG9CQUFvQkc7b0JBQ3BCLElBQUtsQixTQUFVQSxRQUFRN0MsSUFBSSxDQUFFc0Q7b0JBQzdCLElBQUtHLFNBQVVBLFFBQVF6RCxJQUFJLENBQUV1RDtvQkFFN0IsSUFBS1EsT0FBT0osWUFBYSxPQUFPTSxLQUFLQyxJQUFJLENBQUVIO2dCQUU1QztZQUVEO1FBRUQ7UUFFQSxPQUFPRSxLQUFLQyxJQUFJLENBQUVOO0lBRW5CO0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvT3JpZW50ZWRCb3guanM/MzEyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IzLCBNYXRyaXg0LCBMaW5lMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFNlcGFyYXRpbmdBeGlzQm91bmRzIH0gZnJvbSAnLi9TZXBhcmF0aW5nQXhpc0JvdW5kcy5qcyc7XG5pbXBvcnQgeyBFeHRlbmRlZFRyaWFuZ2xlIH0gZnJvbSAnLi9FeHRlbmRlZFRyaWFuZ2xlLmpzJztcbmltcG9ydCB7IGNsb3Nlc3RQb2ludHNTZWdtZW50VG9TZWdtZW50IH0gZnJvbSAnLi9NYXRoVXRpbGl0aWVzLmpzJztcblxuZXhwb3J0IGNsYXNzIE9yaWVudGVkQm94IHtcblxuXHRjb25zdHJ1Y3RvciggbWluLCBtYXgsIG1hdHJpeCApIHtcblxuXHRcdHRoaXMuaXNPcmllbnRlZEJveCA9IHRydWU7XG5cdFx0dGhpcy5taW4gPSBuZXcgVmVjdG9yMygpO1xuXHRcdHRoaXMubWF4ID0gbmV3IFZlY3RvcjMoKTtcblx0XHR0aGlzLm1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG5cdFx0dGhpcy5pbnZNYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuXHRcdHRoaXMucG9pbnRzID0gbmV3IEFycmF5KCA4ICkuZmlsbCgpLm1hcCggKCkgPT4gbmV3IFZlY3RvcjMoKSApO1xuXHRcdHRoaXMuc2F0QXhlcyA9IG5ldyBBcnJheSggMyApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBWZWN0b3IzKCkgKTtcblx0XHR0aGlzLnNhdEJvdW5kcyA9IG5ldyBBcnJheSggMyApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpICk7XG5cdFx0dGhpcy5hbGlnbmVkU2F0Qm91bmRzID0gbmV3IEFycmF5KCAzICkuZmlsbCgpLm1hcCggKCkgPT4gbmV3IFNlcGFyYXRpbmdBeGlzQm91bmRzKCkgKTtcblx0XHR0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2U7XG5cblx0XHRpZiAoIG1pbiApIHRoaXMubWluLmNvcHkoIG1pbiApO1xuXHRcdGlmICggbWF4ICkgdGhpcy5tYXguY29weSggbWF4ICk7XG5cdFx0aWYgKCBtYXRyaXggKSB0aGlzLm1hdHJpeC5jb3B5KCBtYXRyaXggKTtcblxuXHR9XG5cblx0c2V0KCBtaW4sIG1heCwgbWF0cml4ICkge1xuXG5cdFx0dGhpcy5taW4uY29weSggbWluICk7XG5cdFx0dGhpcy5tYXguY29weSggbWF4ICk7XG5cdFx0dGhpcy5tYXRyaXguY29weSggbWF0cml4ICk7XG5cdFx0dGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0fVxuXG5cdGNvcHkoIG90aGVyICkge1xuXG5cdFx0dGhpcy5taW4uY29weSggb3RoZXIubWluICk7XG5cdFx0dGhpcy5tYXguY29weSggb3RoZXIubWF4ICk7XG5cdFx0dGhpcy5tYXRyaXguY29weSggb3RoZXIubWF0cml4ICk7XG5cdFx0dGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0fVxuXG59XG5cbk9yaWVudGVkQm94LnByb3RvdHlwZS51cGRhdGUgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKCkge1xuXG5cdFx0Y29uc3QgbWF0cml4ID0gdGhpcy5tYXRyaXg7XG5cdFx0Y29uc3QgbWluID0gdGhpcy5taW47XG5cdFx0Y29uc3QgbWF4ID0gdGhpcy5tYXg7XG5cblx0XHRjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcblx0XHRmb3IgKCBsZXQgeCA9IDA7IHggPD0gMTsgeCArKyApIHtcblxuXHRcdFx0Zm9yICggbGV0IHkgPSAwOyB5IDw9IDE7IHkgKysgKSB7XG5cblx0XHRcdFx0Zm9yICggbGV0IHogPSAwOyB6IDw9IDE7IHogKysgKSB7XG5cblx0XHRcdFx0XHRjb25zdCBpID0gKCAoIDEgPDwgMCApICogeCApIHwgKCAoIDEgPDwgMSApICogeSApIHwgKCAoIDEgPDwgMiApICogeiApO1xuXHRcdFx0XHRcdGNvbnN0IHYgPSBwb2ludHNbIGkgXTtcblx0XHRcdFx0XHR2LnggPSB4ID8gbWF4LnggOiBtaW4ueDtcblx0XHRcdFx0XHR2LnkgPSB5ID8gbWF4LnkgOiBtaW4ueTtcblx0XHRcdFx0XHR2LnogPSB6ID8gbWF4LnogOiBtaW4uejtcblxuXHRcdFx0XHRcdHYuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGNvbnN0IHNhdEJvdW5kcyA9IHRoaXMuc2F0Qm91bmRzO1xuXHRcdGNvbnN0IHNhdEF4ZXMgPSB0aGlzLnNhdEF4ZXM7XG5cdFx0Y29uc3QgbWluVmVjID0gcG9pbnRzWyAwIF07XG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgYXhpcyA9IHNhdEF4ZXNbIGkgXTtcblx0XHRcdGNvbnN0IHNiID0gc2F0Qm91bmRzWyBpIF07XG5cdFx0XHRjb25zdCBpbmRleCA9IDEgPDwgaTtcblx0XHRcdGNvbnN0IHBpID0gcG9pbnRzWyBpbmRleCBdO1xuXG5cdFx0XHRheGlzLnN1YlZlY3RvcnMoIG1pblZlYywgcGkgKTtcblx0XHRcdHNiLnNldEZyb21Qb2ludHMoIGF4aXMsIHBvaW50cyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgYWxpZ25lZFNhdEJvdW5kcyA9IHRoaXMuYWxpZ25lZFNhdEJvdW5kcztcblx0XHRhbGlnbmVkU2F0Qm91bmRzWyAwIF0uc2V0RnJvbVBvaW50c0ZpZWxkKCBwb2ludHMsICd4JyApO1xuXHRcdGFsaWduZWRTYXRCb3VuZHNbIDEgXS5zZXRGcm9tUG9pbnRzRmllbGQoIHBvaW50cywgJ3knICk7XG5cdFx0YWxpZ25lZFNhdEJvdW5kc1sgMiBdLnNldEZyb21Qb2ludHNGaWVsZCggcG9pbnRzLCAneicgKTtcblxuXHRcdHRoaXMuaW52TWF0cml4LmNvcHkoIHRoaXMubWF0cml4ICkuaW52ZXJ0KCk7XG5cdFx0dGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xuXG5cdH07XG5cbn0gKSgpO1xuXG5PcmllbnRlZEJveC5wcm90b3R5cGUuaW50ZXJzZWN0c0JveCA9ICggZnVuY3Rpb24gKCkge1xuXG5cdGNvbnN0IGFhYmJCb3VuZHMgPSBuZXcgU2VwYXJhdGluZ0F4aXNCb3VuZHMoKTtcblx0cmV0dXJuIGZ1bmN0aW9uIGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIGRvaW5nIFNBVCBhZ2FpbnN0IHRoZSBBQUJCP1xuXHRcdGlmICggdGhpcy5uZWVkc1VwZGF0ZSApIHtcblxuXHRcdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IG1pbiA9IGJveC5taW47XG5cdFx0Y29uc3QgbWF4ID0gYm94Lm1heDtcblx0XHRjb25zdCBzYXRCb3VuZHMgPSB0aGlzLnNhdEJvdW5kcztcblx0XHRjb25zdCBzYXRBeGVzID0gdGhpcy5zYXRBeGVzO1xuXHRcdGNvbnN0IGFsaWduZWRTYXRCb3VuZHMgPSB0aGlzLmFsaWduZWRTYXRCb3VuZHM7XG5cblx0XHRhYWJiQm91bmRzLm1pbiA9IG1pbi54O1xuXHRcdGFhYmJCb3VuZHMubWF4ID0gbWF4Lng7XG5cdFx0aWYgKCBhbGlnbmVkU2F0Qm91bmRzWyAwIF0uaXNTZXBhcmF0ZWQoIGFhYmJCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcblxuXHRcdGFhYmJCb3VuZHMubWluID0gbWluLnk7XG5cdFx0YWFiYkJvdW5kcy5tYXggPSBtYXgueTtcblx0XHRpZiAoIGFsaWduZWRTYXRCb3VuZHNbIDEgXS5pc1NlcGFyYXRlZCggYWFiYkJvdW5kcyApICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0YWFiYkJvdW5kcy5taW4gPSBtaW4uejtcblx0XHRhYWJiQm91bmRzLm1heCA9IG1heC56O1xuXHRcdGlmICggYWxpZ25lZFNhdEJvdW5kc1sgMiBdLmlzU2VwYXJhdGVkKCBhYWJiQm91bmRzICkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBheGlzID0gc2F0QXhlc1sgaSBdO1xuXHRcdFx0Y29uc3Qgc2IgPSBzYXRCb3VuZHNbIGkgXTtcblx0XHRcdGFhYmJCb3VuZHMuc2V0RnJvbUJveCggYXhpcywgYm94ICk7XG5cdFx0XHRpZiAoIHNiLmlzU2VwYXJhdGVkKCBhYWJiQm91bmRzICkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9O1xuXG59ICkoKTtcblxuT3JpZW50ZWRCb3gucHJvdG90eXBlLmludGVyc2VjdHNUcmlhbmdsZSA9ICggZnVuY3Rpb24gKCkge1xuXG5cdGNvbnN0IHNhVHJpID0gbmV3IEV4dGVuZGVkVHJpYW5nbGUoKTtcblx0Y29uc3QgcG9pbnRzQXJyID0gbmV3IEFycmF5KCAzICk7XG5cdGNvbnN0IGNhY2hlZFNhdEJvdW5kcyA9IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpO1xuXHRjb25zdCBjYWNoZWRTYXRCb3VuZHMyID0gbmV3IFNlcGFyYXRpbmdBeGlzQm91bmRzKCk7XG5cdGNvbnN0IGNhY2hlZEF4aXMgPSBuZXcgVmVjdG9yMygpO1xuXHRyZXR1cm4gZnVuY3Rpb24gaW50ZXJzZWN0c1RyaWFuZ2xlKCB0cmlhbmdsZSApIHtcblxuXHRcdGlmICggdGhpcy5uZWVkc1VwZGF0ZSApIHtcblxuXHRcdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGlmICggISB0cmlhbmdsZS5pc0V4dGVuZGVkVHJpYW5nbGUgKSB7XG5cblx0XHRcdHNhVHJpLmNvcHkoIHRyaWFuZ2xlICk7XG5cdFx0XHRzYVRyaS51cGRhdGUoKTtcblx0XHRcdHRyaWFuZ2xlID0gc2FUcmk7XG5cblx0XHR9IGVsc2UgaWYgKCB0cmlhbmdsZS5uZWVkc1VwZGF0ZSApIHtcblxuXHRcdFx0dHJpYW5nbGUudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBzYXRCb3VuZHMgPSB0aGlzLnNhdEJvdW5kcztcblx0XHRjb25zdCBzYXRBeGVzID0gdGhpcy5zYXRBeGVzO1xuXG5cdFx0cG9pbnRzQXJyWyAwIF0gPSB0cmlhbmdsZS5hO1xuXHRcdHBvaW50c0FyclsgMSBdID0gdHJpYW5nbGUuYjtcblx0XHRwb2ludHNBcnJbIDIgXSA9IHRyaWFuZ2xlLmM7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBzYiA9IHNhdEJvdW5kc1sgaSBdO1xuXHRcdFx0Y29uc3Qgc2EgPSBzYXRBeGVzWyBpIF07XG5cdFx0XHRjYWNoZWRTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggc2EsIHBvaW50c0FyciApO1xuXHRcdFx0aWYgKCBzYi5pc1NlcGFyYXRlZCggY2FjaGVkU2F0Qm91bmRzICkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0cmlTYXRCb3VuZHMgPSB0cmlhbmdsZS5zYXRCb3VuZHM7XG5cdFx0Y29uc3QgdHJpU2F0QXhlcyA9IHRyaWFuZ2xlLnNhdEF4ZXM7XG5cdFx0Y29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcblxuXHRcdFx0Y29uc3Qgc2IgPSB0cmlTYXRCb3VuZHNbIGkgXTtcblx0XHRcdGNvbnN0IHNhID0gdHJpU2F0QXhlc1sgaSBdO1xuXHRcdFx0Y2FjaGVkU2F0Qm91bmRzLnNldEZyb21Qb2ludHMoIHNhLCBwb2ludHMgKTtcblx0XHRcdGlmICggc2IuaXNTZXBhcmF0ZWQoIGNhY2hlZFNhdEJvdW5kcyApICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gY2hlY2sgY3Jvc3NlZCBheGVzXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcblxuXHRcdFx0Y29uc3Qgc2ExID0gc2F0QXhlc1sgaSBdO1xuXHRcdFx0Zm9yICggbGV0IGkyID0gMDsgaTIgPCA0OyBpMiArKyApIHtcblxuXHRcdFx0XHRjb25zdCBzYTIgPSB0cmlTYXRBeGVzWyBpMiBdO1xuXHRcdFx0XHRjYWNoZWRBeGlzLmNyb3NzVmVjdG9ycyggc2ExLCBzYTIgKTtcblx0XHRcdFx0Y2FjaGVkU2F0Qm91bmRzLnNldEZyb21Qb2ludHMoIGNhY2hlZEF4aXMsIHBvaW50c0FyciApO1xuXHRcdFx0XHRjYWNoZWRTYXRCb3VuZHMyLnNldEZyb21Qb2ludHMoIGNhY2hlZEF4aXMsIHBvaW50cyApO1xuXHRcdFx0XHRpZiAoIGNhY2hlZFNhdEJvdW5kcy5pc1NlcGFyYXRlZCggY2FjaGVkU2F0Qm91bmRzMiApICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9O1xuXG59ICkoKTtcblxuT3JpZW50ZWRCb3gucHJvdG90eXBlLmNsb3Nlc3RQb2ludFRvUG9pbnQgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHRyZXR1cm4gZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldDEgKSB7XG5cblx0XHRpZiAoIHRoaXMubmVlZHNVcGRhdGUgKSB7XG5cblx0XHRcdHRoaXMudXBkYXRlKCk7XG5cblx0XHR9XG5cblx0XHR0YXJnZXQxXG5cdFx0XHQuY29weSggcG9pbnQgKVxuXHRcdFx0LmFwcGx5TWF0cml4NCggdGhpcy5pbnZNYXRyaXggKVxuXHRcdFx0LmNsYW1wKCB0aGlzLm1pbiwgdGhpcy5tYXggKVxuXHRcdFx0LmFwcGx5TWF0cml4NCggdGhpcy5tYXRyaXggKTtcblxuXHRcdHJldHVybiB0YXJnZXQxO1xuXG5cdH07XG5cbn0gKSgpO1xuXG5PcmllbnRlZEJveC5wcm90b3R5cGUuZGlzdGFuY2VUb1BvaW50ID0gKCBmdW5jdGlvbiAoKSB7XG5cblx0Y29uc3QgdGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblx0cmV0dXJuIGZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHR0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHBvaW50LCB0YXJnZXQgKTtcblx0XHRyZXR1cm4gcG9pbnQuZGlzdGFuY2VUbyggdGFyZ2V0ICk7XG5cblx0fTtcblxufSApKCk7XG5cbk9yaWVudGVkQm94LnByb3RvdHlwZS5kaXN0YW5jZVRvQm94ID0gKCBmdW5jdGlvbiAoKSB7XG5cblx0Y29uc3QgeHl6RmllbGRzID0gWyAneCcsICd5JywgJ3onIF07XG5cdGNvbnN0IHNlZ21lbnRzMSA9IG5ldyBBcnJheSggMTIgKS5maWxsKCkubWFwKCAoKSA9PiBuZXcgTGluZTMoKSApO1xuXHRjb25zdCBzZWdtZW50czIgPSBuZXcgQXJyYXkoIDEyICkuZmlsbCgpLm1hcCggKCkgPT4gbmV3IExpbmUzKCkgKTtcblxuXHRjb25zdCBwb2ludDEgPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCBwb2ludDIgPSBuZXcgVmVjdG9yMygpO1xuXG5cdC8vIGVhcmx5IG91dCBpZiB3ZSBmaW5kIGEgdmFsdWUgYmVsb3cgdGhyZXNob2xkXG5cdHJldHVybiBmdW5jdGlvbiBkaXN0YW5jZVRvQm94KCBib3gsIHRocmVzaG9sZCA9IDAsIHRhcmdldDEgPSBudWxsLCB0YXJnZXQyID0gbnVsbCApIHtcblxuXHRcdGlmICggdGhpcy5uZWVkc1VwZGF0ZSApIHtcblxuXHRcdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdH1cblxuXHRcdGlmICggdGhpcy5pbnRlcnNlY3RzQm94KCBib3ggKSApIHtcblxuXHRcdFx0aWYgKCB0YXJnZXQxIHx8IHRhcmdldDIgKSB7XG5cblx0XHRcdFx0Ym94LmdldENlbnRlciggcG9pbnQyICk7XG5cdFx0XHRcdHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQyLCBwb2ludDEgKTtcblx0XHRcdFx0Ym94LmNsb3Nlc3RQb2ludFRvUG9pbnQoIHBvaW50MSwgcG9pbnQyICk7XG5cblx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcblx0XHRcdFx0aWYgKCB0YXJnZXQyICkgdGFyZ2V0Mi5jb3B5KCBwb2ludDIgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gMDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHRocmVzaG9sZDIgPSB0aHJlc2hvbGQgKiB0aHJlc2hvbGQ7XG5cdFx0Y29uc3QgbWluID0gYm94Lm1pbjtcblx0XHRjb25zdCBtYXggPSBib3gubWF4O1xuXHRcdGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG5cblx0XHQvLyBpdGVyYXRlIG92ZXIgZXZlcnkgZWRnZSBhbmQgY29tcGFyZSBkaXN0YW5jZXNcblx0XHRsZXQgY2xvc2VzdERpc3RhbmNlU3EgPSBJbmZpbml0eTtcblxuXHRcdC8vIGNoZWNrIG92ZXIgYWxsIHRoZXNlIHBvaW50c1xuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDg7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHAgPSBwb2ludHNbIGkgXTtcblx0XHRcdHBvaW50Mi5jb3B5KCBwICkuY2xhbXAoIG1pbiwgbWF4ICk7XG5cblx0XHRcdGNvbnN0IGRpc3QgPSBwLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDIgKTtcblx0XHRcdGlmICggZGlzdCA8IGNsb3Nlc3REaXN0YW5jZVNxICkge1xuXG5cdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdDtcblx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwICk7XG5cdFx0XHRcdGlmICggdGFyZ2V0MiApIHRhcmdldDIuY29weSggcG9pbnQyICk7XG5cblx0XHRcdFx0aWYgKCBkaXN0IDwgdGhyZXNob2xkMiApIHJldHVybiBNYXRoLnNxcnQoIGRpc3QgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Ly8gZ2VuZXJhdGUgYW5kIGNoZWNrIGFsbCBsaW5lIHNlZ21lbnQgZGlzdGFuY2VzXG5cdFx0bGV0IGNvdW50ID0gMDtcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRmb3IgKCBsZXQgaTEgPSAwOyBpMSA8PSAxOyBpMSArKyApIHtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaTIgPSAwOyBpMiA8PSAxOyBpMiArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IG5leHRJbmRleCA9ICggaSArIDEgKSAlIDM7XG5cdFx0XHRcdFx0Y29uc3QgbmV4dEluZGV4MiA9ICggaSArIDIgKSAlIDM7XG5cblx0XHRcdFx0XHQvLyBnZXQgb2JiIGxpbmUgc2VnbWVudHNcblx0XHRcdFx0XHRjb25zdCBpbmRleCA9IGkxIDw8IG5leHRJbmRleCB8IGkyIDw8IG5leHRJbmRleDI7XG5cdFx0XHRcdFx0Y29uc3QgaW5kZXgyID0gMSA8PCBpIHwgaTEgPDwgbmV4dEluZGV4IHwgaTIgPDwgbmV4dEluZGV4Mjtcblx0XHRcdFx0XHRjb25zdCBwMSA9IHBvaW50c1sgaW5kZXggXTtcblx0XHRcdFx0XHRjb25zdCBwMiA9IHBvaW50c1sgaW5kZXgyIF07XG5cdFx0XHRcdFx0Y29uc3QgbGluZTEgPSBzZWdtZW50czFbIGNvdW50IF07XG5cdFx0XHRcdFx0bGluZTEuc2V0KCBwMSwgcDIgKTtcblxuXG5cdFx0XHRcdFx0Ly8gZ2V0IGFhYmIgbGluZSBzZWdtZW50c1xuXHRcdFx0XHRcdGNvbnN0IGYxID0geHl6RmllbGRzWyBpIF07XG5cdFx0XHRcdFx0Y29uc3QgZjIgPSB4eXpGaWVsZHNbIG5leHRJbmRleCBdO1xuXHRcdFx0XHRcdGNvbnN0IGYzID0geHl6RmllbGRzWyBuZXh0SW5kZXgyIF07XG5cdFx0XHRcdFx0Y29uc3QgbGluZTIgPSBzZWdtZW50czJbIGNvdW50IF07XG5cdFx0XHRcdFx0Y29uc3Qgc3RhcnQgPSBsaW5lMi5zdGFydDtcblx0XHRcdFx0XHRjb25zdCBlbmQgPSBsaW5lMi5lbmQ7XG5cblx0XHRcdFx0XHRzdGFydFsgZjEgXSA9IG1pblsgZjEgXTtcblx0XHRcdFx0XHRzdGFydFsgZjIgXSA9IGkxID8gbWluWyBmMiBdIDogbWF4WyBmMiBdO1xuXHRcdFx0XHRcdHN0YXJ0WyBmMyBdID0gaTIgPyBtaW5bIGYzIF0gOiBtYXhbIGYyIF07XG5cblx0XHRcdFx0XHRlbmRbIGYxIF0gPSBtYXhbIGYxIF07XG5cdFx0XHRcdFx0ZW5kWyBmMiBdID0gaTEgPyBtaW5bIGYyIF0gOiBtYXhbIGYyIF07XG5cdFx0XHRcdFx0ZW5kWyBmMyBdID0gaTIgPyBtaW5bIGYzIF0gOiBtYXhbIGYyIF07XG5cblx0XHRcdFx0XHRjb3VudCArKztcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIGNoZWNrIGFsbCB0aGUgb3RoZXIgYm94ZXMgcG9pbnRcblx0XHRmb3IgKCBsZXQgeCA9IDA7IHggPD0gMTsgeCArKyApIHtcblxuXHRcdFx0Zm9yICggbGV0IHkgPSAwOyB5IDw9IDE7IHkgKysgKSB7XG5cblx0XHRcdFx0Zm9yICggbGV0IHogPSAwOyB6IDw9IDE7IHogKysgKSB7XG5cblx0XHRcdFx0XHRwb2ludDIueCA9IHggPyBtYXgueCA6IG1pbi54O1xuXHRcdFx0XHRcdHBvaW50Mi55ID0geSA/IG1heC55IDogbWluLnk7XG5cdFx0XHRcdFx0cG9pbnQyLnogPSB6ID8gbWF4LnogOiBtaW4uejtcblxuXHRcdFx0XHRcdHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQyLCBwb2ludDEgKTtcblx0XHRcdFx0XHRjb25zdCBkaXN0ID0gcG9pbnQyLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDEgKTtcblx0XHRcdFx0XHRpZiAoIGRpc3QgPCBjbG9zZXN0RGlzdGFuY2VTcSApIHtcblxuXHRcdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlU3EgPSBkaXN0O1xuXHRcdFx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcblx0XHRcdFx0XHRcdGlmICggdGFyZ2V0MiApIHRhcmdldDIuY29weSggcG9pbnQyICk7XG5cblx0XHRcdFx0XHRcdGlmICggZGlzdCA8IHRocmVzaG9sZDIgKSByZXR1cm4gTWF0aC5zcXJ0KCBkaXN0ICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAxMjsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgbDEgPSBzZWdtZW50czFbIGkgXTtcblx0XHRcdGZvciAoIGxldCBpMiA9IDA7IGkyIDwgMTI7IGkyICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IGwyID0gc2VnbWVudHMyWyBpMiBdO1xuXHRcdFx0XHRjbG9zZXN0UG9pbnRzU2VnbWVudFRvU2VnbWVudCggbDEsIGwyLCBwb2ludDEsIHBvaW50MiApO1xuXHRcdFx0XHRjb25zdCBkaXN0ID0gcG9pbnQxLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDIgKTtcblx0XHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XG5cblx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VTcSA9IGRpc3Q7XG5cdFx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcblx0XHRcdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIHBvaW50MiApO1xuXG5cdFx0XHRcdFx0aWYgKCBkaXN0IDwgdGhyZXNob2xkMiApIHJldHVybiBNYXRoLnNxcnQoIGRpc3QgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIGNsb3Nlc3REaXN0YW5jZVNxICk7XG5cblx0fTtcblxufSApKCk7XG4iXSwibmFtZXMiOlsiVmVjdG9yMyIsIk1hdHJpeDQiLCJMaW5lMyIsIlNlcGFyYXRpbmdBeGlzQm91bmRzIiwiRXh0ZW5kZWRUcmlhbmdsZSIsImNsb3Nlc3RQb2ludHNTZWdtZW50VG9TZWdtZW50IiwiT3JpZW50ZWRCb3giLCJjb25zdHJ1Y3RvciIsIm1pbiIsIm1heCIsIm1hdHJpeCIsImlzT3JpZW50ZWRCb3giLCJpbnZNYXRyaXgiLCJwb2ludHMiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJzYXRBeGVzIiwic2F0Qm91bmRzIiwiYWxpZ25lZFNhdEJvdW5kcyIsIm5lZWRzVXBkYXRlIiwiY29weSIsInNldCIsIm90aGVyIiwicHJvdG90eXBlIiwidXBkYXRlIiwieCIsInkiLCJ6IiwiaSIsInYiLCJhcHBseU1hdHJpeDQiLCJtaW5WZWMiLCJheGlzIiwic2IiLCJpbmRleCIsInBpIiwic3ViVmVjdG9ycyIsInNldEZyb21Qb2ludHMiLCJzZXRGcm9tUG9pbnRzRmllbGQiLCJpbnZlcnQiLCJpbnRlcnNlY3RzQm94IiwiYWFiYkJvdW5kcyIsImJveCIsImlzU2VwYXJhdGVkIiwic2V0RnJvbUJveCIsImludGVyc2VjdHNUcmlhbmdsZSIsInNhVHJpIiwicG9pbnRzQXJyIiwiY2FjaGVkU2F0Qm91bmRzIiwiY2FjaGVkU2F0Qm91bmRzMiIsImNhY2hlZEF4aXMiLCJ0cmlhbmdsZSIsImlzRXh0ZW5kZWRUcmlhbmdsZSIsImEiLCJiIiwiYyIsInNhIiwidHJpU2F0Qm91bmRzIiwidHJpU2F0QXhlcyIsInNhMSIsImkyIiwic2EyIiwiY3Jvc3NWZWN0b3JzIiwiY2xvc2VzdFBvaW50VG9Qb2ludCIsInBvaW50IiwidGFyZ2V0MSIsImNsYW1wIiwiZGlzdGFuY2VUb1BvaW50IiwidGFyZ2V0IiwiZGlzdGFuY2VUbyIsImRpc3RhbmNlVG9Cb3giLCJ4eXpGaWVsZHMiLCJzZWdtZW50czEiLCJzZWdtZW50czIiLCJwb2ludDEiLCJwb2ludDIiLCJ0aHJlc2hvbGQiLCJ0YXJnZXQyIiwiZ2V0Q2VudGVyIiwidGhyZXNob2xkMiIsImNsb3Nlc3REaXN0YW5jZVNxIiwiSW5maW5pdHkiLCJwIiwiZGlzdCIsImRpc3RhbmNlVG9TcXVhcmVkIiwiTWF0aCIsInNxcnQiLCJjb3VudCIsImkxIiwibmV4dEluZGV4IiwibmV4dEluZGV4MiIsImluZGV4MiIsInAxIiwicDIiLCJsaW5lMSIsImYxIiwiZjIiLCJmMyIsImxpbmUyIiwic3RhcnQiLCJlbmQiLCJsMSIsImwyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/math/OrientedBox.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/math/SeparatingAxisBounds.js":
/*!**********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/math/SeparatingAxisBounds.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SeparatingAxisBounds: () => (/* binding */ SeparatingAxisBounds),\n/* harmony export */   areIntersecting: () => (/* binding */ areIntersecting)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nclass SeparatingAxisBounds {\n    constructor(){\n        this.min = Infinity;\n        this.max = -Infinity;\n    }\n    setFromPointsField(points, field) {\n        let min = Infinity;\n        let max = -Infinity;\n        for(let i = 0, l = points.length; i < l; i++){\n            const p = points[i];\n            const val = p[field];\n            min = val < min ? val : min;\n            max = val > max ? val : max;\n        }\n        this.min = min;\n        this.max = max;\n    }\n    setFromPoints(axis, points) {\n        let min = Infinity;\n        let max = -Infinity;\n        for(let i = 0, l = points.length; i < l; i++){\n            const p = points[i];\n            const val = axis.dot(p);\n            min = val < min ? val : min;\n            max = val > max ? val : max;\n        }\n        this.min = min;\n        this.max = max;\n    }\n    isSeparated(other) {\n        return this.min > other.max || other.min > this.max;\n    }\n}\nSeparatingAxisBounds.prototype.setFromBox = function() {\n    const p = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    return function setFromBox(axis, box) {\n        const boxMin = box.min;\n        const boxMax = box.max;\n        let min = Infinity;\n        let max = -Infinity;\n        for(let x = 0; x <= 1; x++){\n            for(let y = 0; y <= 1; y++){\n                for(let z = 0; z <= 1; z++){\n                    p.x = boxMin.x * x + boxMax.x * (1 - x);\n                    p.y = boxMin.y * y + boxMax.y * (1 - y);\n                    p.z = boxMin.z * z + boxMax.z * (1 - z);\n                    const val = axis.dot(p);\n                    min = Math.min(val, min);\n                    max = Math.max(val, max);\n                }\n            }\n        }\n        this.min = min;\n        this.max = max;\n    };\n}();\nconst areIntersecting = function() {\n    const cacheSatBounds = new SeparatingAxisBounds();\n    return function areIntersecting(shape1, shape2) {\n        const points1 = shape1.points;\n        const satAxes1 = shape1.satAxes;\n        const satBounds1 = shape1.satBounds;\n        const points2 = shape2.points;\n        const satAxes2 = shape2.satAxes;\n        const satBounds2 = shape2.satBounds;\n        // check axes of the first shape\n        for(let i = 0; i < 3; i++){\n            const sb = satBounds1[i];\n            const sa = satAxes1[i];\n            cacheSatBounds.setFromPoints(sa, points2);\n            if (sb.isSeparated(cacheSatBounds)) return false;\n        }\n        // check axes of the second shape\n        for(let i = 0; i < 3; i++){\n            const sb = satBounds2[i];\n            const sa = satAxes2[i];\n            cacheSatBounds.setFromPoints(sa, points1);\n            if (sb.isSeparated(cacheSatBounds)) return false;\n        }\n    };\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvU2VwYXJhdGluZ0F4aXNCb3VuZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRXpCLE1BQU1DO0lBRVpDLGFBQWM7UUFFYixJQUFJLENBQUNDLEdBQUcsR0FBR0M7UUFDWCxJQUFJLENBQUNDLEdBQUcsR0FBRyxDQUFFRDtJQUVkO0lBRUFFLG1CQUFvQkMsTUFBTSxFQUFFQyxLQUFLLEVBQUc7UUFFbkMsSUFBSUwsTUFBTUM7UUFDVixJQUFJQyxNQUFNLENBQUVEO1FBQ1osSUFBTSxJQUFJSyxJQUFJLEdBQUdDLElBQUlILE9BQU9JLE1BQU0sRUFBRUYsSUFBSUMsR0FBR0QsSUFBTztZQUVqRCxNQUFNRyxJQUFJTCxNQUFNLENBQUVFLEVBQUc7WUFDckIsTUFBTUksTUFBTUQsQ0FBQyxDQUFFSixNQUFPO1lBQ3RCTCxNQUFNVSxNQUFNVixNQUFNVSxNQUFNVjtZQUN4QkUsTUFBTVEsTUFBTVIsTUFBTVEsTUFBTVI7UUFFekI7UUFFQSxJQUFJLENBQUNGLEdBQUcsR0FBR0E7UUFDWCxJQUFJLENBQUNFLEdBQUcsR0FBR0E7SUFFWjtJQUVBUyxjQUFlQyxJQUFJLEVBQUVSLE1BQU0sRUFBRztRQUU3QixJQUFJSixNQUFNQztRQUNWLElBQUlDLE1BQU0sQ0FBRUQ7UUFDWixJQUFNLElBQUlLLElBQUksR0FBR0MsSUFBSUgsT0FBT0ksTUFBTSxFQUFFRixJQUFJQyxHQUFHRCxJQUFPO1lBRWpELE1BQU1HLElBQUlMLE1BQU0sQ0FBRUUsRUFBRztZQUNyQixNQUFNSSxNQUFNRSxLQUFLQyxHQUFHLENBQUVKO1lBQ3RCVCxNQUFNVSxNQUFNVixNQUFNVSxNQUFNVjtZQUN4QkUsTUFBTVEsTUFBTVIsTUFBTVEsTUFBTVI7UUFFekI7UUFFQSxJQUFJLENBQUNGLEdBQUcsR0FBR0E7UUFDWCxJQUFJLENBQUNFLEdBQUcsR0FBR0E7SUFFWjtJQUVBWSxZQUFhQyxLQUFLLEVBQUc7UUFFcEIsT0FBTyxJQUFJLENBQUNmLEdBQUcsR0FBR2UsTUFBTWIsR0FBRyxJQUFJYSxNQUFNZixHQUFHLEdBQUcsSUFBSSxDQUFDRSxHQUFHO0lBRXBEO0FBRUQ7QUFFQUoscUJBQXFCa0IsU0FBUyxDQUFDQyxVQUFVLEdBQUc7SUFFM0MsTUFBTVIsSUFBSSxJQUFJWiwwQ0FBT0E7SUFDckIsT0FBTyxTQUFTb0IsV0FBWUwsSUFBSSxFQUFFTSxHQUFHO1FBRXBDLE1BQU1DLFNBQVNELElBQUlsQixHQUFHO1FBQ3RCLE1BQU1vQixTQUFTRixJQUFJaEIsR0FBRztRQUN0QixJQUFJRixNQUFNQztRQUNWLElBQUlDLE1BQU0sQ0FBRUQ7UUFDWixJQUFNLElBQUlvQixJQUFJLEdBQUdBLEtBQUssR0FBR0EsSUFBTztZQUUvQixJQUFNLElBQUlDLElBQUksR0FBR0EsS0FBSyxHQUFHQSxJQUFPO2dCQUUvQixJQUFNLElBQUlDLElBQUksR0FBR0EsS0FBSyxHQUFHQSxJQUFPO29CQUUvQmQsRUFBRVksQ0FBQyxHQUFHRixPQUFPRSxDQUFDLEdBQUdBLElBQUlELE9BQU9DLENBQUMsR0FBSyxLQUFJQSxDQUFBQTtvQkFDdENaLEVBQUVhLENBQUMsR0FBR0gsT0FBT0csQ0FBQyxHQUFHQSxJQUFJRixPQUFPRSxDQUFDLEdBQUssS0FBSUEsQ0FBQUE7b0JBQ3RDYixFQUFFYyxDQUFDLEdBQUdKLE9BQU9JLENBQUMsR0FBR0EsSUFBSUgsT0FBT0csQ0FBQyxHQUFLLEtBQUlBLENBQUFBO29CQUV0QyxNQUFNYixNQUFNRSxLQUFLQyxHQUFHLENBQUVKO29CQUN0QlQsTUFBTXdCLEtBQUt4QixHQUFHLENBQUVVLEtBQUtWO29CQUNyQkUsTUFBTXNCLEtBQUt0QixHQUFHLENBQUVRLEtBQUtSO2dCQUV0QjtZQUVEO1FBRUQ7UUFFQSxJQUFJLENBQUNGLEdBQUcsR0FBR0E7UUFDWCxJQUFJLENBQUNFLEdBQUcsR0FBR0E7SUFFWjtBQUVEO0FBRU8sTUFBTXVCLGtCQUFrQjtJQUU5QixNQUFNQyxpQkFBaUIsSUFBSTVCO0lBQzNCLE9BQU8sU0FBUzJCLGdCQUFpQkUsTUFBTSxFQUFFQyxNQUFNO1FBRTlDLE1BQU1DLFVBQVVGLE9BQU92QixNQUFNO1FBQzdCLE1BQU0wQixXQUFXSCxPQUFPSSxPQUFPO1FBQy9CLE1BQU1DLGFBQWFMLE9BQU9NLFNBQVM7UUFFbkMsTUFBTUMsVUFBVU4sT0FBT3hCLE1BQU07UUFDN0IsTUFBTStCLFdBQVdQLE9BQU9HLE9BQU87UUFDL0IsTUFBTUssYUFBYVIsT0FBT0ssU0FBUztRQUVuQyxnQ0FBZ0M7UUFDaEMsSUFBTSxJQUFJM0IsSUFBSSxHQUFHQSxJQUFJLEdBQUdBLElBQU87WUFFOUIsTUFBTStCLEtBQUtMLFVBQVUsQ0FBRTFCLEVBQUc7WUFDMUIsTUFBTWdDLEtBQUtSLFFBQVEsQ0FBRXhCLEVBQUc7WUFDeEJvQixlQUFlZixhQUFhLENBQUUyQixJQUFJSjtZQUNsQyxJQUFLRyxHQUFHdkIsV0FBVyxDQUFFWSxpQkFBbUIsT0FBTztRQUVoRDtRQUVBLGlDQUFpQztRQUNqQyxJQUFNLElBQUlwQixJQUFJLEdBQUdBLElBQUksR0FBR0EsSUFBTztZQUU5QixNQUFNK0IsS0FBS0QsVUFBVSxDQUFFOUIsRUFBRztZQUMxQixNQUFNZ0MsS0FBS0gsUUFBUSxDQUFFN0IsRUFBRztZQUN4Qm9CLGVBQWVmLGFBQWEsQ0FBRTJCLElBQUlUO1lBQ2xDLElBQUtRLEdBQUd2QixXQUFXLENBQUVZLGlCQUFtQixPQUFPO1FBRWhEO0lBRUQ7QUFFRCxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9tYXRoL1NlcGFyYXRpbmdBeGlzQm91bmRzLmpzPzQzODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcblxuZXhwb3J0IGNsYXNzIFNlcGFyYXRpbmdBeGlzQm91bmRzIHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHRoaXMubWluID0gSW5maW5pdHk7XG5cdFx0dGhpcy5tYXggPSAtIEluZmluaXR5O1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzRmllbGQoIHBvaW50cywgZmllbGQgKSB7XG5cblx0XHRsZXQgbWluID0gSW5maW5pdHk7XG5cdFx0bGV0IG1heCA9IC0gSW5maW5pdHk7XG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHAgPSBwb2ludHNbIGkgXTtcblx0XHRcdGNvbnN0IHZhbCA9IHBbIGZpZWxkIF07XG5cdFx0XHRtaW4gPSB2YWwgPCBtaW4gPyB2YWwgOiBtaW47XG5cdFx0XHRtYXggPSB2YWwgPiBtYXggPyB2YWwgOiBtYXg7XG5cblx0XHR9XG5cblx0XHR0aGlzLm1pbiA9IG1pbjtcblx0XHR0aGlzLm1heCA9IG1heDtcblxuXHR9XG5cblx0c2V0RnJvbVBvaW50cyggYXhpcywgcG9pbnRzICkge1xuXG5cdFx0bGV0IG1pbiA9IEluZmluaXR5O1xuXHRcdGxldCBtYXggPSAtIEluZmluaXR5O1xuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBwID0gcG9pbnRzWyBpIF07XG5cdFx0XHRjb25zdCB2YWwgPSBheGlzLmRvdCggcCApO1xuXHRcdFx0bWluID0gdmFsIDwgbWluID8gdmFsIDogbWluO1xuXHRcdFx0bWF4ID0gdmFsID4gbWF4ID8gdmFsIDogbWF4O1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fVxuXG5cdGlzU2VwYXJhdGVkKCBvdGhlciApIHtcblxuXHRcdHJldHVybiB0aGlzLm1pbiA+IG90aGVyLm1heCB8fCBvdGhlci5taW4gPiB0aGlzLm1heDtcblxuXHR9XG5cbn1cblxuU2VwYXJhdGluZ0F4aXNCb3VuZHMucHJvdG90eXBlLnNldEZyb21Cb3ggPSAoIGZ1bmN0aW9uICgpIHtcblxuXHRjb25zdCBwID0gbmV3IFZlY3RvcjMoKTtcblx0cmV0dXJuIGZ1bmN0aW9uIHNldEZyb21Cb3goIGF4aXMsIGJveCApIHtcblxuXHRcdGNvbnN0IGJveE1pbiA9IGJveC5taW47XG5cdFx0Y29uc3QgYm94TWF4ID0gYm94Lm1heDtcblx0XHRsZXQgbWluID0gSW5maW5pdHk7XG5cdFx0bGV0IG1heCA9IC0gSW5maW5pdHk7XG5cdFx0Zm9yICggbGV0IHggPSAwOyB4IDw9IDE7IHggKysgKSB7XG5cblx0XHRcdGZvciAoIGxldCB5ID0gMDsgeSA8PSAxOyB5ICsrICkge1xuXG5cdFx0XHRcdGZvciAoIGxldCB6ID0gMDsgeiA8PSAxOyB6ICsrICkge1xuXG5cdFx0XHRcdFx0cC54ID0gYm94TWluLnggKiB4ICsgYm94TWF4LnggKiAoIDEgLSB4ICk7XG5cdFx0XHRcdFx0cC55ID0gYm94TWluLnkgKiB5ICsgYm94TWF4LnkgKiAoIDEgLSB5ICk7XG5cdFx0XHRcdFx0cC56ID0gYm94TWluLnogKiB6ICsgYm94TWF4LnogKiAoIDEgLSB6ICk7XG5cblx0XHRcdFx0XHRjb25zdCB2YWwgPSBheGlzLmRvdCggcCApO1xuXHRcdFx0XHRcdG1pbiA9IE1hdGgubWluKCB2YWwsIG1pbiApO1xuXHRcdFx0XHRcdG1heCA9IE1hdGgubWF4KCB2YWwsIG1heCApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fTtcblxufSApKCk7XG5cbmV4cG9ydCBjb25zdCBhcmVJbnRlcnNlY3RpbmcgPSAoIGZ1bmN0aW9uICgpIHtcblxuXHRjb25zdCBjYWNoZVNhdEJvdW5kcyA9IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpO1xuXHRyZXR1cm4gZnVuY3Rpb24gYXJlSW50ZXJzZWN0aW5nKCBzaGFwZTEsIHNoYXBlMiApIHtcblxuXHRcdGNvbnN0IHBvaW50czEgPSBzaGFwZTEucG9pbnRzO1xuXHRcdGNvbnN0IHNhdEF4ZXMxID0gc2hhcGUxLnNhdEF4ZXM7XG5cdFx0Y29uc3Qgc2F0Qm91bmRzMSA9IHNoYXBlMS5zYXRCb3VuZHM7XG5cblx0XHRjb25zdCBwb2ludHMyID0gc2hhcGUyLnBvaW50cztcblx0XHRjb25zdCBzYXRBeGVzMiA9IHNoYXBlMi5zYXRBeGVzO1xuXHRcdGNvbnN0IHNhdEJvdW5kczIgPSBzaGFwZTIuc2F0Qm91bmRzO1xuXG5cdFx0Ly8gY2hlY2sgYXhlcyBvZiB0aGUgZmlyc3Qgc2hhcGVcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBzYiA9IHNhdEJvdW5kczFbIGkgXTtcblx0XHRcdGNvbnN0IHNhID0gc2F0QXhlczFbIGkgXTtcblx0XHRcdGNhY2hlU2F0Qm91bmRzLnNldEZyb21Qb2ludHMoIHNhLCBwb2ludHMyICk7XG5cdFx0XHRpZiAoIHNiLmlzU2VwYXJhdGVkKCBjYWNoZVNhdEJvdW5kcyApICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gY2hlY2sgYXhlcyBvZiB0aGUgc2Vjb25kIHNoYXBlXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcblxuXHRcdFx0Y29uc3Qgc2IgPSBzYXRCb3VuZHMyWyBpIF07XG5cdFx0XHRjb25zdCBzYSA9IHNhdEF4ZXMyWyBpIF07XG5cdFx0XHRjYWNoZVNhdEJvdW5kcy5zZXRGcm9tUG9pbnRzKCBzYSwgcG9pbnRzMSApO1xuXHRcdFx0aWYgKCBzYi5pc1NlcGFyYXRlZCggY2FjaGVTYXRCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHR9O1xuXG59ICkoKTtcbiJdLCJuYW1lcyI6WyJWZWN0b3IzIiwiU2VwYXJhdGluZ0F4aXNCb3VuZHMiLCJjb25zdHJ1Y3RvciIsIm1pbiIsIkluZmluaXR5IiwibWF4Iiwic2V0RnJvbVBvaW50c0ZpZWxkIiwicG9pbnRzIiwiZmllbGQiLCJpIiwibCIsImxlbmd0aCIsInAiLCJ2YWwiLCJzZXRGcm9tUG9pbnRzIiwiYXhpcyIsImRvdCIsImlzU2VwYXJhdGVkIiwib3RoZXIiLCJwcm90b3R5cGUiLCJzZXRGcm9tQm94IiwiYm94IiwiYm94TWluIiwiYm94TWF4IiwieCIsInkiLCJ6IiwiTWF0aCIsImFyZUludGVyc2VjdGluZyIsImNhY2hlU2F0Qm91bmRzIiwic2hhcGUxIiwic2hhcGUyIiwicG9pbnRzMSIsInNhdEF4ZXMxIiwic2F0QXhlcyIsInNhdEJvdW5kczEiLCJzYXRCb3VuZHMiLCJwb2ludHMyIiwic2F0QXhlczIiLCJzYXRCb3VuZHMyIiwic2IiLCJzYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/math/SeparatingAxisBounds.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js":
/*!********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arrayToBox: () => (/* binding */ arrayToBox),\n/* harmony export */   computeSurfaceArea: () => (/* binding */ computeSurfaceArea),\n/* harmony export */   copyBounds: () => (/* binding */ copyBounds),\n/* harmony export */   expandByTriangleBounds: () => (/* binding */ expandByTriangleBounds),\n/* harmony export */   getLongestEdgeIndex: () => (/* binding */ getLongestEdgeIndex),\n/* harmony export */   makeEmptyBounds: () => (/* binding */ makeEmptyBounds),\n/* harmony export */   unionBounds: () => (/* binding */ unionBounds)\n/* harmony export */ });\nfunction arrayToBox(nodeIndex32, array, target) {\n    target.min.x = array[nodeIndex32];\n    target.min.y = array[nodeIndex32 + 1];\n    target.min.z = array[nodeIndex32 + 2];\n    target.max.x = array[nodeIndex32 + 3];\n    target.max.y = array[nodeIndex32 + 4];\n    target.max.z = array[nodeIndex32 + 5];\n    return target;\n}\nfunction makeEmptyBounds(target) {\n    target[0] = target[1] = target[2] = Infinity;\n    target[3] = target[4] = target[5] = -Infinity;\n}\nfunction getLongestEdgeIndex(bounds) {\n    let splitDimIdx = -1;\n    let splitDist = -Infinity;\n    for(let i = 0; i < 3; i++){\n        const dist = bounds[i + 3] - bounds[i];\n        if (dist > splitDist) {\n            splitDist = dist;\n            splitDimIdx = i;\n        }\n    }\n    return splitDimIdx;\n}\n// copies bounds a into bounds b\nfunction copyBounds(source, target) {\n    target.set(source);\n}\n// sets bounds target to the union of bounds a and b\nfunction unionBounds(a, b, target) {\n    let aVal, bVal;\n    for(let d = 0; d < 3; d++){\n        const d3 = d + 3;\n        // set the minimum values\n        aVal = a[d];\n        bVal = b[d];\n        target[d] = aVal < bVal ? aVal : bVal;\n        // set the max values\n        aVal = a[d3];\n        bVal = b[d3];\n        target[d3] = aVal > bVal ? aVal : bVal;\n    }\n}\n// expands the given bounds by the provided triangle bounds\nfunction expandByTriangleBounds(startIndex, triangleBounds, bounds) {\n    for(let d = 0; d < 3; d++){\n        const tCenter = triangleBounds[startIndex + 2 * d];\n        const tHalf = triangleBounds[startIndex + 2 * d + 1];\n        const tMin = tCenter - tHalf;\n        const tMax = tCenter + tHalf;\n        if (tMin < bounds[d]) {\n            bounds[d] = tMin;\n        }\n        if (tMax > bounds[d + 3]) {\n            bounds[d + 3] = tMax;\n        }\n    }\n}\n// compute bounds surface area\nfunction computeSurfaceArea(bounds) {\n    const d0 = bounds[3] - bounds[0];\n    const d1 = bounds[4] - bounds[1];\n    const d2 = bounds[5] - bounds[2];\n    return 2 * (d0 * d1 + d1 * d2 + d2 * d0);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0FycmF5Qm94VXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBTyxTQUFTQSxXQUFZQyxXQUFXLEVBQUVDLEtBQUssRUFBRUMsTUFBTTtJQUVyREEsT0FBT0MsR0FBRyxDQUFDQyxDQUFDLEdBQUdILEtBQUssQ0FBRUQsWUFBYTtJQUNuQ0UsT0FBT0MsR0FBRyxDQUFDRSxDQUFDLEdBQUdKLEtBQUssQ0FBRUQsY0FBYyxFQUFHO0lBQ3ZDRSxPQUFPQyxHQUFHLENBQUNHLENBQUMsR0FBR0wsS0FBSyxDQUFFRCxjQUFjLEVBQUc7SUFFdkNFLE9BQU9LLEdBQUcsQ0FBQ0gsQ0FBQyxHQUFHSCxLQUFLLENBQUVELGNBQWMsRUFBRztJQUN2Q0UsT0FBT0ssR0FBRyxDQUFDRixDQUFDLEdBQUdKLEtBQUssQ0FBRUQsY0FBYyxFQUFHO0lBQ3ZDRSxPQUFPSyxHQUFHLENBQUNELENBQUMsR0FBR0wsS0FBSyxDQUFFRCxjQUFjLEVBQUc7SUFFdkMsT0FBT0U7QUFFUjtBQUVPLFNBQVNNLGdCQUFpQk4sTUFBTTtJQUV0Q0EsTUFBTSxDQUFFLEVBQUcsR0FBR0EsTUFBTSxDQUFFLEVBQUcsR0FBR0EsTUFBTSxDQUFFLEVBQUcsR0FBR087SUFDMUNQLE1BQU0sQ0FBRSxFQUFHLEdBQUdBLE1BQU0sQ0FBRSxFQUFHLEdBQUdBLE1BQU0sQ0FBRSxFQUFHLEdBQUcsQ0FBRU87QUFFN0M7QUFFTyxTQUFTQyxvQkFBcUJDLE1BQU07SUFFMUMsSUFBSUMsY0FBYyxDQUFFO0lBQ3BCLElBQUlDLFlBQVksQ0FBRUo7SUFFbEIsSUFBTSxJQUFJSyxJQUFJLEdBQUdBLElBQUksR0FBR0EsSUFBTztRQUU5QixNQUFNQyxPQUFPSixNQUFNLENBQUVHLElBQUksRUFBRyxHQUFHSCxNQUFNLENBQUVHLEVBQUc7UUFDMUMsSUFBS0MsT0FBT0YsV0FBWTtZQUV2QkEsWUFBWUU7WUFDWkgsY0FBY0U7UUFFZjtJQUVEO0lBRUEsT0FBT0Y7QUFFUjtBQUVBLGdDQUFnQztBQUN6QixTQUFTSSxXQUFZQyxNQUFNLEVBQUVmLE1BQU07SUFFekNBLE9BQU9nQixHQUFHLENBQUVEO0FBRWI7QUFFQSxvREFBb0Q7QUFDN0MsU0FBU0UsWUFBYUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVuQixNQUFNO0lBRXhDLElBQUlvQixNQUFNQztJQUNWLElBQU0sSUFBSUMsSUFBSSxHQUFHQSxJQUFJLEdBQUdBLElBQU87UUFFOUIsTUFBTUMsS0FBS0QsSUFBSTtRQUVmLHlCQUF5QjtRQUN6QkYsT0FBT0YsQ0FBQyxDQUFFSSxFQUFHO1FBQ2JELE9BQU9GLENBQUMsQ0FBRUcsRUFBRztRQUNidEIsTUFBTSxDQUFFc0IsRUFBRyxHQUFHRixPQUFPQyxPQUFPRCxPQUFPQztRQUVuQyxxQkFBcUI7UUFDckJELE9BQU9GLENBQUMsQ0FBRUssR0FBSTtRQUNkRixPQUFPRixDQUFDLENBQUVJLEdBQUk7UUFDZHZCLE1BQU0sQ0FBRXVCLEdBQUksR0FBR0gsT0FBT0MsT0FBT0QsT0FBT0M7SUFFckM7QUFFRDtBQUVBLDJEQUEyRDtBQUNwRCxTQUFTRyx1QkFBd0JDLFVBQVUsRUFBRUMsY0FBYyxFQUFFakIsTUFBTTtJQUV6RSxJQUFNLElBQUlhLElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFPO1FBRTlCLE1BQU1LLFVBQVVELGNBQWMsQ0FBRUQsYUFBYSxJQUFJSCxFQUFHO1FBQ3BELE1BQU1NLFFBQVFGLGNBQWMsQ0FBRUQsYUFBYSxJQUFJSCxJQUFJLEVBQUc7UUFFdEQsTUFBTU8sT0FBT0YsVUFBVUM7UUFDdkIsTUFBTUUsT0FBT0gsVUFBVUM7UUFFdkIsSUFBS0MsT0FBT3BCLE1BQU0sQ0FBRWEsRUFBRyxFQUFHO1lBRXpCYixNQUFNLENBQUVhLEVBQUcsR0FBR087UUFFZjtRQUVBLElBQUtDLE9BQU9yQixNQUFNLENBQUVhLElBQUksRUFBRyxFQUFHO1lBRTdCYixNQUFNLENBQUVhLElBQUksRUFBRyxHQUFHUTtRQUVuQjtJQUVEO0FBRUQ7QUFFQSw4QkFBOEI7QUFDdkIsU0FBU0MsbUJBQW9CdEIsTUFBTTtJQUV6QyxNQUFNdUIsS0FBS3ZCLE1BQU0sQ0FBRSxFQUFHLEdBQUdBLE1BQU0sQ0FBRSxFQUFHO0lBQ3BDLE1BQU13QixLQUFLeEIsTUFBTSxDQUFFLEVBQUcsR0FBR0EsTUFBTSxDQUFFLEVBQUc7SUFDcEMsTUFBTXlCLEtBQUt6QixNQUFNLENBQUUsRUFBRyxHQUFHQSxNQUFNLENBQUUsRUFBRztJQUVwQyxPQUFPLElBQU11QixDQUFBQSxLQUFLQyxLQUFLQSxLQUFLQyxLQUFLQSxLQUFLRixFQUFDO0FBRXhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy91dGlscy9BcnJheUJveFV0aWxpdGllcy5qcz9jMTczIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBhcnJheVRvQm94KCBub2RlSW5kZXgzMiwgYXJyYXksIHRhcmdldCApIHtcblxuXHR0YXJnZXQubWluLnggPSBhcnJheVsgbm9kZUluZGV4MzIgXTtcblx0dGFyZ2V0Lm1pbi55ID0gYXJyYXlbIG5vZGVJbmRleDMyICsgMSBdO1xuXHR0YXJnZXQubWluLnogPSBhcnJheVsgbm9kZUluZGV4MzIgKyAyIF07XG5cblx0dGFyZ2V0Lm1heC54ID0gYXJyYXlbIG5vZGVJbmRleDMyICsgMyBdO1xuXHR0YXJnZXQubWF4LnkgPSBhcnJheVsgbm9kZUluZGV4MzIgKyA0IF07XG5cdHRhcmdldC5tYXgueiA9IGFycmF5WyBub2RlSW5kZXgzMiArIDUgXTtcblxuXHRyZXR1cm4gdGFyZ2V0O1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRW1wdHlCb3VuZHMoIHRhcmdldCApIHtcblxuXHR0YXJnZXRbIDAgXSA9IHRhcmdldFsgMSBdID0gdGFyZ2V0WyAyIF0gPSBJbmZpbml0eTtcblx0dGFyZ2V0WyAzIF0gPSB0YXJnZXRbIDQgXSA9IHRhcmdldFsgNSBdID0gLSBJbmZpbml0eTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9uZ2VzdEVkZ2VJbmRleCggYm91bmRzICkge1xuXG5cdGxldCBzcGxpdERpbUlkeCA9IC0gMTtcblx0bGV0IHNwbGl0RGlzdCA9IC0gSW5maW5pdHk7XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcblxuXHRcdGNvbnN0IGRpc3QgPSBib3VuZHNbIGkgKyAzIF0gLSBib3VuZHNbIGkgXTtcblx0XHRpZiAoIGRpc3QgPiBzcGxpdERpc3QgKSB7XG5cblx0XHRcdHNwbGl0RGlzdCA9IGRpc3Q7XG5cdFx0XHRzcGxpdERpbUlkeCA9IGk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBzcGxpdERpbUlkeDtcblxufVxuXG4vLyBjb3BpZXMgYm91bmRzIGEgaW50byBib3VuZHMgYlxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlCb3VuZHMoIHNvdXJjZSwgdGFyZ2V0ICkge1xuXG5cdHRhcmdldC5zZXQoIHNvdXJjZSApO1xuXG59XG5cbi8vIHNldHMgYm91bmRzIHRhcmdldCB0byB0aGUgdW5pb24gb2YgYm91bmRzIGEgYW5kIGJcbmV4cG9ydCBmdW5jdGlvbiB1bmlvbkJvdW5kcyggYSwgYiwgdGFyZ2V0ICkge1xuXG5cdGxldCBhVmFsLCBiVmFsO1xuXHRmb3IgKCBsZXQgZCA9IDA7IGQgPCAzOyBkICsrICkge1xuXG5cdFx0Y29uc3QgZDMgPSBkICsgMztcblxuXHRcdC8vIHNldCB0aGUgbWluaW11bSB2YWx1ZXNcblx0XHRhVmFsID0gYVsgZCBdO1xuXHRcdGJWYWwgPSBiWyBkIF07XG5cdFx0dGFyZ2V0WyBkIF0gPSBhVmFsIDwgYlZhbCA/IGFWYWwgOiBiVmFsO1xuXG5cdFx0Ly8gc2V0IHRoZSBtYXggdmFsdWVzXG5cdFx0YVZhbCA9IGFbIGQzIF07XG5cdFx0YlZhbCA9IGJbIGQzIF07XG5cdFx0dGFyZ2V0WyBkMyBdID0gYVZhbCA+IGJWYWwgPyBhVmFsIDogYlZhbDtcblxuXHR9XG5cbn1cblxuLy8gZXhwYW5kcyB0aGUgZ2l2ZW4gYm91bmRzIGJ5IHRoZSBwcm92aWRlZCB0cmlhbmdsZSBib3VuZHNcbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRCeVRyaWFuZ2xlQm91bmRzKCBzdGFydEluZGV4LCB0cmlhbmdsZUJvdW5kcywgYm91bmRzICkge1xuXG5cdGZvciAoIGxldCBkID0gMDsgZCA8IDM7IGQgKysgKSB7XG5cblx0XHRjb25zdCB0Q2VudGVyID0gdHJpYW5nbGVCb3VuZHNbIHN0YXJ0SW5kZXggKyAyICogZCBdO1xuXHRcdGNvbnN0IHRIYWxmID0gdHJpYW5nbGVCb3VuZHNbIHN0YXJ0SW5kZXggKyAyICogZCArIDEgXTtcblxuXHRcdGNvbnN0IHRNaW4gPSB0Q2VudGVyIC0gdEhhbGY7XG5cdFx0Y29uc3QgdE1heCA9IHRDZW50ZXIgKyB0SGFsZjtcblxuXHRcdGlmICggdE1pbiA8IGJvdW5kc1sgZCBdICkge1xuXG5cdFx0XHRib3VuZHNbIGQgXSA9IHRNaW47XG5cblx0XHR9XG5cblx0XHRpZiAoIHRNYXggPiBib3VuZHNbIGQgKyAzIF0gKSB7XG5cblx0XHRcdGJvdW5kc1sgZCArIDMgXSA9IHRNYXg7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbi8vIGNvbXB1dGUgYm91bmRzIHN1cmZhY2UgYXJlYVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTdXJmYWNlQXJlYSggYm91bmRzICkge1xuXG5cdGNvbnN0IGQwID0gYm91bmRzWyAzIF0gLSBib3VuZHNbIDAgXTtcblx0Y29uc3QgZDEgPSBib3VuZHNbIDQgXSAtIGJvdW5kc1sgMSBdO1xuXHRjb25zdCBkMiA9IGJvdW5kc1sgNSBdIC0gYm91bmRzWyAyIF07XG5cblx0cmV0dXJuIDIgKiAoIGQwICogZDEgKyBkMSAqIGQyICsgZDIgKiBkMCApO1xuXG59XG4iXSwibmFtZXMiOlsiYXJyYXlUb0JveCIsIm5vZGVJbmRleDMyIiwiYXJyYXkiLCJ0YXJnZXQiLCJtaW4iLCJ4IiwieSIsInoiLCJtYXgiLCJtYWtlRW1wdHlCb3VuZHMiLCJJbmZpbml0eSIsImdldExvbmdlc3RFZGdlSW5kZXgiLCJib3VuZHMiLCJzcGxpdERpbUlkeCIsInNwbGl0RGlzdCIsImkiLCJkaXN0IiwiY29weUJvdW5kcyIsInNvdXJjZSIsInNldCIsInVuaW9uQm91bmRzIiwiYSIsImIiLCJhVmFsIiwiYlZhbCIsImQiLCJkMyIsImV4cGFuZEJ5VHJpYW5nbGVCb3VuZHMiLCJzdGFydEluZGV4IiwidHJpYW5nbGVCb3VuZHMiLCJ0Q2VudGVyIiwidEhhbGYiLCJ0TWluIiwidE1heCIsImNvbXB1dGVTdXJmYWNlQXJlYSIsImQwIiwiZDEiLCJkMiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/BufferUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/BufferUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertToBufferType: () => (/* binding */ convertToBufferType),\n/* harmony export */   isSharedArrayBufferSupported: () => (/* binding */ isSharedArrayBufferSupported)\n/* harmony export */ });\nfunction isSharedArrayBufferSupported() {\n    return typeof SharedArrayBuffer !== \"undefined\";\n}\nfunction convertToBufferType(array, BufferConstructor) {\n    if (array === null) {\n        return array;\n    } else if (array.buffer) {\n        const buffer = array.buffer;\n        if (buffer.constructor === BufferConstructor) {\n            return array;\n        }\n        const ArrayConstructor = array.constructor;\n        const result = new ArrayConstructor(new BufferConstructor(buffer.byteLength));\n        result.set(array);\n        return result;\n    } else {\n        if (array.constructor === BufferConstructor) {\n            return array;\n        }\n        const result = new BufferConstructor(array.byteLength);\n        new Uint8Array(result).set(new Uint8Array(array));\n        return result;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0J1ZmZlclV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sU0FBU0E7SUFFZixPQUFPLE9BQU9DLHNCQUFzQjtBQUVyQztBQUVPLFNBQVNDLG9CQUFxQkMsS0FBSyxFQUFFQyxpQkFBaUI7SUFFNUQsSUFBS0QsVUFBVSxNQUFPO1FBRXJCLE9BQU9BO0lBRVIsT0FBTyxJQUFLQSxNQUFNRSxNQUFNLEVBQUc7UUFFMUIsTUFBTUEsU0FBU0YsTUFBTUUsTUFBTTtRQUMzQixJQUFLQSxPQUFPQyxXQUFXLEtBQUtGLG1CQUFvQjtZQUUvQyxPQUFPRDtRQUVSO1FBRUEsTUFBTUksbUJBQW1CSixNQUFNRyxXQUFXO1FBQzFDLE1BQU1FLFNBQVMsSUFBSUQsaUJBQWtCLElBQUlILGtCQUFtQkMsT0FBT0ksVUFBVTtRQUM3RUQsT0FBT0UsR0FBRyxDQUFFUDtRQUNaLE9BQU9LO0lBRVIsT0FBTztRQUVOLElBQUtMLE1BQU1HLFdBQVcsS0FBS0YsbUJBQW9CO1lBRTlDLE9BQU9EO1FBRVI7UUFFQSxNQUFNSyxTQUFTLElBQUlKLGtCQUFtQkQsTUFBTU0sVUFBVTtRQUN0RCxJQUFJRSxXQUFZSCxRQUFTRSxHQUFHLENBQUUsSUFBSUMsV0FBWVI7UUFDOUMsT0FBT0s7SUFFUjtBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy91dGlscy9CdWZmZXJVdGlscy5qcz9iYTVjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc1NoYXJlZEFycmF5QnVmZmVyU3VwcG9ydGVkKCkge1xuXG5cdHJldHVybiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9CdWZmZXJUeXBlKCBhcnJheSwgQnVmZmVyQ29uc3RydWN0b3IgKSB7XG5cblx0aWYgKCBhcnJheSA9PT0gbnVsbCApIHtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9IGVsc2UgaWYgKCBhcnJheS5idWZmZXIgKSB7XG5cblx0XHRjb25zdCBidWZmZXIgPSBhcnJheS5idWZmZXI7XG5cdFx0aWYgKCBidWZmZXIuY29uc3RydWN0b3IgPT09IEJ1ZmZlckNvbnN0cnVjdG9yICkge1xuXG5cdFx0XHRyZXR1cm4gYXJyYXk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBBcnJheUNvbnN0cnVjdG9yID0gYXJyYXkuY29uc3RydWN0b3I7XG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IEFycmF5Q29uc3RydWN0b3IoIG5ldyBCdWZmZXJDb25zdHJ1Y3RvciggYnVmZmVyLmJ5dGVMZW5ndGggKSApO1xuXHRcdHJlc3VsdC5zZXQoIGFycmF5ICk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblxuXHR9IGVsc2Uge1xuXG5cdFx0aWYgKCBhcnJheS5jb25zdHJ1Y3RvciA9PT0gQnVmZmVyQ29uc3RydWN0b3IgKSB7XG5cblx0XHRcdHJldHVybiBhcnJheTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBCdWZmZXJDb25zdHJ1Y3RvciggYXJyYXkuYnl0ZUxlbmd0aCApO1xuXHRcdG5ldyBVaW50OEFycmF5KCByZXN1bHQgKS5zZXQoIG5ldyBVaW50OEFycmF5KCBhcnJheSApICk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblxuXHR9XG5cbn1cbiJdLCJuYW1lcyI6WyJpc1NoYXJlZEFycmF5QnVmZmVyU3VwcG9ydGVkIiwiU2hhcmVkQXJyYXlCdWZmZXIiLCJjb252ZXJ0VG9CdWZmZXJUeXBlIiwiYXJyYXkiLCJCdWZmZXJDb25zdHJ1Y3RvciIsImJ1ZmZlciIsImNvbnN0cnVjdG9yIiwiQXJyYXlDb25zdHJ1Y3RvciIsInJlc3VsdCIsImJ5dGVMZW5ndGgiLCJzZXQiLCJVaW50OEFycmF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/BufferUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtendedTrianglePool.js":
/*!***********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/ExtendedTrianglePool.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExtendedTrianglePool: () => (/* binding */ ExtendedTrianglePool)\n/* harmony export */ });\n/* harmony import */ var _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/ExtendedTriangle.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/math/ExtendedTriangle.js\");\n/* harmony import */ var _PrimitivePool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PrimitivePool.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/PrimitivePool.js\");\n\n\nclass ExtendedTrianglePoolBase extends _PrimitivePool_js__WEBPACK_IMPORTED_MODULE_0__.PrimitivePool {\n    constructor(){\n        super(()=>new _math_ExtendedTriangle_js__WEBPACK_IMPORTED_MODULE_1__.ExtendedTriangle());\n    }\n}\nconst ExtendedTrianglePool = /* @__PURE__ */ new ExtendedTrianglePoolBase();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0V4dGVuZGVkVHJpYW5nbGVQb29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRDtBQUNaO0FBRW5ELE1BQU1FLGlDQUFpQ0QsNERBQWFBO0lBRW5ERSxhQUFjO1FBRWIsS0FBSyxDQUFFLElBQU0sSUFBSUgsdUVBQWdCQTtJQUVsQztBQUVEO0FBRU8sTUFBTUksdUJBQXVCLGFBQWEsR0FBRyxJQUFJRiwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0V4dGVuZGVkVHJpYW5nbGVQb29sLmpzPzI2NzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXh0ZW5kZWRUcmlhbmdsZSB9IGZyb20gJy4uL21hdGgvRXh0ZW5kZWRUcmlhbmdsZS5qcyc7XG5pbXBvcnQgeyBQcmltaXRpdmVQb29sIH0gZnJvbSAnLi9QcmltaXRpdmVQb29sLmpzJztcblxuY2xhc3MgRXh0ZW5kZWRUcmlhbmdsZVBvb2xCYXNlIGV4dGVuZHMgUHJpbWl0aXZlUG9vbCB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHRzdXBlciggKCkgPT4gbmV3IEV4dGVuZGVkVHJpYW5nbGUoKSApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgY29uc3QgRXh0ZW5kZWRUcmlhbmdsZVBvb2wgPSAvKiBAX19QVVJFX18gKi8gbmV3IEV4dGVuZGVkVHJpYW5nbGVQb29sQmFzZSgpO1xuIl0sIm5hbWVzIjpbIkV4dGVuZGVkVHJpYW5nbGUiLCJQcmltaXRpdmVQb29sIiwiRXh0ZW5kZWRUcmlhbmdsZVBvb2xCYXNlIiwiY29uc3RydWN0b3IiLCJFeHRlbmRlZFRyaWFuZ2xlUG9vbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtendedTrianglePool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtensionUtilities.js":
/*!*********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/ExtensionUtilities.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   acceleratedRaycast: () => (/* binding */ acceleratedRaycast),\n/* harmony export */   computeBoundsTree: () => (/* binding */ computeBoundsTree),\n/* harmony export */   disposeBoundsTree: () => (/* binding */ disposeBoundsTree)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _GeometryRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GeometryRayIntersectUtilities.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/utils/GeometryRayIntersectUtilities.js\");\n/* harmony import */ var _core_MeshBVH_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/MeshBVH.js */ \"(ssr)/./node_modules/three-mesh-bvh/src/core/MeshBVH.js\");\n\n\n\nconst ray = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Ray();\nconst tmpInverseMatrix = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Matrix4();\nconst origMeshRaycastFunc = three__WEBPACK_IMPORTED_MODULE_0__.Mesh.prototype.raycast;\nfunction acceleratedRaycast(raycaster, intersects) {\n    if (this.geometry.boundsTree) {\n        if (this.material === undefined) return;\n        tmpInverseMatrix.copy(this.matrixWorld).invert();\n        ray.copy(raycaster.ray).applyMatrix4(tmpInverseMatrix);\n        const bvh = this.geometry.boundsTree;\n        if (raycaster.firstHitOnly === true) {\n            const hit = (0,_GeometryRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_1__.convertRaycastIntersect)(bvh.raycastFirst(ray, this.material), this, raycaster);\n            if (hit) {\n                intersects.push(hit);\n            }\n        } else {\n            const hits = bvh.raycast(ray, this.material);\n            for(let i = 0, l = hits.length; i < l; i++){\n                const hit = (0,_GeometryRayIntersectUtilities_js__WEBPACK_IMPORTED_MODULE_1__.convertRaycastIntersect)(hits[i], this, raycaster);\n                if (hit) {\n                    intersects.push(hit);\n                }\n            }\n        }\n    } else {\n        origMeshRaycastFunc.call(this, raycaster, intersects);\n    }\n}\nfunction computeBoundsTree(options) {\n    this.boundsTree = new _core_MeshBVH_js__WEBPACK_IMPORTED_MODULE_2__.MeshBVH(this, options);\n    return this.boundsTree;\n}\nfunction disposeBoundsTree() {\n    this.boundsTree = null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0V4dGVuc2lvblV0aWxpdGllcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDa0M7QUFDaEM7QUFFN0MsTUFBTUssTUFBTSxhQUFhLEdBQUcsSUFBSUwsc0NBQUdBO0FBQ25DLE1BQU1NLG1CQUFtQixhQUFhLEdBQUcsSUFBSUwsMENBQU9BO0FBQ3BELE1BQU1NLHNCQUFzQkwsdUNBQUlBLENBQUNNLFNBQVMsQ0FBQ0MsT0FBTztBQUUzQyxTQUFTQyxtQkFBb0JDLFNBQVMsRUFBRUMsVUFBVTtJQUV4RCxJQUFLLElBQUksQ0FBQ0MsUUFBUSxDQUFDQyxVQUFVLEVBQUc7UUFFL0IsSUFBSyxJQUFJLENBQUNDLFFBQVEsS0FBS0MsV0FBWTtRQUVuQ1YsaUJBQWlCVyxJQUFJLENBQUUsSUFBSSxDQUFDQyxXQUFXLEVBQUdDLE1BQU07UUFDaERkLElBQUlZLElBQUksQ0FBRU4sVUFBVU4sR0FBRyxFQUFHZSxZQUFZLENBQUVkO1FBRXhDLE1BQU1lLE1BQU0sSUFBSSxDQUFDUixRQUFRLENBQUNDLFVBQVU7UUFDcEMsSUFBS0gsVUFBVVcsWUFBWSxLQUFLLE1BQU87WUFFdEMsTUFBTUMsTUFBTXBCLDBGQUF1QkEsQ0FBRWtCLElBQUlHLFlBQVksQ0FBRW5CLEtBQUssSUFBSSxDQUFDVSxRQUFRLEdBQUksSUFBSSxFQUFFSjtZQUNuRixJQUFLWSxLQUFNO2dCQUVWWCxXQUFXYSxJQUFJLENBQUVGO1lBRWxCO1FBRUQsT0FBTztZQUVOLE1BQU1HLE9BQU9MLElBQUlaLE9BQU8sQ0FBRUosS0FBSyxJQUFJLENBQUNVLFFBQVE7WUFDNUMsSUFBTSxJQUFJWSxJQUFJLEdBQUdDLElBQUlGLEtBQUtHLE1BQU0sRUFBRUYsSUFBSUMsR0FBR0QsSUFBTztnQkFFL0MsTUFBTUosTUFBTXBCLDBGQUF1QkEsQ0FBRXVCLElBQUksQ0FBRUMsRUFBRyxFQUFFLElBQUksRUFBRWhCO2dCQUN0RCxJQUFLWSxLQUFNO29CQUVWWCxXQUFXYSxJQUFJLENBQUVGO2dCQUVsQjtZQUVEO1FBRUQ7SUFFRCxPQUFPO1FBRU5oQixvQkFBb0J1QixJQUFJLENBQUUsSUFBSSxFQUFFbkIsV0FBV0M7SUFFNUM7QUFFRDtBQUVPLFNBQVNtQixrQkFBbUJDLE9BQU87SUFFekMsSUFBSSxDQUFDbEIsVUFBVSxHQUFHLElBQUlWLHFEQUFPQSxDQUFFLElBQUksRUFBRTRCO0lBQ3JDLE9BQU8sSUFBSSxDQUFDbEIsVUFBVTtBQUV2QjtBQUVPLFNBQVNtQjtJQUVmLElBQUksQ0FBQ25CLFVBQVUsR0FBRztBQUVuQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvdXRpbHMvRXh0ZW5zaW9uVXRpbGl0aWVzLmpzPzQwYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmF5LCBNYXRyaXg0LCBNZXNoIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgY29udmVydFJheWNhc3RJbnRlcnNlY3QgfSBmcm9tICcuL0dlb21ldHJ5UmF5SW50ZXJzZWN0VXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IE1lc2hCVkggfSBmcm9tICcuLi9jb3JlL01lc2hCVkguanMnO1xuXG5jb25zdCByYXkgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJheSgpO1xuY29uc3QgdG1wSW52ZXJzZU1hdHJpeCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWF0cml4NCgpO1xuY29uc3Qgb3JpZ01lc2hSYXljYXN0RnVuYyA9IE1lc2gucHJvdG90eXBlLnJheWNhc3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2NlbGVyYXRlZFJheWNhc3QoIHJheWNhc3RlciwgaW50ZXJzZWN0cyApIHtcblxuXHRpZiAoIHRoaXMuZ2VvbWV0cnkuYm91bmRzVHJlZSApIHtcblxuXHRcdGlmICggdGhpcy5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuO1xuXG5cdFx0dG1wSW52ZXJzZU1hdHJpeC5jb3B5KCB0aGlzLm1hdHJpeFdvcmxkICkuaW52ZXJ0KCk7XG5cdFx0cmF5LmNvcHkoIHJheWNhc3Rlci5yYXkgKS5hcHBseU1hdHJpeDQoIHRtcEludmVyc2VNYXRyaXggKTtcblxuXHRcdGNvbnN0IGJ2aCA9IHRoaXMuZ2VvbWV0cnkuYm91bmRzVHJlZTtcblx0XHRpZiAoIHJheWNhc3Rlci5maXJzdEhpdE9ubHkgPT09IHRydWUgKSB7XG5cblx0XHRcdGNvbnN0IGhpdCA9IGNvbnZlcnRSYXljYXN0SW50ZXJzZWN0KCBidmgucmF5Y2FzdEZpcnN0KCByYXksIHRoaXMubWF0ZXJpYWwgKSwgdGhpcywgcmF5Y2FzdGVyICk7XG5cdFx0XHRpZiAoIGhpdCApIHtcblxuXHRcdFx0XHRpbnRlcnNlY3RzLnB1c2goIGhpdCApO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zdCBoaXRzID0gYnZoLnJheWNhc3QoIHJheSwgdGhpcy5tYXRlcmlhbCApO1xuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gaGl0cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IGhpdCA9IGNvbnZlcnRSYXljYXN0SW50ZXJzZWN0KCBoaXRzWyBpIF0sIHRoaXMsIHJheWNhc3RlciApO1xuXHRcdFx0XHRpZiAoIGhpdCApIHtcblxuXHRcdFx0XHRcdGludGVyc2VjdHMucHVzaCggaGl0ICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdG9yaWdNZXNoUmF5Y2FzdEZ1bmMuY2FsbCggdGhpcywgcmF5Y2FzdGVyLCBpbnRlcnNlY3RzICk7XG5cblx0fVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQm91bmRzVHJlZSggb3B0aW9ucyApIHtcblxuXHR0aGlzLmJvdW5kc1RyZWUgPSBuZXcgTWVzaEJWSCggdGhpcywgb3B0aW9ucyApO1xuXHRyZXR1cm4gdGhpcy5ib3VuZHNUcmVlO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwb3NlQm91bmRzVHJlZSgpIHtcblxuXHR0aGlzLmJvdW5kc1RyZWUgPSBudWxsO1xuXG59XG4iXSwibmFtZXMiOlsiUmF5IiwiTWF0cml4NCIsIk1lc2giLCJjb252ZXJ0UmF5Y2FzdEludGVyc2VjdCIsIk1lc2hCVkgiLCJyYXkiLCJ0bXBJbnZlcnNlTWF0cml4Iiwib3JpZ01lc2hSYXljYXN0RnVuYyIsInByb3RvdHlwZSIsInJheWNhc3QiLCJhY2NlbGVyYXRlZFJheWNhc3QiLCJyYXljYXN0ZXIiLCJpbnRlcnNlY3RzIiwiZ2VvbWV0cnkiLCJib3VuZHNUcmVlIiwibWF0ZXJpYWwiLCJ1bmRlZmluZWQiLCJjb3B5IiwibWF0cml4V29ybGQiLCJpbnZlcnQiLCJhcHBseU1hdHJpeDQiLCJidmgiLCJmaXJzdEhpdE9ubHkiLCJoaXQiLCJyYXljYXN0Rmlyc3QiLCJwdXNoIiwiaGl0cyIsImkiLCJsIiwibGVuZ3RoIiwiY2FsbCIsImNvbXB1dGVCb3VuZHNUcmVlIiwib3B0aW9ucyIsImRpc3Bvc2VCb3VuZHNUcmVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/ExtensionUtilities.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/GeometryRayIntersectUtilities.js":
/*!********************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/GeometryRayIntersectUtilities.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertRaycastIntersect: () => (/* binding */ convertRaycastIntersect)\n/* harmony export */ });\n// converts the given BVH raycast intersection to align with the three.js raycast\n// structure (include object, world space distance and point).\nfunction convertRaycastIntersect(hit, object, raycaster) {\n    if (hit === null) {\n        return null;\n    }\n    hit.point.applyMatrix4(object.matrixWorld);\n    hit.distance = hit.point.distanceTo(raycaster.ray.origin);\n    hit.object = object;\n    if (hit.distance < raycaster.near || hit.distance > raycaster.far) {\n        return null;\n    } else {\n        return hit;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0dlb21ldHJ5UmF5SW50ZXJzZWN0VXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRkFBaUY7QUFDakYsOERBQThEO0FBQ3ZELFNBQVNBLHdCQUF5QkMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLFNBQVM7SUFFOUQsSUFBS0YsUUFBUSxNQUFPO1FBRW5CLE9BQU87SUFFUjtJQUVBQSxJQUFJRyxLQUFLLENBQUNDLFlBQVksQ0FBRUgsT0FBT0ksV0FBVztJQUMxQ0wsSUFBSU0sUUFBUSxHQUFHTixJQUFJRyxLQUFLLENBQUNJLFVBQVUsQ0FBRUwsVUFBVU0sR0FBRyxDQUFDQyxNQUFNO0lBQ3pEVCxJQUFJQyxNQUFNLEdBQUdBO0lBRWIsSUFBS0QsSUFBSU0sUUFBUSxHQUFHSixVQUFVUSxJQUFJLElBQUlWLElBQUlNLFFBQVEsR0FBR0osVUFBVVMsR0FBRyxFQUFHO1FBRXBFLE9BQU87SUFFUixPQUFPO1FBRU4sT0FBT1g7SUFFUjtBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy91dGlscy9HZW9tZXRyeVJheUludGVyc2VjdFV0aWxpdGllcy5qcz8zNzBkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbnZlcnRzIHRoZSBnaXZlbiBCVkggcmF5Y2FzdCBpbnRlcnNlY3Rpb24gdG8gYWxpZ24gd2l0aCB0aGUgdGhyZWUuanMgcmF5Y2FzdFxuLy8gc3RydWN0dXJlIChpbmNsdWRlIG9iamVjdCwgd29ybGQgc3BhY2UgZGlzdGFuY2UgYW5kIHBvaW50KS5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UmF5Y2FzdEludGVyc2VjdCggaGl0LCBvYmplY3QsIHJheWNhc3RlciApIHtcblxuXHRpZiAoIGhpdCA9PT0gbnVsbCApIHtcblxuXHRcdHJldHVybiBudWxsO1xuXG5cdH1cblxuXHRoaXQucG9pbnQuYXBwbHlNYXRyaXg0KCBvYmplY3QubWF0cml4V29ybGQgKTtcblx0aGl0LmRpc3RhbmNlID0gaGl0LnBvaW50LmRpc3RhbmNlVG8oIHJheWNhc3Rlci5yYXkub3JpZ2luICk7XG5cdGhpdC5vYmplY3QgPSBvYmplY3Q7XG5cblx0aWYgKCBoaXQuZGlzdGFuY2UgPCByYXljYXN0ZXIubmVhciB8fCBoaXQuZGlzdGFuY2UgPiByYXljYXN0ZXIuZmFyICkge1xuXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0fSBlbHNlIHtcblxuXHRcdHJldHVybiBoaXQ7XG5cblx0fVxuXG59XG4iXSwibmFtZXMiOlsiY29udmVydFJheWNhc3RJbnRlcnNlY3QiLCJoaXQiLCJvYmplY3QiLCJyYXljYXN0ZXIiLCJwb2ludCIsImFwcGx5TWF0cml4NCIsIm1hdHJpeFdvcmxkIiwiZGlzdGFuY2UiLCJkaXN0YW5jZVRvIiwicmF5Iiwib3JpZ2luIiwibmVhciIsImZhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/GeometryRayIntersectUtilities.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/PrimitivePool.js":
/*!****************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/PrimitivePool.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrimitivePool: () => (/* binding */ PrimitivePool)\n/* harmony export */ });\nclass PrimitivePool {\n    constructor(getNewPrimitive){\n        this._getNewPrimitive = getNewPrimitive;\n        this._primitives = [];\n    }\n    getPrimitive() {\n        const primitives = this._primitives;\n        if (primitives.length === 0) {\n            return this._getNewPrimitive();\n        } else {\n            return primitives.pop();\n        }\n    }\n    releasePrimitive(primitive) {\n        this._primitives.push(primitive);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL1ByaW1pdGl2ZVBvb2wuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BO0lBRVpDLFlBQWFDLGVBQWUsQ0FBRztRQUU5QixJQUFJLENBQUNDLGdCQUFnQixHQUFHRDtRQUN4QixJQUFJLENBQUNFLFdBQVcsR0FBRyxFQUFFO0lBRXRCO0lBRUFDLGVBQWU7UUFFZCxNQUFNQyxhQUFhLElBQUksQ0FBQ0YsV0FBVztRQUNuQyxJQUFLRSxXQUFXQyxNQUFNLEtBQUssR0FBSTtZQUU5QixPQUFPLElBQUksQ0FBQ0osZ0JBQWdCO1FBRTdCLE9BQU87WUFFTixPQUFPRyxXQUFXRSxHQUFHO1FBRXRCO0lBRUQ7SUFFQUMsaUJBQWtCQyxTQUFTLEVBQUc7UUFFN0IsSUFBSSxDQUFDTixXQUFXLENBQUNPLElBQUksQ0FBRUQ7SUFFeEI7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvdXRpbHMvUHJpbWl0aXZlUG9vbC5qcz80OGZlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQcmltaXRpdmVQb29sIHtcblxuXHRjb25zdHJ1Y3RvciggZ2V0TmV3UHJpbWl0aXZlICkge1xuXG5cdFx0dGhpcy5fZ2V0TmV3UHJpbWl0aXZlID0gZ2V0TmV3UHJpbWl0aXZlO1xuXHRcdHRoaXMuX3ByaW1pdGl2ZXMgPSBbXTtcblxuXHR9XG5cblx0Z2V0UHJpbWl0aXZlKCkge1xuXG5cdFx0Y29uc3QgcHJpbWl0aXZlcyA9IHRoaXMuX3ByaW1pdGl2ZXM7XG5cdFx0aWYgKCBwcmltaXRpdmVzLmxlbmd0aCA9PT0gMCApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuX2dldE5ld1ByaW1pdGl2ZSgpO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmV0dXJuIHByaW1pdGl2ZXMucG9wKCk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJlbGVhc2VQcmltaXRpdmUoIHByaW1pdGl2ZSApIHtcblxuXHRcdHRoaXMuX3ByaW1pdGl2ZXMucHVzaCggcHJpbWl0aXZlICk7XG5cblx0fVxuXG59XG4iXSwibmFtZXMiOlsiUHJpbWl0aXZlUG9vbCIsImNvbnN0cnVjdG9yIiwiZ2V0TmV3UHJpbWl0aXZlIiwiX2dldE5ld1ByaW1pdGl2ZSIsIl9wcmltaXRpdmVzIiwiZ2V0UHJpbWl0aXZlIiwicHJpbWl0aXZlcyIsImxlbmd0aCIsInBvcCIsInJlbGVhc2VQcmltaXRpdmUiLCJwcmltaXRpdmUiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/PrimitivePool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/ThreeRayIntersectUtilities.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/ThreeRayIntersectUtilities.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intersectTri: () => (/* binding */ intersectTri)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\n// Ripped and modified From THREE.js Mesh raycast\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L115\nconst _vA = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _vB = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _vC = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _uvA = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\nconst _uvB = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\nconst _uvC = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\nconst _normalA = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _normalB = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _normalC = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst _intersectionPoint = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction checkIntersection(ray, pA, pB, pC, point, side) {\n    let intersect;\n    if (side === three__WEBPACK_IMPORTED_MODULE_0__.BackSide) {\n        intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n    } else {\n        intersect = ray.intersectTriangle(pA, pB, pC, side !== three__WEBPACK_IMPORTED_MODULE_0__.DoubleSide, point);\n    }\n    if (intersect === null) return null;\n    const distance = ray.origin.distanceTo(point);\n    return {\n        distance: distance,\n        point: point.clone()\n    };\n}\nfunction checkBufferGeometryIntersection(ray, position, normal, uv, uv1, a, b, c, side) {\n    _vA.fromBufferAttribute(position, a);\n    _vB.fromBufferAttribute(position, b);\n    _vC.fromBufferAttribute(position, c);\n    const intersection = checkIntersection(ray, _vA, _vB, _vC, _intersectionPoint, side);\n    if (intersection) {\n        if (uv) {\n            _uvA.fromBufferAttribute(uv, a);\n            _uvB.fromBufferAttribute(uv, b);\n            _uvC.fromBufferAttribute(uv, c);\n            intersection.uv = three__WEBPACK_IMPORTED_MODULE_0__.Triangle.getInterpolation(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new three__WEBPACK_IMPORTED_MODULE_0__.Vector2());\n        }\n        if (uv1) {\n            _uvA.fromBufferAttribute(uv1, a);\n            _uvB.fromBufferAttribute(uv1, b);\n            _uvC.fromBufferAttribute(uv1, c);\n            intersection.uv1 = three__WEBPACK_IMPORTED_MODULE_0__.Triangle.getInterpolation(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new three__WEBPACK_IMPORTED_MODULE_0__.Vector2());\n        }\n        if (normal) {\n            _normalA.fromBufferAttribute(normal, a);\n            _normalB.fromBufferAttribute(normal, b);\n            _normalC.fromBufferAttribute(normal, c);\n            intersection.normal = three__WEBPACK_IMPORTED_MODULE_0__.Triangle.getInterpolation(_intersectionPoint, _vA, _vB, _vC, _normalA, _normalB, _normalC, new three__WEBPACK_IMPORTED_MODULE_0__.Vector3());\n            if (intersection.normal.dot(ray.direction) > 0) {\n                intersection.normal.multiplyScalar(-1);\n            }\n        }\n        const face = {\n            a: a,\n            b: b,\n            c: c,\n            normal: new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(),\n            materialIndex: 0\n        };\n        three__WEBPACK_IMPORTED_MODULE_0__.Triangle.getNormal(_vA, _vB, _vC, face.normal);\n        intersection.face = face;\n        intersection.faceIndex = a;\n    }\n    return intersection;\n}\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L258\nfunction intersectTri(geo, side, ray, tri, intersections) {\n    const triOffset = tri * 3;\n    let a = triOffset + 0;\n    let b = triOffset + 1;\n    let c = triOffset + 2;\n    const index = geo.index;\n    if (geo.index) {\n        a = index.getX(a);\n        b = index.getX(b);\n        c = index.getX(c);\n    }\n    const { position, normal, uv, uv1 } = geo.attributes;\n    const intersection = checkBufferGeometryIntersection(ray, position, normal, uv, uv1, a, b, c, side);\n    if (intersection) {\n        intersection.faceIndex = tri;\n        if (intersections) intersections.push(intersection);\n        return intersection;\n    }\n    return null;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL1RocmVlUmF5SW50ZXJzZWN0VXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlFO0FBRXpFLGlEQUFpRDtBQUNqRCw0R0FBNEc7QUFDNUcsTUFBTUssTUFBTSxhQUFhLEdBQUcsSUFBSUwsMENBQU9BO0FBQ3ZDLE1BQU1NLE1BQU0sYUFBYSxHQUFHLElBQUlOLDBDQUFPQTtBQUN2QyxNQUFNTyxNQUFNLGFBQWEsR0FBRyxJQUFJUCwwQ0FBT0E7QUFFdkMsTUFBTVEsT0FBTyxhQUFhLEdBQUcsSUFBSVAsMENBQU9BO0FBQ3hDLE1BQU1RLE9BQU8sYUFBYSxHQUFHLElBQUlSLDBDQUFPQTtBQUN4QyxNQUFNUyxPQUFPLGFBQWEsR0FBRyxJQUFJVCwwQ0FBT0E7QUFFeEMsTUFBTVUsV0FBVyxhQUFhLEdBQUcsSUFBSVgsMENBQU9BO0FBQzVDLE1BQU1ZLFdBQVcsYUFBYSxHQUFHLElBQUlaLDBDQUFPQTtBQUM1QyxNQUFNYSxXQUFXLGFBQWEsR0FBRyxJQUFJYiwwQ0FBT0E7QUFFNUMsTUFBTWMscUJBQXFCLGFBQWEsR0FBRyxJQUFJZCwwQ0FBT0E7QUFDdEQsU0FBU2Usa0JBQW1CQyxHQUFHLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEtBQUssRUFBRUMsSUFBSTtJQUV2RCxJQUFJQztJQUNKLElBQUtELFNBQVNqQiwyQ0FBUUEsRUFBRztRQUV4QmtCLFlBQVlOLElBQUlPLGlCQUFpQixDQUFFSixJQUFJRCxJQUFJRCxJQUFJLE1BQU1HO0lBRXRELE9BQU87UUFFTkUsWUFBWU4sSUFBSU8saUJBQWlCLENBQUVOLElBQUlDLElBQUlDLElBQUlFLFNBQVNsQiw2Q0FBVUEsRUFBRWlCO0lBRXJFO0lBRUEsSUFBS0UsY0FBYyxNQUFPLE9BQU87SUFFakMsTUFBTUUsV0FBV1IsSUFBSVMsTUFBTSxDQUFDQyxVQUFVLENBQUVOO0lBRXhDLE9BQU87UUFF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VCxnQ0FBaUNaLEtBQUthLFVBQVVDLFFBQVFDLElBQUlDLEtBQUtDLEdBQUdDLEdBQUdDLEdBQUdkO0lBRS9GLElBQUtnQixjQUFlO1FBRW5CQSxhQUFhUSxTQUFTLEdBQUdHO1FBQ3pCLElBQUtDLGVBQWdCQSxjQUFjSyxJQUFJLENBQUVqQjtRQUN6QyxPQUFPQTtJQUVSO0lBRUEsT0FBTztBQUVSO0FBRXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy91dGlscy9UaHJlZVJheUludGVyc2VjdFV0aWxpdGllcy5qcz8xNmU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlY3RvcjMsIFZlY3RvcjIsIFRyaWFuZ2xlLCBEb3VibGVTaWRlLCBCYWNrU2lkZSB9IGZyb20gJ3RocmVlJztcblxuLy8gUmlwcGVkIGFuZCBtb2RpZmllZCBGcm9tIFRIUkVFLmpzIE1lc2ggcmF5Y2FzdFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iLzBhYTg3Yzk5OWZlNjFlMjE2YzExMzNmYmE3YTk1NzcyYjUwM2VkZGYvc3JjL29iamVjdHMvTWVzaC5qcyNMMTE1XG5jb25zdCBfdkEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF92QiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ZDID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5cbmNvbnN0IF91dkEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcbmNvbnN0IF91dkIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcbmNvbnN0IF91dkMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcblxuY29uc3QgX25vcm1hbEEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9ub3JtYWxCID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsQyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfaW50ZXJzZWN0aW9uUG9pbnQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcbmZ1bmN0aW9uIGNoZWNrSW50ZXJzZWN0aW9uKCByYXksIHBBLCBwQiwgcEMsIHBvaW50LCBzaWRlICkge1xuXG5cdGxldCBpbnRlcnNlY3Q7XG5cdGlmICggc2lkZSA9PT0gQmFja1NpZGUgKSB7XG5cblx0XHRpbnRlcnNlY3QgPSByYXkuaW50ZXJzZWN0VHJpYW5nbGUoIHBDLCBwQiwgcEEsIHRydWUsIHBvaW50ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdGludGVyc2VjdCA9IHJheS5pbnRlcnNlY3RUcmlhbmdsZSggcEEsIHBCLCBwQywgc2lkZSAhPT0gRG91YmxlU2lkZSwgcG9pbnQgKTtcblxuXHR9XG5cblx0aWYgKCBpbnRlcnNlY3QgPT09IG51bGwgKSByZXR1cm4gbnVsbDtcblxuXHRjb25zdCBkaXN0YW5jZSA9IHJheS5vcmlnaW4uZGlzdGFuY2VUbyggcG9pbnQgKTtcblxuXHRyZXR1cm4ge1xuXG5cdFx0ZGlzdGFuY2U6IGRpc3RhbmNlLFxuXHRcdHBvaW50OiBwb2ludC5jbG9uZSgpLFxuXG5cdH07XG5cbn1cblxuZnVuY3Rpb24gY2hlY2tCdWZmZXJHZW9tZXRyeUludGVyc2VjdGlvbiggcmF5LCBwb3NpdGlvbiwgbm9ybWFsLCB1diwgdXYxLCBhLCBiLCBjLCBzaWRlICkge1xuXG5cdF92QS5mcm9tQnVmZmVyQXR0cmlidXRlKCBwb3NpdGlvbiwgYSApO1xuXHRfdkIuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggcG9zaXRpb24sIGIgKTtcblx0X3ZDLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc2l0aW9uLCBjICk7XG5cblx0Y29uc3QgaW50ZXJzZWN0aW9uID0gY2hlY2tJbnRlcnNlY3Rpb24oIHJheSwgX3ZBLCBfdkIsIF92QywgX2ludGVyc2VjdGlvblBvaW50LCBzaWRlICk7XG5cblx0aWYgKCBpbnRlcnNlY3Rpb24gKSB7XG5cblx0XHRpZiAoIHV2ICkge1xuXG5cdFx0XHRfdXZBLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHV2LCBhICk7XG5cdFx0XHRfdXZCLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHV2LCBiICk7XG5cdFx0XHRfdXZDLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHV2LCBjICk7XG5cblx0XHRcdGludGVyc2VjdGlvbi51diA9IFRyaWFuZ2xlLmdldEludGVycG9sYXRpb24oIF9pbnRlcnNlY3Rpb25Qb2ludCwgX3ZBLCBfdkIsIF92QywgX3V2QSwgX3V2QiwgX3V2QywgbmV3IFZlY3RvcjIoKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB1djEgKSB7XG5cblx0XHRcdF91dkEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggdXYxLCBhICk7XG5cdFx0XHRfdXZCLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHV2MSwgYiApO1xuXHRcdFx0X3V2Qy5mcm9tQnVmZmVyQXR0cmlidXRlKCB1djEsIGMgKTtcblxuXHRcdFx0aW50ZXJzZWN0aW9uLnV2MSA9IFRyaWFuZ2xlLmdldEludGVycG9sYXRpb24oIF9pbnRlcnNlY3Rpb25Qb2ludCwgX3ZBLCBfdkIsIF92QywgX3V2QSwgX3V2QiwgX3V2QywgbmV3IFZlY3RvcjIoKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBub3JtYWwgKSB7XG5cblx0XHRcdF9ub3JtYWxBLmZyb21CdWZmZXJBdHRyaWJ1dGUoIG5vcm1hbCwgYSApO1xuXHRcdFx0X25vcm1hbEIuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggbm9ybWFsLCBiICk7XG5cdFx0XHRfbm9ybWFsQy5mcm9tQnVmZmVyQXR0cmlidXRlKCBub3JtYWwsIGMgKTtcblxuXHRcdFx0aW50ZXJzZWN0aW9uLm5vcm1hbCA9IFRyaWFuZ2xlLmdldEludGVycG9sYXRpb24oIF9pbnRlcnNlY3Rpb25Qb2ludCwgX3ZBLCBfdkIsIF92QywgX25vcm1hbEEsIF9ub3JtYWxCLCBfbm9ybWFsQywgbmV3IFZlY3RvcjMoKSApO1xuXHRcdFx0aWYgKCBpbnRlcnNlY3Rpb24ubm9ybWFsLmRvdCggcmF5LmRpcmVjdGlvbiApID4gMCApIHtcblxuXHRcdFx0XHRpbnRlcnNlY3Rpb24ubm9ybWFsLm11bHRpcGx5U2NhbGFyKCAtIDEgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZmFjZSA9IHtcblx0XHRcdGE6IGEsXG5cdFx0XHRiOiBiLFxuXHRcdFx0YzogYyxcblx0XHRcdG5vcm1hbDogbmV3IFZlY3RvcjMoKSxcblx0XHRcdG1hdGVyaWFsSW5kZXg6IDBcblx0XHR9O1xuXG5cdFx0VHJpYW5nbGUuZ2V0Tm9ybWFsKCBfdkEsIF92QiwgX3ZDLCBmYWNlLm5vcm1hbCApO1xuXG5cdFx0aW50ZXJzZWN0aW9uLmZhY2UgPSBmYWNlO1xuXHRcdGludGVyc2VjdGlvbi5mYWNlSW5kZXggPSBhO1xuXG5cdH1cblxuXHRyZXR1cm4gaW50ZXJzZWN0aW9uO1xuXG59XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi8wYWE4N2M5OTlmZTYxZTIxNmMxMTMzZmJhN2E5NTc3MmI1MDNlZGRmL3NyYy9vYmplY3RzL01lc2guanMjTDI1OFxuZnVuY3Rpb24gaW50ZXJzZWN0VHJpKCBnZW8sIHNpZGUsIHJheSwgdHJpLCBpbnRlcnNlY3Rpb25zICkge1xuXG5cdGNvbnN0IHRyaU9mZnNldCA9IHRyaSAqIDM7XG5cdGxldCBhID0gdHJpT2Zmc2V0ICsgMDtcblx0bGV0IGIgPSB0cmlPZmZzZXQgKyAxO1xuXHRsZXQgYyA9IHRyaU9mZnNldCArIDI7XG5cblx0Y29uc3QgaW5kZXggPSBnZW8uaW5kZXg7XG5cdGlmICggZ2VvLmluZGV4ICkge1xuXG5cdFx0YSA9IGluZGV4LmdldFgoIGEgKTtcblx0XHRiID0gaW5kZXguZ2V0WCggYiApO1xuXHRcdGMgPSBpbmRleC5nZXRYKCBjICk7XG5cblx0fVxuXG5cdGNvbnN0IHsgcG9zaXRpb24sIG5vcm1hbCwgdXYsIHV2MSB9ID0gZ2VvLmF0dHJpYnV0ZXM7XG5cdGNvbnN0IGludGVyc2VjdGlvbiA9IGNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24oIHJheSwgcG9zaXRpb24sIG5vcm1hbCwgdXYsIHV2MSwgYSwgYiwgYywgc2lkZSApO1xuXG5cdGlmICggaW50ZXJzZWN0aW9uICkge1xuXG5cdFx0aW50ZXJzZWN0aW9uLmZhY2VJbmRleCA9IHRyaTtcblx0XHRpZiAoIGludGVyc2VjdGlvbnMgKSBpbnRlcnNlY3Rpb25zLnB1c2goIGludGVyc2VjdGlvbiApO1xuXHRcdHJldHVybiBpbnRlcnNlY3Rpb247XG5cblx0fVxuXG5cdHJldHVybiBudWxsO1xuXG59XG5cbmV4cG9ydCB7IGludGVyc2VjdFRyaSB9O1xuIl0sIm5hbWVzIjpbIlZlY3RvcjMiLCJWZWN0b3IyIiwiVHJpYW5nbGUiLCJEb3VibGVTaWRlIiwiQmFja1NpZGUiLCJfdkEiLCJfdkIiLCJfdkMiLCJfdXZBIiwiX3V2QiIsIl91dkMiLCJfbm9ybWFsQSIsIl9ub3JtYWxCIiwiX25vcm1hbEMiLCJfaW50ZXJzZWN0aW9uUG9pbnQiLCJjaGVja0ludGVyc2VjdGlvbiIsInJheSIsInBBIiwicEIiLCJwQyIsInBvaW50Iiwic2lkZSIsImludGVyc2VjdCIsImludGVyc2VjdFRyaWFuZ2xlIiwiZGlzdGFuY2UiLCJvcmlnaW4iLCJkaXN0YW5jZVRvIiwiY2xvbmUiLCJjaGVja0J1ZmZlckdlb21ldHJ5SW50ZXJzZWN0aW9uIiwicG9zaXRpb24iLCJub3JtYWwiLCJ1diIsInV2MSIsImEiLCJiIiwiYyIsImZyb21CdWZmZXJBdHRyaWJ1dGUiLCJpbnRlcnNlY3Rpb24iLCJnZXRJbnRlcnBvbGF0aW9uIiwiZG90IiwiZGlyZWN0aW9uIiwibXVsdGlwbHlTY2FsYXIiLCJmYWNlIiwibWF0ZXJpYWxJbmRleCIsImdldE5vcm1hbCIsImZhY2VJbmRleCIsImludGVyc2VjdFRyaSIsImdlbyIsInRyaSIsImludGVyc2VjdGlvbnMiLCJ0cmlPZmZzZXQiLCJpbmRleCIsImdldFgiLCJhdHRyaWJ1dGVzIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/ThreeRayIntersectUtilities.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js":
/*!********************************************************************!*\
  !*** ./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTriangleHitPointInfo: () => (/* binding */ getTriangleHitPointInfo),\n/* harmony export */   setTriangle: () => (/* binding */ setTriangle)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\n// sets the vertices of triangle `tri` with the 3 vertices after i\nfunction setTriangle(tri, i, index, pos) {\n    const ta = tri.a;\n    const tb = tri.b;\n    const tc = tri.c;\n    let i0 = i;\n    let i1 = i + 1;\n    let i2 = i + 2;\n    if (index) {\n        i0 = index.getX(i0);\n        i1 = index.getX(i1);\n        i2 = index.getX(i2);\n    }\n    ta.x = pos.getX(i0);\n    ta.y = pos.getY(i0);\n    ta.z = pos.getZ(i0);\n    tb.x = pos.getX(i1);\n    tb.y = pos.getY(i1);\n    tb.z = pos.getZ(i1);\n    tc.x = pos.getX(i2);\n    tc.y = pos.getY(i2);\n    tc.z = pos.getZ(i2);\n}\nconst tempV1 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst tempV2 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst tempV3 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nconst tempUV1 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\nconst tempUV2 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\nconst tempUV3 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\nfunction getTriangleHitPointInfo(point, geometry, triangleIndex, target) {\n    const indices = geometry.getIndex().array;\n    const positions = geometry.getAttribute(\"position\");\n    const uvs = geometry.getAttribute(\"uv\");\n    const a = indices[triangleIndex * 3];\n    const b = indices[triangleIndex * 3 + 1];\n    const c = indices[triangleIndex * 3 + 2];\n    tempV1.fromBufferAttribute(positions, a);\n    tempV2.fromBufferAttribute(positions, b);\n    tempV3.fromBufferAttribute(positions, c);\n    // find the associated material index\n    let materialIndex = 0;\n    const groups = geometry.groups;\n    const firstVertexIndex = triangleIndex * 3;\n    for(let i = 0, l = groups.length; i < l; i++){\n        const group = groups[i];\n        const { start, count } = group;\n        if (firstVertexIndex >= start && firstVertexIndex < start + count) {\n            materialIndex = group.materialIndex;\n            break;\n        }\n    }\n    // extract uvs\n    let uv = null;\n    if (uvs) {\n        tempUV1.fromBufferAttribute(uvs, a);\n        tempUV2.fromBufferAttribute(uvs, b);\n        tempUV3.fromBufferAttribute(uvs, c);\n        if (target && target.uv) uv = target.uv;\n        else uv = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();\n        three__WEBPACK_IMPORTED_MODULE_0__.Triangle.getInterpolation(point, tempV1, tempV2, tempV3, tempUV1, tempUV2, tempUV3, uv);\n    }\n    // adjust the provided target or create a new one\n    if (target) {\n        if (!target.face) target.face = {};\n        target.face.a = a;\n        target.face.b = b;\n        target.face.c = c;\n        target.face.materialIndex = materialIndex;\n        if (!target.face.normal) target.face.normal = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n        three__WEBPACK_IMPORTED_MODULE_0__.Triangle.getNormal(tempV1, tempV2, tempV3, target.face.normal);\n        if (uv) target.uv = uv;\n        return target;\n    } else {\n        return {\n            face: {\n                a: a,\n                b: b,\n                c: c,\n                materialIndex: materialIndex,\n                normal: three__WEBPACK_IMPORTED_MODULE_0__.Triangle.getNormal(tempV1, tempV2, tempV3, new three__WEBPACK_IMPORTED_MODULE_0__.Vector3())\n            },\n            uv: uv\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL1RyaWFuZ2xlVXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUNtRDtBQUVuRCxrRUFBa0U7QUFDM0QsU0FBU0csWUFBYUMsR0FBRyxFQUFFQyxDQUFDLEVBQUVDLEtBQUssRUFBRUMsR0FBRztJQUU5QyxNQUFNQyxLQUFLSixJQUFJSyxDQUFDO0lBQ2hCLE1BQU1DLEtBQUtOLElBQUlPLENBQUM7SUFDaEIsTUFBTUMsS0FBS1IsSUFBSVMsQ0FBQztJQUVoQixJQUFJQyxLQUFLVDtJQUNULElBQUlVLEtBQUtWLElBQUk7SUFDYixJQUFJVyxLQUFLWCxJQUFJO0lBQ2IsSUFBS0MsT0FBUTtRQUVaUSxLQUFLUixNQUFNVyxJQUFJLENBQUVIO1FBQ2pCQyxLQUFLVCxNQUFNVyxJQUFJLENBQUVGO1FBQ2pCQyxLQUFLVixNQUFNVyxJQUFJLENBQUVEO0lBRWxCO0lBRUFSLEdBQUdVLENBQUMsR0FBR1gsSUFBSVUsSUFBSSxDQUFFSDtJQUNqQk4sR0FBR1csQ0FBQyxHQUFHWixJQUFJYSxJQUFJLENBQUVOO0lBQ2pCTixHQUFHYSxDQUFDLEdBQUdkLElBQUllLElBQUksQ0FBRVI7SUFFakJKLEdBQUdRLENBQUMsR0FBR1gsSUFBSVUsSUFBSSxDQUFFRjtJQUNqQkwsR0FBR1MsQ0FBQyxHQUFHWixJQUFJYSxJQUFJLENBQUVMO0lBQ2pCTCxHQUFHVyxDQUFDLEdBQUdkLElBQUllLElBQUksQ0FBRVA7SUFFakJILEdBQUdNLENBQUMsR0FBR1gsSUFBSVUsSUFBSSxDQUFFRDtJQUNqQkosR0FBR08sQ0FBQyxHQUFHWixJQUFJYSxJQUFJLENBQUVKO0lBQ2pCSixHQUFHUyxDQUFDLEdBQUdkLElBQUllLElBQUksQ0FBRU47QUFFbEI7QUFFQSxNQUFNTyxTQUFTLGFBQWEsR0FBRyxJQUFJdEIsMENBQU9BO0FBQzFDLE1BQU11QixTQUFTLGFBQWEsR0FBRyxJQUFJdkIsMENBQU9BO0FB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UUFBUSxJQUFJeEIsMENBQU9BO1lBQ2hFO1lBQ0FnRCxJQUFJQTtRQUNMO0lBRUQ7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvdXRpbHMvVHJpYW5nbGVVdGlsaXRpZXMuanM/YmI1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFRyaWFuZ2xlIH0gZnJvbSAndGhyZWUnO1xuXG4vLyBzZXRzIHRoZSB2ZXJ0aWNlcyBvZiB0cmlhbmdsZSBgdHJpYCB3aXRoIHRoZSAzIHZlcnRpY2VzIGFmdGVyIGlcbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmlhbmdsZSggdHJpLCBpLCBpbmRleCwgcG9zICkge1xuXG5cdGNvbnN0IHRhID0gdHJpLmE7XG5cdGNvbnN0IHRiID0gdHJpLmI7XG5cdGNvbnN0IHRjID0gdHJpLmM7XG5cblx0bGV0IGkwID0gaTtcblx0bGV0IGkxID0gaSArIDE7XG5cdGxldCBpMiA9IGkgKyAyO1xuXHRpZiAoIGluZGV4ICkge1xuXG5cdFx0aTAgPSBpbmRleC5nZXRYKCBpMCApO1xuXHRcdGkxID0gaW5kZXguZ2V0WCggaTEgKTtcblx0XHRpMiA9IGluZGV4LmdldFgoIGkyICk7XG5cblx0fVxuXG5cdHRhLnggPSBwb3MuZ2V0WCggaTAgKTtcblx0dGEueSA9IHBvcy5nZXRZKCBpMCApO1xuXHR0YS56ID0gcG9zLmdldFooIGkwICk7XG5cblx0dGIueCA9IHBvcy5nZXRYKCBpMSApO1xuXHR0Yi55ID0gcG9zLmdldFkoIGkxICk7XG5cdHRiLnogPSBwb3MuZ2V0WiggaTEgKTtcblxuXHR0Yy54ID0gcG9zLmdldFgoIGkyICk7XG5cdHRjLnkgPSBwb3MuZ2V0WSggaTIgKTtcblx0dGMueiA9IHBvcy5nZXRaKCBpMiApO1xuXG59XG5cbmNvbnN0IHRlbXBWMSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgdGVtcFYyID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCB0ZW1wVjMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IHRlbXBVVjEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcbmNvbnN0IHRlbXBVVjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcbmNvbnN0IHRlbXBVVjMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyaWFuZ2xlSGl0UG9pbnRJbmZvKCBwb2ludCwgZ2VvbWV0cnksIHRyaWFuZ2xlSW5kZXgsIHRhcmdldCApIHtcblxuXHRjb25zdCBpbmRpY2VzID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKS5hcnJheTtcblx0Y29uc3QgcG9zaXRpb25zID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCAncG9zaXRpb24nICk7XG5cdGNvbnN0IHV2cyA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSggJ3V2JyApO1xuXG5cdGNvbnN0IGEgPSBpbmRpY2VzWyB0cmlhbmdsZUluZGV4ICogMyBdO1xuXHRjb25zdCBiID0gaW5kaWNlc1sgdHJpYW5nbGVJbmRleCAqIDMgKyAxIF07XG5cdGNvbnN0IGMgPSBpbmRpY2VzWyB0cmlhbmdsZUluZGV4ICogMyArIDIgXTtcblxuXHR0ZW1wVjEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggcG9zaXRpb25zLCBhICk7XG5cdHRlbXBWMi5mcm9tQnVmZmVyQXR0cmlidXRlKCBwb3NpdGlvbnMsIGIgKTtcblx0dGVtcFYzLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc2l0aW9ucywgYyApO1xuXG5cdC8vIGZpbmQgdGhlIGFzc29jaWF0ZWQgbWF0ZXJpYWwgaW5kZXhcblx0bGV0IG1hdGVyaWFsSW5kZXggPSAwO1xuXHRjb25zdCBncm91cHMgPSBnZW9tZXRyeS5ncm91cHM7XG5cdGNvbnN0IGZpcnN0VmVydGV4SW5kZXggPSB0cmlhbmdsZUluZGV4ICogMztcblx0Zm9yICggbGV0IGkgPSAwLCBsID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRjb25zdCBncm91cCA9IGdyb3Vwc1sgaSBdO1xuXHRcdGNvbnN0IHsgc3RhcnQsIGNvdW50IH0gPSBncm91cDtcblx0XHRpZiAoIGZpcnN0VmVydGV4SW5kZXggPj0gc3RhcnQgJiYgZmlyc3RWZXJ0ZXhJbmRleCA8IHN0YXJ0ICsgY291bnQgKSB7XG5cblx0XHRcdG1hdGVyaWFsSW5kZXggPSBncm91cC5tYXRlcmlhbEluZGV4O1xuXHRcdFx0YnJlYWs7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vIGV4dHJhY3QgdXZzXG5cdGxldCB1diA9IG51bGw7XG5cdGlmICggdXZzICkge1xuXG5cdFx0dGVtcFVWMS5mcm9tQnVmZmVyQXR0cmlidXRlKCB1dnMsIGEgKTtcblx0XHR0ZW1wVVYyLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHV2cywgYiApO1xuXHRcdHRlbXBVVjMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggdXZzLCBjICk7XG5cblx0XHRpZiAoIHRhcmdldCAmJiB0YXJnZXQudXYgKSB1diA9IHRhcmdldC51djtcblx0XHRlbHNlIHV2ID0gbmV3IFZlY3RvcjIoKTtcblxuXHRcdFRyaWFuZ2xlLmdldEludGVycG9sYXRpb24oIHBvaW50LCB0ZW1wVjEsIHRlbXBWMiwgdGVtcFYzLCB0ZW1wVVYxLCB0ZW1wVVYyLCB0ZW1wVVYzLCB1diApO1xuXG5cdH1cblxuXHQvLyBhZGp1c3QgdGhlIHByb3ZpZGVkIHRhcmdldCBvciBjcmVhdGUgYSBuZXcgb25lXG5cdGlmICggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCAhIHRhcmdldC5mYWNlICkgdGFyZ2V0LmZhY2UgPSB7IH07XG5cdFx0dGFyZ2V0LmZhY2UuYSA9IGE7XG5cdFx0dGFyZ2V0LmZhY2UuYiA9IGI7XG5cdFx0dGFyZ2V0LmZhY2UuYyA9IGM7XG5cdFx0dGFyZ2V0LmZhY2UubWF0ZXJpYWxJbmRleCA9IG1hdGVyaWFsSW5kZXg7XG5cdFx0aWYgKCAhIHRhcmdldC5mYWNlLm5vcm1hbCApIHRhcmdldC5mYWNlLm5vcm1hbCA9IG5ldyBWZWN0b3IzKCk7XG5cdFx0VHJpYW5nbGUuZ2V0Tm9ybWFsKCB0ZW1wVjEsIHRlbXBWMiwgdGVtcFYzLCB0YXJnZXQuZmFjZS5ub3JtYWwgKTtcblxuXHRcdGlmICggdXYgKSB0YXJnZXQudXYgPSB1djtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cblx0fSBlbHNlIHtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRmYWNlOiB7XG5cdFx0XHRcdGE6IGEsXG5cdFx0XHRcdGI6IGIsXG5cdFx0XHRcdGM6IGMsXG5cdFx0XHRcdG1hdGVyaWFsSW5kZXg6IG1hdGVyaWFsSW5kZXgsXG5cdFx0XHRcdG5vcm1hbDogVHJpYW5nbGUuZ2V0Tm9ybWFsKCB0ZW1wVjEsIHRlbXBWMiwgdGVtcFYzLCBuZXcgVmVjdG9yMygpIClcblx0XHRcdH0sXG5cdFx0XHR1djogdXZcblx0XHR9O1xuXG5cdH1cblxufVxuIl0sIm5hbWVzIjpbIlZlY3RvcjIiLCJWZWN0b3IzIiwiVHJpYW5nbGUiLCJzZXRUcmlhbmdsZSIsInRyaSIsImkiLCJpbmRleCIsInBvcyIsInRhIiwiYSIsInRiIiwiYiIsInRjIiwiYyIsImkwIiwiaTEiLCJpMiIsImdldFgiLCJ4IiwieSIsImdldFkiLCJ6IiwiZ2V0WiIsInRlbXBWMSIsInRlbXBWMiIsInRlbXBWMyIsInRlbXBVVjEiLCJ0ZW1wVVYyIiwidGVtcFVWMyIsImdldFRyaWFuZ2xlSGl0UG9pbnRJbmZvIiwicG9pbnQiLCJnZW9tZXRyeSIsInRyaWFuZ2xlSW5kZXgiLCJ0YXJnZXQiLCJpbmRpY2VzIiwiZ2V0SW5kZXgiLCJhcnJheSIsInBvc2l0aW9ucyIsImdldEF0dHJpYnV0ZSIsInV2cyIsImZyb21CdWZmZXJBdHRyaWJ1dGUiLCJtYXRlcmlhbEluZGV4IiwiZ3JvdXBzIiwiZmlyc3RWZXJ0ZXhJbmRleCIsImwiLCJsZW5ndGgiLCJncm91cCIsInN0YXJ0IiwiY291bnQiLCJ1diIsImdldEludGVycG9sYXRpb24iLCJmYWNlIiwibm9ybWFsIiwiZ2V0Tm9ybWFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-mesh-bvh/src/utils/TriangleUtilities.js\n");

/***/ })

};
;